import"./lodash.335ded08.js";import{m as a}from"./vuex.cc7cb26e.js";import{n as m}from"./app.a57fc244.js";import"./@babel.2fb63f12.js";import"./@micro-zoe.c2e1472d.js";import"./jquery.659bc905.js";import"./localforage.45d87ef0.js";import"./markdown-it.7c5efbd6.js";import"./entities.797c3e49.js";import"./uc.micro.4d0617d5.js";import"./mdurl.6c31ac34.js";import"./linkify-it.afb42329.js";import"./punycode.64d7844d.js";import"./highlight.js.b91af88c.js";import"./markdown-it-link-attributes.e1d5d151.js";import"./@traptitech.dbce67c2.js";import"./katex.756172bd.js";import"./vue.6ce721e5.js";import"./openpgp_hi.15f91b1d.js";import"./axios.6ec123f8.js";import"./le5le-store.aa7d93fc.js";import"./vue-router.2d566cd7.js";import"./vue-clipboard2.b7f8142e.js";import"./clipboard.02a36be0.js";import"./view-design-hi.d7bac4dd.js";import"./vuedraggable.345db9fd.js";import"./sortablejs.ab995a42.js";import"./vue-resize-observer.d5f637d1.js";import"./element-sea.e850965b.js";import"./deepmerge.cecf392e.js";import"./resize-observer-polyfill.a2452442.js";import"./throttle-debounce.7c3948b2.js";import"./babel-helper-vue-jsx-merge-props.5ed215c3.js";import"./normalize-wheel.2a034b9f.js";import"./async-validator.078475eb.js";import"./babel-runtime.4773988a.js";import"./core-js.314b4a1d.js";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"setting-item submit"},[t.configLoad>0?r("Loading"):r("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleDatum,labelPosition:t.formLabelPosition,labelWidth:t.formLabelWidth},nativeOn:{submit:function(o){o.preventDefault()}}},[r("FormItem",{attrs:{label:"AGENT_ID",prop:"agent_id"}},[r("Input",{attrs:{placeholder:t.$L("\u8F93\u5165agent_id")},model:{value:t.formData.agent_id,callback:function(o){t.$set(t.formData,"agent_id",o)},expression:"formData.agent_id"}})],1),r("FormItem",{attrs:{label:"COPR_ID",prop:"copr_id"}},[r("Input",{attrs:{placeholder:t.$L("\u8F93\u5165copr_id")},model:{value:t.formData.copr_id,callback:function(o){t.$set(t.formData,"copr_id",o)},expression:"formData.copr_id"}})],1),r("FormItem",{attrs:{label:"APP_SECRET",prop:"app_secret"}},[r("Input",{attrs:{placeholder:t.$L("\u8F93\u5165app_secret")},model:{value:t.formData.app_secret,callback:function(o){t.$set(t.formData,"app_secret",o)},expression:"formData.app_secret"}})],1)],1),r("div",{staticClass:"setting-footer"},[r("Button",{attrs:{loading:t.loadIng>0,type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$L("\u63D0\u4EA4")))]),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loadIng>0},on:{click:t.resetForm}},[t._v(t._s(t.$L("\u91CD\u7F6E")))])],1)],1)},p=[];const n={data(){return{loadIng:0,configLoad:0,formData:{copr_id:"",agent_id:"",app_secret:""},ruleDatum:{copr_id:[{validator:(t,e,r)=>{e.trim()===""?r(new Error(this.$L("\u8F93\u5165copr_id"))):r()},required:!0,trigger:"change"}],agent_id:[{validator:(t,e,r)=>{e.trim()===""?r(new Error(this.$L("\u8F93\u5165agent_id"))):r()},required:!0,trigger:"change"}],app_secret:[{validator:(t,e,r)=>{e.trim()===""?r(new Error(this.$L("\u8F93\u5165app_secret"))):r()},required:!0,trigger:"change"}]}}},computed:{...a(["formLabelPosition","formLabelWidth"])},mounted(){this.systemSetting()},methods:{submitForm(){this.$refs.formData.validate(t=>{t&&this.systemSetting(!0)})},resetForm(){this.formData=$A.cloneJSON(this.formData_bak)},systemSetting(t){this.loadIng++,this.$store.dispatch("call",{url:"system/setting/wecom?type="+(t?"save":"all"),data:this.formData}).then(({data:e})=>{t&&$A.messageSuccess("\u4FEE\u6539\u6210\u529F"),this.formData=e,this.formData_bak=$A.cloneJSON(this.formData)}).catch(({msg:e})=>{t&&$A.modalError(e)}).finally(e=>{this.loadIng--})}}},i={};var l=m(n,s,p,!1,c,null,null,null);function c(t){for(let e in i)this[e]=i[e]}var U=function(){return l.exports}();export{U as default};
