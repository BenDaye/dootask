import{e as $C,m as i2,a as LC,n as o2}from"./app.9ec67ffa.js";import{I as u2}from"./ImgUpload.d4680781.js";var MC={exports:{}};(function(N){(function(){var de=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},le=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},ce=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},Fe=function(e,t){return bt(function(n,r){return e.eq(t(n),t(r))})},bt=function(e){return{eq:e}},Cr=bt(function(e,t){return e===t}),Vi=Cr,Ka=function(e){return bt(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},qi=function(e,t){return Fe(Ka(e),function(n){return ce(n,t)})},jc=function(e){return bt(function(t,n){var r=Object.keys(t),a=Object.keys(n);if(!qi(Vi).eq(r,a))return!1;for(var i=r.length,o=0;o<i;o++){var u=r[o];if(!e.eq(t[u],n[u]))return!1}return!0})},Zu=bt(function(e,t){if(e===t)return!0;var n=de(e),r=de(t);return n!==r?!1:le(n)?e===t:n==="array"?Ka(Zu).eq(e,t):n==="object"?jc(Zu).eq(e,t):!1}),UC=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Ju=function(e){return function(t){return UC(t)===e}},es=function(e){return function(t){return typeof t===e}},Kc=function(e){return function(t){return e===t}},Ve=Ju("string"),Zr=Ju("object"),qt=Ju("array"),Ga=Kc(null),Gc=es("boolean"),Nt=Kc(void 0),dn=function(e){return e==null},Ne=function(e){return!dn(e)},Pe=es("function"),Jr=es("number"),pe=function(){},wr=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},Xc=function(e,t){return function(n){return e(t(n))}},Y=function(e){return function(){return e}},At=function(e){return e},zC=function(e,t){return e===t};function X(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t.concat(r);return e.apply(null,i)}}var ts=function(e){return function(t){return!e(t)}},HC=function(e){return function(){throw new Error(e)}},VC=function(e){return e()},qC=function(e){e()},Be=Y(!1),je=Y(!0),Wi=function(){return ns},ns=function(){var e=function(r){return r()},t=At,n={fold:function(r,a){return r()},isSome:Be,isNone:je,getOr:t,getOrThunk:e,getOrDie:function(r){throw new Error(r||"error: getOrDie called on none.")},getOrNull:Y(null),getOrUndefined:Y(void 0),or:t,orThunk:e,map:Wi,each:pe,bind:Wi,exists:Be,forall:je,filter:function(){return Wi()},toArray:function(){return[]},toString:Y("none()")};return n}(),rs=function(e){var t=Y(e),n=function(){return a},r=function(i){return i(e)},a={fold:function(i,o){return o(e)},isSome:je,isNone:Be,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(i){return rs(i(e))},each:function(i){i(e)},bind:r,exists:r,forall:r,filter:function(i){return i(e)?a:ns},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},WC=function(e){return e==null?ns:rs(e)},b={some:rs,none:Wi,from:WC},as=Array.prototype.slice,jC=Array.prototype.indexOf,KC=Array.prototype.push,Yc=function(e,t){return jC.call(e,t)},GC=function(e,t){var n=Yc(e,t);return n===-1?b.none():b.some(n)},et=function(e,t){return Yc(e,t)>-1},yt=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return!0}return!1},Oe=function(e,t){for(var n=e.length,r=new Array(n),a=0;a<n;a++){var i=e[a];r[a]=t(i,a)}return r},Q=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];t(a,n)}},Qc=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},Zc=function(e,t){for(var n=[],r=[],a=0,i=e.length;a<i;a++){var o=e[a],u=t(o,a)?n:r;u.push(o)}return{pass:n,fail:r}},he=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Jc=function(e,t,n){return Qc(e,function(r,a){n=t(n,r,a)}),n},Zt=function(e,t,n){return Q(e,function(r,a){n=t(n,r,a)}),n},ev=function(e,t,n){for(var r=0,a=e.length;r<a;r++){var i=e[r];if(t(i,r))return b.some(i);if(n(i,r))break}return b.none()},tt=function(e,t){return ev(e,t,Be)},ji=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return b.some(n)}return b.none()},XC=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!qt(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);KC.apply(t,e[n])}return t},ea=function(e,t){return XC(Oe(e,t))},Xa=function(e,t){for(var n=0,r=e.length;n<r;++n){var a=e[n];if(t(a,n)!==!0)return!1}return!0},Ki=function(e){var t=as.call(e,0);return t.reverse(),t},tv=function(e,t){return he(e,function(n){return!et(t,n)})},YC=function(e,t){for(var n={},r=0,a=e.length;r<a;r++){var i=e[r];n[String(i)]=t(i,r)}return n},is=function(e,t){var n=as.call(e,0);return n.sort(t),n},os=function(e,t){return t>=0&&t<e.length?b.some(e[t]):b.none()},It=function(e){return os(e,0)},Sr=function(e){return os(e,e.length-1)},pn=Pe(Array.from)?Array.from:function(e){return as.call(e)},nv=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return b.none()},ta=Object.keys,QC=Object.hasOwnProperty,Ie=function(e,t){for(var n=ta(e),r=0,a=n.length;r<a;r++){var i=n[r],o=e[i];t(o,i)}},rv=function(e,t){return ZC(e,function(n,r){return{k:r,v:t(n,r)}})},ZC=function(e,t){var n={};return Ie(e,function(r,a){var i=t(r,a);n[i.k]=i.v}),n},us=function(e){return function(t,n){e[n]=t}},av=function(e,t,n,r){var a={};return Ie(e,function(i,o){(t(i,o)?n:r)(i,o)}),a},JC=function(e,t){var n={},r={};return av(e,t,us(n),us(r)),{t:n,f:r}},Ya=function(e,t){var n={};return av(e,t,us(n),pe),n},e0=function(e,t){var n=[];return Ie(e,function(r,a){n.push(t(r,a))}),n},t0=function(e){return e0(e,At)},Ke=function(e,t){return ge(e,t)?b.from(e[t]):b.none()},ge=function(e,t){return QC.call(e,t)},na=function(e,t){return ge(e,t)&&e[t]!==void 0&&e[t]!==null},n0=function(e,t,n){return n===void 0&&(n=Zu),jc(n).eq(e,t)},ss=Array.isArray,r0=function(e){if(ss(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},Qa=function(e,t,n){var r,a;if(!e)return!1;if(n=n||e,e.length!==void 0){for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(r in e)if(ge(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},fs=function(e,t){var n=[];return Qa(e,function(r,a){n.push(t(r,a,e))}),n},ra=function(e,t){var n=[];return Qa(e,function(r,a){(!t||t(r,a,e))&&n.push(r)}),n},iv=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},Gi=function(e,t,n,r){for(var a=Nt(n)?e[0]:n,i=0;i<e.length;i++)a=t.call(r,a,e[i],i);return a},ov=function(e,t,n){var r,a;for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return r;return-1},qn=function(e){return e[e.length-1]},oe=function(){return oe=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oe.apply(this,arguments)};function a0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function On(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ls=function(e){var t=!1,n;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t||(t=!0,n=e.apply(null,r)),n}},i0=function(e,t,n,r){var a=e.isiOS()&&/ipad/i.test(n)===!0,i=e.isiOS()&&!a,o=e.isiOS()||e.isAndroid(),u=o||r("(pointer:coarse)"),s=a||!i&&o&&r("(min-device-width:768px)"),f=i||o&&!s,l=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,c=!f&&!s&&!l;return{isiPad:Y(a),isiPhone:Y(i),isTablet:Y(s),isPhone:Y(f),isTouch:Y(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Y(l),isDesktop:Y(c)}},o0=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},u0=function(e,t){var n=o0(e,t);if(!n)return{major:0,minor:0};var r=function(a){return Number(t.replace(n,"$"+a))};return cs(r(1),r(2))},s0=function(e,t){var n=String(t).toLowerCase();return e.length===0?uv():u0(e,n)},uv=function(){return cs(0,0)},cs=function(e,t){return{major:e,minor:t}},Za={nu:cs,detect:s0,unknown:uv},f0=function(e,t){return nv(t.brands,function(n){var r=n.brand.toLowerCase();return tt(e,function(a){var i;return r===((i=a.brand)===null||i===void 0?void 0:i.toLowerCase())}).map(function(a){return{current:a.name,version:Za.nu(parseInt(n.version,10),0)}})})},sv=function(e,t){var n=String(t).toLowerCase();return tt(e,function(r){return r.search(n)})},l0=function(e,t){return sv(e,t).map(function(n){var r=Za.detect(n.versionRegexes,t);return{current:n.name,version:r}})},c0=function(e,t){return sv(e,t).map(function(n){var r=Za.detect(n.versionRegexes,t);return{current:n.name,version:r}})},v0=function(e,t){return e.substring(t)},d0=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t},p0=function(e,t){return Er(e,t)?v0(e,t.length):e},Ct=function(e,t){return e.indexOf(t)!==-1},Er=function(e,t){return d0(e,t,0)},vs=function(e){return function(t){return t.replace(e,"")}},ds=vs(/^\s+|\s+$/g),m0=vs(/^\s+/g),fv=vs(/\s+$/g),Xi=function(e){return e.length>0},lv=function(e){return!Xi(e)},ps=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pn=function(e){return function(t){return Ct(t,e)}},h0=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ct(e,"edge/")&&Ct(e,"chrome")&&Ct(e,"safari")&&Ct(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ps],search:function(e){return Ct(e,"chrome")&&!Ct(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ct(e,"msie")||Ct(e,"trident")}},{name:"Opera",versionRegexes:[ps,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pn("firefox")},{name:"Safari",versionRegexes:[ps,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ct(e,"safari")||Ct(e,"mobile/"))&&Ct(e,"applewebkit")}}],g0=[{name:"Windows",search:Pn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ct(e,"iphone")||Ct(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pn("linux"),versionRegexes:[]},{name:"Solaris",search:Pn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cv={browsers:Y(h0),oses:Y(g0)},vv="Edge",dv="Chrome",pv="IE",mv="Opera",hv="Firefox",gv="Safari",b0=function(){return bv({current:void 0,version:Za.unknown()})},bv=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isEdge:r(vv),isChrome:r(dv),isIE:r(pv),isOpera:r(mv),isFirefox:r(hv),isSafari:r(gv)}},yv={unknown:b0,nu:bv,edge:Y(vv),chrome:Y(dv),ie:Y(pv),opera:Y(mv),firefox:Y(hv),safari:Y(gv)},Cv="Windows",wv="iOS",Sv="Android",Ev="Linux",kv="OSX",xv="Solaris",Tv="FreeBSD",Nv="ChromeOS",y0=function(){return Av({current:void 0,version:Za.unknown()})},Av=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isWindows:r(Cv),isiOS:r(wv),isAndroid:r(Sv),isOSX:r(kv),isLinux:r(Ev),isSolaris:r(xv),isFreeBSD:r(Tv),isChromeOS:r(Nv)}},Rv={unknown:y0,nu:Av,windows:Y(Cv),ios:Y(wv),android:Y(Sv),linux:Y(Ev),osx:Y(kv),solaris:Y(xv),freebsd:Y(Tv),chromeos:Y(Nv)},C0=function(e,t,n){var r=cv.browsers(),a=cv.oses(),i=t.bind(function(s){return f0(r,s)}).orThunk(function(){return l0(r,e)}).fold(yv.unknown,yv.nu),o=c0(a,e).fold(Rv.unknown,Rv.nu),u=i0(o,i,e,n);return{browser:i,os:o,deviceType:u}},w0={detect:C0},S0=function(e){return window.matchMedia(e).matches},E0=ls(function(){return w0.detect(navigator.userAgent,b.from(navigator.userAgentData),S0)}),Wt=function(){return E0()},Bv=navigator.userAgent,ms=Wt(),wt=ms.browser,$t=ms.os,mn=ms.deviceType,k0=/WebKit/.test(Bv)&&!wt.isEdge(),x0="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,T0=Bv.indexOf("Windows Phone")!==-1,fe={opera:wt.isOpera(),webkit:k0,ie:wt.isIE()||wt.isEdge()?wt.version.major:!1,gecko:wt.isFirefox(),mac:$t.isOSX()||$t.isiOS(),iOS:mn.isiPad()||mn.isiPhone(),android:$t.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:wt.isIE()?document.documentMode||7:10,fileApi:x0,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!wt.isIE(),desktop:mn.isDesktop(),windowsPhone:T0,browser:{current:wt.current,version:wt.version,isChrome:wt.isChrome,isEdge:wt.isEdge,isFirefox:wt.isFirefox,isIE:wt.isIE,isOpera:wt.isOpera,isSafari:wt.isSafari},os:{current:$t.current,version:$t.version,isAndroid:$t.isAndroid,isChromeOS:$t.isChromeOS,isFreeBSD:$t.isFreeBSD,isiOS:$t.isiOS,isLinux:$t.isLinux,isOSX:$t.isOSX,isSolaris:$t.isSolaris,isWindows:$t.isWindows},deviceType:{isDesktop:mn.isDesktop,isiPad:mn.isiPad,isiPhone:mn.isiPhone,isPhone:mn.isPhone,isTablet:mn.isTablet,isTouch:mn.isTouch,isWebView:mn.isWebView}},N0=/^\s*|\s*$/g,_v=function(e){return e==null?"":(""+e).replace(N0,"")},Dv=function(e,t){return t?t==="array"&&ss(e)?!0:typeof e===t:e!==void 0},A0=function(e,t,n){var r;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},R0=ge,B0=function(e,t,n){var r=this,a,i,o,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var s=e[3].match(/(^|\.)(\w+)$/i)[2],f=r.createNS(e[3].replace(/\.\w+$/,""),n);if(!f[s]){if(e[2]==="static"){f[s]=t,this.onCreate&&this.onCreate(e[2],e[3],f[s]);return}t[s]||(t[s]=function(){},u=1),f[s]=t[s],r.extend(f[s].prototype,t),e[5]&&(a=r.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],o=f[s],u?f[s]=function(){return a[i].apply(this,arguments)}:f[s]=function(){return this.parent=a[i],o.apply(this,arguments)},f[s].prototype[s]=f[s],r.each(a,function(l,c){f[s].prototype[c]=a[c]}),r.each(t,function(l,c){a[c]?f[s].prototype[c]=function(){return this.parent=a[c],l.apply(this,arguments)}:c!==s&&(f[s].prototype[c]=l)})),r.each(t.static,function(l,c){f[s][c]=l})}},_0=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var a=t[r];for(var i in a)if(ge(a,i)){var o=a[i];o!==void 0&&(e[i]=o)}}return e},Ov=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Qa(e,function(a,i){if(t.call(r,a,i,n)===!1)return!1;Ov(a,t,n,r)}))},D0=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},O0=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],!!t);n++);return t},P0=function(e,t){return!e||Dv(e,"array")?e:fs(e.split(t||","),_v)},I0=function(e){var t=fe.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},_={trim:_v,isArray:ss,is:Dv,toArray:r0,makeMap:A0,each:Qa,map:fs,grep:ra,inArray:iv,hasOwn:R0,extend:_0,create:B0,walk:Ov,createNS:D0,resolve:O0,explode:P0,_addCacheSuffix:I0},$0=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ja(r.childNodes[0])},L0=function(e,t){var n=t||document,r=n.createElement(e);return Ja(r)},F0=function(e,t){var n=t||document,r=n.createTextNode(e);return Ja(r)},Ja=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},M0=function(e,t,n){return b.from(e.dom.elementFromPoint(t,n)).map(Ja)},k={fromHtml:$0,fromTag:L0,fromText:F0,fromDom:Ja,fromPoint:M0},Pv=function(e,t){var n=[],r=function(i){return n.push(i),t(i)},a=t(e);do a=a.bind(r);while(a.isSome());return n},U0=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0},z0=function(e,t){return U0(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},H0=8,Iv=9,$v=11,hs=1,V0=3,aa=function(e,t){var n=e.dom;if(n.nodeType!==hs)return!1;var r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Lv=function(e){return e.nodeType!==hs&&e.nodeType!==Iv&&e.nodeType!==$v||e.childElementCount===0},q0=function(e,t){var n=t===void 0?document:t.dom;return Lv(n)?[]:Oe(n.querySelectorAll(e),k.fromDom)},W0=function(e,t){var n=t===void 0?document:t.dom;return Lv(n)?b.none():b.from(n.querySelector(e)).map(k.fromDom)},Ae=function(e,t){return e.dom===t.dom},j0=function(e,t){var n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},K0=function(e,t){return z0(e.dom,t.dom)},Wn=function(e,t){return Wt().browser.isIE()?K0(e,t):j0(e,t)};typeof window!="undefined"||Function("return this;")();var Ge=function(e){var t=e.dom.nodeName;return t.toLowerCase()},Fv=function(e){return e.dom.nodeType},Yi=function(e){return function(t){return Fv(t)===e}},G0=function(e){return Fv(e)===H0||Ge(e)==="#comment"},Jt=Yi(hs),jt=Yi(V0),X0=Yi(Iv),Y0=Yi($v),Q0=function(e){return function(t){return Jt(t)&&Ge(t)===e}},Mv=function(e){return k.fromDom(e.dom.ownerDocument)},ia=function(e){return X0(e)?e:Mv(e)},Z0=function(e){return k.fromDom(ia(e).dom.documentElement)},Uv=function(e){return k.fromDom(ia(e).dom.defaultView)},en=function(e){return b.from(e.dom.parentNode).map(k.fromDom)},J0=function(e,t){for(var n=Pe(t)?t:Be,r=e.dom,a=[];r.parentNode!==null&&r.parentNode!==void 0;){var i=r.parentNode,o=k.fromDom(i);if(a.push(o),n(o)===!0)break;r=i}return a},ew=function(e){var t=function(n){return he(n,function(r){return!Ae(e,r)})};return en(e).map(Kt).map(t).getOr([])},kr=function(e){return b.from(e.dom.previousSibling).map(k.fromDom)},ei=function(e){return b.from(e.dom.nextSibling).map(k.fromDom)},zv=function(e){return Ki(Pv(e,kr))},Hv=function(e){return Pv(e,ei)},Kt=function(e){return Oe(e.dom.childNodes,k.fromDom)},Qi=function(e,t){var n=e.dom.childNodes;return b.from(n[t]).map(k.fromDom)},Vv=function(e){return Qi(e,0)},gs=function(e){return Qi(e,e.dom.childNodes.length-1)},qv=function(e){return e.dom.childNodes.length},tw=function(e){var t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return k.fromDom(t)},Wv=function(e){return Y0(e)&&Ne(e.dom.host)},jv=Pe(Element.prototype.attachShadow)&&Pe(Node.prototype.getRootNode),nw=Y(jv),xr=jv?function(e){return k.fromDom(e.dom.getRootNode())}:ia,bs=function(e){return Wv(e)?e:tw(ia(e))},rw=function(e){var t=xr(e);return Wv(t)?b.some(t):b.none()},aw=function(e){return k.fromDom(e.dom.host)},iw=function(e){if(nw()&&Ne(e.target)){var t=k.fromDom(e.target);if(Jt(t)&&ow(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return It(n)}}return b.from(e.target)},ow=function(e){return Ne(e.dom.shadowRoot)},tn=function(e,t){var n=en(e);n.each(function(r){r.dom.insertBefore(t.dom,e.dom)})},ti=function(e,t){var n=ei(e);n.fold(function(){var r=en(e);r.each(function(a){it(a,t)})},function(r){tn(r,t)})},Kv=function(e,t){var n=Vv(e);n.fold(function(){it(e,t)},function(r){e.dom.insertBefore(t.dom,r.dom)})},it=function(e,t){e.dom.appendChild(t.dom)},uw=function(e,t){tn(e,t),it(t,e)},sw=function(e,t){Q(t,function(n){tn(e,n)})},Zi=function(e,t){Q(t,function(n){it(e,n)})},ys=function(e){e.dom.textContent="",Q(Kt(e),function(t){nt(t)})},nt=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Gv=function(e){var t=Kt(e);t.length>0&&sw(e,t),nt(e)},ni=function(e){var t=jt(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var n=t.ownerDocument;return rw(k.fromDom(t)).fold(function(){return n.body.contains(t)},Xc(ni,aw))},Xv=function(e,t){var n=function(r,a){return Xv(e+r,t+a)};return{left:e,top:t,translate:n}},oa=Xv,fw=function(e){var t=e.getBoundingClientRect();return oa(t.left,t.top)},Ji=function(e,t){return e!==void 0?e:t!==void 0?t:0},lw=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,a=t.documentElement;if(n===e.dom)return oa(n.offsetLeft,n.offsetTop);var i=Ji(r==null?void 0:r.pageYOffset,a.scrollTop),o=Ji(r==null?void 0:r.pageXOffset,a.scrollLeft),u=Ji(a.clientTop,n.clientTop),s=Ji(a.clientLeft,n.clientLeft);return Cs(e).translate(o-s,i-u)},Cs=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?oa(r.offsetLeft,r.offsetTop):ni(e)?fw(t):oa(0,0)},ws=function(e){var t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return oa(n,r)},Yv=function(e,t,n){var r=n!==void 0?n.dom:document,a=r.defaultView;a&&a.scrollTo(e,t)},Qv=function(e,t){var n=Wt().browser.isSafari();n&&Pe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},cw=function(e){var t=e===void 0?window:e;return Wt().browser.isFirefox()?b.none():b.from(t.visualViewport)},Zv=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Jv=function(e){var t=e===void 0?window:e,n=t.document,r=ws(k.fromDom(n));return cw(t).fold(function(){var a=t.document.documentElement,i=a.clientWidth,o=a.clientHeight;return Zv(r.left,r.top,i,o)},function(a){return Zv(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height)})},ri=function(e){return function(t){return!!t&&t.nodeType===e}},eo=function(e){return!!e&&!Object.getPrototypeOf(e)},ie=ri(1),Gt=function(e){var t=e.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var r=n.nodeName.toLowerCase();return et(t,r)}return!1}},to=function(e,t){var n=t.toLowerCase().split(" ");return function(r){if(ie(r))for(var a=0;a<n.length;a++){var i=r.ownerDocument.defaultView.getComputedStyle(r,null),o=i?i.getPropertyValue(e):null;if(o===n[a])return!0}return!1}},ed=function(e){return function(t){return ie(t)&&t.hasAttribute(e)}},vw=function(e,t){return function(n){return ie(n)&&n.getAttribute(e)===t}},Tr=function(e){return ie(e)&&e.hasAttribute("data-mce-bogus")},dw=function(e){return ie(e)&&e.getAttribute("data-mce-bogus")==="all"},ua=function(e){return ie(e)&&e.tagName==="TABLE"},td=function(e){return function(t){return!!(ie(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},Ss=Gt(["textarea","input"]),Z=ri(3),pw=ri(8),Es=ri(9),ks=ri(11),Me=Gt(["br"]),mw=Gt(["img"]),hn=td("true"),De=td("false"),no=Gt(["td","th"]),Xt=Gt(["video","audio","object","embed"]),ro=function(e,t,n){return n===void 0&&(n=zC),e.exists(function(r){return n(r,t)})},hw=function(e){for(var t=[],n=function(a){t.push(a)},r=0;r<e.length;r++)e[r].each(n);return t},kt=function(e,t,n){return e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none()},gw=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?b.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):b.none()},bw=function(e,t){return e?b.some(t):b.none()},ao=function(e){return e.style!==void 0&&Pe(e.style.getPropertyValue)},nd=function(e,t,n){if(Ve(n)||Gc(n)||Jr(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},gn=function(e,t,n){nd(e.dom,t,n)},jn=function(e,t){var n=e.dom;Ie(t,function(r,a){nd(n,a,r)})},ai=function(e,t){var n=e.dom.getAttribute(t);return n===null?void 0:n},rd=function(e,t){return b.from(ai(e,t))},yw=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Kn=function(e,t){e.dom.removeAttribute(t)},Cw=function(e){return Zt(e.dom.attributes,function(t,n){return t[n.name]=n.value,t},{})},ww=function(e,t,n){if(!Ve(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ao(e)&&e.style.setProperty(t,n)},Sw=function(e,t){var n=e.dom;Ie(t,function(r,a){ww(n,a,r)})},In=function(e,t){var n=e.dom,r=window.getComputedStyle(n),a=r.getPropertyValue(t);return a===""&&!ni(e)?ad(n,t):a},ad=function(e,t){return ao(e)?e.style.getPropertyValue(t):""},xs=function(e,t){var n=e.dom,r=ad(n,t);return b.from(r).filter(function(a){return a.length>0})},id=function(e){var t={},n=e.dom;if(ao(n))for(var r=0;r<n.style.length;r++){var a=n.style.item(r);t[a]=n.style[a]}return t},Ew=function(e){return e.dom.offsetWidth},kw=Wt().browser,od=function(e){return tt(e,Jt)},xw=function(e){return kw.isFirefox()&&Ge(e)==="table"?od(Kt(e)).filter(function(t){return Ge(t)==="caption"}).bind(function(t){return od(Hv(t)).map(function(n){var r=n.dom.offsetTop,a=t.dom.offsetTop,i=t.dom.offsetHeight;return r<=a?-i:0})}).getOr(0):0},ud=function(e,t){return e.children&&et(e.children,t)},Tw=function(e,t,n){var r=0,a=0,i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&In(k.fromDom(e),"position")==="static"){var o=t.getBoundingClientRect();return r=o.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,a=o.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:r,y:a}}for(var u=t;u&&u!==n&&u.nodeType&&!ud(u,n);){var s=u;r+=s.offsetLeft||0,a+=s.offsetTop||0,u=s.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!ud(u,n);)r-=u.scrollLeft||0,a-=u.scrollTop||0,u=u.parentNode;a+=xw(k.fromDom(t))}return{x:r,y:a}},sd={},fd={exports:sd};(function(e,t,n,r){(function(a,i){typeof t=="object"&&typeof n!="undefined"?n.exports=i():typeof e=="function"&&e.amd?e(i):(a=typeof globalThis!="undefined"?globalThis:a||self,a.EphoxContactWrapper=i())})(this,function(){var a=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof $C!="undefined"?$C:typeof self!="undefined"?self:{},i={exports:{}};(function(f){(function(l){var c=setTimeout;function v(){}function d(C,x){return function(){C.apply(x,arguments)}}function p(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof C!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],S(C,this)}function m(C,x){for(;C._state===3;)C=C._value;if(C._state===0){C._deferreds.push(x);return}C._handled=!0,p._immediateFn(function(){var B=C._state===1?x.onFulfilled:x.onRejected;if(B===null){(C._state===1?h:y)(x.promise,C._value);return}var L;try{L=B(C._value)}catch(re){y(x.promise,re);return}h(x.promise,L)})}function h(C,x){try{if(x===C)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var B=x.then;if(x instanceof p){C._state=3,C._value=x,g(C);return}else if(typeof B=="function"){S(d(B,x),C);return}}C._state=1,C._value=x,g(C)}catch(L){y(C,L)}}function y(C,x){C._state=2,C._value=x,g(C)}function g(C){C._state===2&&C._deferreds.length===0&&p._immediateFn(function(){C._handled||p._unhandledRejectionFn(C._value)});for(var x=0,B=C._deferreds.length;x<B;x++)m(C,C._deferreds[x]);C._deferreds=null}function E(C,x,B){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof x=="function"?x:null,this.promise=B}function S(C,x){var B=!1;try{C(function(L){B||(B=!0,h(x,L))},function(L){B||(B=!0,y(x,L))})}catch(L){if(B)return;B=!0,y(x,L)}}p.prototype.catch=function(C){return this.then(null,C)},p.prototype.then=function(C,x){var B=new this.constructor(v);return m(this,new E(C,x,B)),B},p.all=function(C){var x=Array.prototype.slice.call(C);return new p(function(B,L){if(x.length===0)return B([]);var re=x.length;function j(te,z){try{if(z&&(typeof z=="object"||typeof z=="function")){var W=z.then;if(typeof W=="function"){W.call(z,function(M){j(te,M)},L);return}}x[te]=z,--re===0&&B(x)}catch(M){L(M)}}for(var D=0;D<x.length;D++)j(D,x[D])})},p.resolve=function(C){return C&&typeof C=="object"&&C.constructor===p?C:new p(function(x){x(C)})},p.reject=function(C){return new p(function(x,B){B(C)})},p.race=function(C){return new p(function(x,B){for(var L=0,re=C.length;L<re;L++)C[L].then(x,B)})},p._immediateFn=typeof setImmediate=="function"?function(C){setImmediate(C)}:function(C){c(C,0)},p._unhandledRejectionFn=function(x){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",x)},p._setImmediateFn=function(x){p._immediateFn=x},p._setUnhandledRejectionFn=function(x){p._unhandledRejectionFn=x},f.exports?f.exports=p:l.Promise||(l.Promise=p)})(a)})(i);var o=i.exports,u=function(){return typeof window!="undefined"?window:Function("return this;")()}(),s={boltExport:u.Promise||o};return s})})(void 0,sd,fd);var Ts=fd.exports.boltExport,Ns=function(e){var t=b.none(),n=[],r=function(f){return Ns(function(l){a(function(c){l(f(c))})})},a=function(f){o()?s(f):n.push(f)},i=function(f){o()||(t=b.some(f),u(n),n=[])},o=function(){return t.isSome()},u=function(f){Q(f,s)},s=function(f){t.each(function(l){setTimeout(function(){f(l)},0)})};return e(i),{get:a,map:r,isReady:o}},Nw=function(e){return Ns(function(t){t(e)})},Aw={nu:Ns,pure:Nw},Rw=function(e){setTimeout(function(){throw e},0)},sa=function(e){var t=function(s){e().then(s,Rw)},n=function(s){return sa(function(){return e().then(s)})},r=function(s){return sa(function(){return e().then(function(f){return s(f).toPromise()})})},a=function(s){return sa(function(){return e().then(function(){return s.toPromise()})})},i=function(){return Aw.nu(t)},o=function(){var s=null;return sa(function(){return s===null&&(s=e()),s})},u=e;return{map:n,bind:r,anonBind:a,toLazy:i,toCached:o,toPromise:u,get:t}},Bw=function(e){return sa(function(){return new Ts(e)})},_w=function(e){return sa(function(){return Ts.resolve(e)})},ld={nu:Bw,pure:_w},Dw=function(e,t){return t(function(n){var r=[],a=0,i=function(o){return function(u){r[o]=u,a++,a>=e.length&&n(r)}};e.length===0?n([]):Q(e,function(o,u){o.get(i(u))})})},Ow=function(e){return Dw(e,ld.nu)},fa=function(e){var t=function(c){return fa(e)},n=function(c){return fa(e)},r=function(c){return fa(c(e))},a=function(c){return fa(e)},i=function(c){c(e)},o=function(c){return c(e)},u=function(c,v){return v(e)},s=function(c){return c(e)},f=function(c){return c(e)},l=function(){return b.some(e)};return{isValue:je,isError:Be,getOr:Y(e),getOrThunk:Y(e),getOrDie:Y(e),or:t,orThunk:n,fold:u,map:r,mapError:a,each:i,bind:o,exists:s,forall:f,toOptional:l}},ii=function(e){var t=function(f){return f()},n=function(){return HC(String(e))()},r=At,a=function(f){return f()},i=function(f){return ii(e)},o=function(f){return ii(f(e))},u=function(f){return ii(e)},s=function(f,l){return f(e)};return{isValue:Be,isError:je,getOr:At,getOrThunk:t,getOrDie:n,or:r,orThunk:a,fold:s,map:i,mapError:o,each:pe,bind:u,exists:Be,forall:je,toOptional:b.none}},Pw=function(e,t){return e.fold(function(){return ii(t)},fa)},cd={value:fa,error:ii,fromOption:Pw},Iw=function(e){if(!qt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],n={};return Q(e,function(r,a){var i=ta(r);if(i.length!==1)throw new Error("one and only one name per case");var o=i[0],u=r[o];if(n[o]!==void 0)throw new Error("duplicate key detected:"+o);if(o==="cata")throw new Error("cannot have a case named cata (sorry)");if(!qt(u))throw new Error("case arguments must be an array");t.push(o),n[o]=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var l=s.length;if(l!==u.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+u.length+" ("+u+"), got "+l);var c=function(v){var d=ta(v);if(t.length!==d.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+d.join(","));var p=Xa(t,function(m){return et(d,m)});if(!p)throw new Error("Not all branches were specified when using match. Specified: "+d.join(", ")+`
Required: `+t.join(", "));return v[o].apply(null,s)};return{fold:function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];if(v.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+v.length);var p=v[a];return p.apply(null,s)},match:c,log:function(v){console.log(v,{constructors:t,constructor:o,params:s})}}}}),n},Gn={generate:Iw};Gn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var vd=function(e){return e.fold(At,At)};function dd(e,t,n,r,a){return e(n,r)?b.some(n):Pe(a)&&a(n)?b.none():t(n,r,a)}var oi=function(e,t,n){for(var r=e.dom,a=Pe(n)?n:Be;r.parentNode;){r=r.parentNode;var i=k.fromDom(r);if(t(i))return b.some(i);if(a(i))break}return b.none()},io=function(e,t,n){var r=function(a,i){return i(a)};return dd(r,oi,e,t,n)},$w=function(e,t){var n=e.dom;return n.parentNode?Lw(k.fromDom(n.parentNode),function(r){return!Ae(e,r)&&t(r)}):b.none()},Lw=function(e,t){var n=function(a){return t(k.fromDom(a))},r=tt(e.dom.childNodes,n);return r.map(k.fromDom)},oo=function(e,t,n){return oi(e,function(r){return aa(r,t)},n)},uo=function(e,t){return W0(t,e)},As=function(e,t,n){var r=function(a,i){return aa(a,i)};return dd(r,oo,e,t,n)},ot=window.Promise?window.Promise:Ts,Rs,Fw=function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],a=function(o){window.setTimeout(o,0)},i=0;i<r.length&&!n;i++)n=window[r[i]+"RequestAnimationFrame"];n||(n=a),n(e,t)},Bs=function(e,t){return typeof t!="number"&&(t=0),setTimeout(e,t)},pd=function(e,t){return typeof t!="number"&&(t=1),setInterval(e,t)},Mw=function(e){return clearTimeout(e)},Uw=function(e){return clearInterval(e)},md=function(e,t){var n,r=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];clearTimeout(n),n=Bs(function(){e.apply(this,a)},t)};return r.stop=function(){clearTimeout(n)},r},ut={requestAnimationFrame:function(e,t){if(Rs){Rs.then(e);return}Rs=new ot(function(n){t||(t=document.body),Fw(n,t)}).then(e)},setTimeout:Bs,setInterval:pd,setEditorTimeout:function(e,t,n){return Bs(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=pd(function(){e.removed?clearInterval(r):t()},n);return r},debounce:md,throttle:md,clearInterval:Uw,clearTimeout:Mw},hd=function(e,t){t===void 0&&(t={});var n=0,r={},a=k.fromDom(e),i=ia(a),o=t.maxLoadTime||5e3,u=function(h){t.referrerPolicy=h},s=function(h){it(bs(a),h)},f=function(h){var y=bs(a);uo(y,"#"+h).each(nt)},l=function(h){return Ke(r,h).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},c=function(h,y,g){var E,S=_._addCacheSuffix(h),C=l(S);r[S]=C,C.count++;var x=function(z,W){for(var M=z.length;M--;)z[M]();C.status=W,C.passed=[],C.failed=[],E&&(E.onload=null,E.onerror=null,E=null)},B=function(){return x(C.passed,2)},L=function(){return x(C.failed,3)},re=function(z,W){z()||(Date.now()-te<o?ut.setTimeout(W):L())},j=function(){re(function(){for(var z=e.styleSheets,W=z.length;W--;){var M=z[W],q=M.ownerNode;if(q&&q.id===E.id)return B(),!0}return!1},j)};if(y&&C.passed.push(y),g&&C.failed.push(g),C.status!==1){if(C.status===2){B();return}if(C.status===3){L();return}C.status=1;var D=k.fromTag("link",i.dom);jn(D,{rel:"stylesheet",type:"text/css",id:C.id});var te=Date.now();t.contentCssCors&&gn(D,"crossOrigin","anonymous"),t.referrerPolicy&&gn(D,"referrerpolicy",t.referrerPolicy),E=D.dom,E.onload=j,E.onerror=L,s(D),gn(D,"href",S)}},v=function(h){return ld.nu(function(y){c(h,wr(y,Y(cd.value(h))),wr(y,Y(cd.error(h))))})},d=function(h,y,g){Ow(Oe(h,v)).get(function(E){var S=Zc(E,function(C){return C.isValue()});S.fail.length>0?g(S.fail.map(vd)):y(S.pass.map(vd))})},p=function(h){var y=_._addCacheSuffix(h);Ke(r,y).each(function(g){var E=--g.count;E===0&&(delete r[y],f(g.id))})},m=function(h){Q(h,function(y){p(y)})};return{load:c,loadAll:d,unload:p,unloadAll:m,_setReferrerPolicy:u}},zw=function(){var e=new WeakMap,t=function(n,r){var a=xr(n),i=a.dom;return b.from(e.get(i)).getOrThunk(function(){var o=hd(i,r);return e.set(i,o),o})};return{forElement:t}},gd=zw(),Xe=function(){function e(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},e.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},e.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},e.prototype.findSibling=function(t,n,r,a){var i,o;if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){if(i=t[r],i)return i;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[r],i)return i}}},e.prototype.findPreviousNode=function(t,n,r,a){var i,o,u;if(t){if(i=t[r],this.rootNode&&i===this.rootNode)return;if(i){if(!a){for(u=i[n];u;u=u[n])if(!u[n])return u}return i}if(o=t.parentNode,o&&o!==this.rootNode)return o}},e}(),Hw=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Vw=["td","th"],qw=["thead","tbody","tfoot"],Ww=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],jw=["h1","h2","h3","h4","h5","h6"],Kw=["li","dd","dt"],Gw=["ul","ol","dl"],Xw=["pre","script","textarea","style"],Xn=function(e){var t;return function(n){return t=t||YC(e,je),ge(t,Ge(n))}},Yw=Xn(jw),bn=Xn(Hw),Qw=function(e){return Ge(e)==="table"},_s=function(e){return Jt(e)&&!bn(e)},la=function(e){return Jt(e)&&Ge(e)==="br"},bd=Xn(Ww),Ds=Xn(Gw),ui=Xn(Kw),Zw=Xn(qw),so=Xn(Vw),fo=Xn(Xw),Jw=function(e,t,n){return oo(e,t,n).isSome()},Os="\uFEFF",Rt="\xA0",eS=function(e){return e===Os},tS=function(e){return e.replace(/\uFEFF/g,"")},rt=Os,lo=eS,Yn=tS,nS=ie,ca=Z,va=function(e){return ca(e)&&(e=e.parentNode),nS(e)&&e.hasAttribute("data-mce-caret")},da=function(e){return ca(e)&&lo(e.data)},Lt=function(e){return va(e)||da(e)},yd=function(e){return e.firstChild!==e.lastChild||!Me(e.firstChild)},rS=function(e,t){var n=e.ownerDocument,r=n.createTextNode(rt),a=e.parentNode;if(t){var i=e.previousSibling;if(ca(i)){if(Lt(i))return i;if(vo(i))return i.splitText(i.data.length-1)}a.insertBefore(r,e)}else{var i=e.nextSibling;if(ca(i)){if(Lt(i))return i;if(co(i))return i.splitText(1),i}e.nextSibling?a.insertBefore(r,e.nextSibling):a.appendChild(r)}return r},Ps=function(e){var t=e.container();return Z(t)?t.data.charAt(e.offset())===rt||e.isAtStart()&&da(t.previousSibling):!1},Is=function(e){var t=e.container();return Z(t)?t.data.charAt(e.offset()-1)===rt||e.isAtEnd()&&da(t.nextSibling):!1},aS=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},iS=function(e,t,n){var r=t.ownerDocument,a=r.createElement(e);a.setAttribute("data-mce-caret",n?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(aS());var i=t.parentNode;return n?i.insertBefore(a,t):t.nextSibling?i.insertBefore(a,t.nextSibling):i.appendChild(a),a},co=function(e){return ca(e)&&e.data[0]===rt},vo=function(e){return ca(e)&&e.data[e.data.length-1]===rt},oS=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Tr(n)&&n.parentNode.removeChild(n)},$s=function(e){return e&&e.hasAttribute("data-mce-caret")?(oS(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Cd=function(e){return va(e.startContainer)},wd=hn,uS=De,sS=Me,fS=Z,lS=Gt(["script","style","textarea"]),Sd=Gt(["img","input","textarea","hr","iframe","video","audio","object","embed"]),cS=Gt(["table"]),vS=Lt,yn=function(e){return vS(e)?!1:fS(e)?!lS(e.parentNode):Sd(e)||sS(e)||cS(e)||Ls(e)},dS=function(e){return ie(e)&&e.getAttribute("unselectable")==="true"},Ls=function(e){return dS(e)===!1&&uS(e)},pS=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Ls(e))return!1;if(wd(e))return!0}return!0},mS=function(e){return Ls(e)?Zt(pn(e.getElementsByTagName("*")),function(t,n){return t||wd(n)},!1)!==!0:!1},hS=function(e){return Sd(e)||mS(e)},po=function(e,t){return yn(e)&&pS(e,t)},gS=/^[ \t\r\n]*$/,Nr=function(e){return gS.test(e)},bS=function(e,t){var n=k.fromDom(t),r=k.fromDom(e);return Jw(r,"pre,code",X(Ae,n))},yS=function(e,t){return Z(e)&&Nr(e.data)&&bS(e,t)===!1},CS=function(e){return ie(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},mo=function(e,t){return yn(e)&&yS(e,t)===!1||CS(e)||wS(e)},wS=ed("data-mce-bookmark"),SS=ed("data-mce-bogus"),ES=vw("data-mce-bogus","all"),kS=function(e,t){var n=0;if(mo(e,e))return!1;var r=e.firstChild;if(!r)return!0;var a=new Xe(r,e);do{if(t){if(ES(r)){r=a.next(!0);continue}if(SS(r)){r=a.next();continue}}if(Me(r)){n++,r=a.next();continue}if(mo(r,e))return!1;r=a.next()}while(r);return n<=1},Ye=function(e,t){return t===void 0&&(t=!0),kS(e.dom,t)},xS=function(e){return e.nodeName.toLowerCase()==="span"},Ed=function(e,t){return Ne(e)&&(mo(e,t)||_s(k.fromDom(e)))},TS=function(e,t){var n=new Xe(e,t).prev(!1),r=new Xe(e,t).next(!1),a=Nt(n)||Ed(n,t),i=Nt(r)||Ed(r,t);return a&&i},kd=function(e){return xS(e)&&e.getAttribute("data-mce-type")==="bookmark"},NS=function(e,t){return Z(e)&&e.data.length>0&&TS(e,t)},AS=function(e){return ie(e)?e.childNodes.length>0:!1},RS=function(e){return ks(e)||Es(e)},Fs=function(e,t,n){var r=n||t;if(ie(t)&&kd(t))return t;for(var a=t.childNodes,i=a.length-1;i>=0;i--)Fs(e,a[i],r);if(ie(t)){var o=t.childNodes;o.length===1&&kd(o[0])&&t.parentNode.insertBefore(o[0],t)}return!RS(t)&&!mo(t,r)&&!AS(t)&&!NS(t,r)&&e.remove(t),t},BS=_.makeMap,ho=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,go=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_S=/[<>&\"\']/g,DS=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,OS={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Ar={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},PS={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},IS=function(e){var t=k.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},xd=function(e,t){var n,r,a,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Ar[r]||(a="&"+e[n+1]+";",i[r]=a,i[a]=r);return i}},Ms=xd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Td=function(e,t){return e.replace(t?ho:go,function(n){return Ar[n]||n})},$S=function(e){return(""+e).replace(_S,function(t){return Ar[t]||t})},Nd=function(e,t){return e.replace(t?ho:go,function(n){return n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":Ar[n]||"&#"+n.charCodeAt(0)+";"})},Us=function(e,t,n){return n=n||Ms,e.replace(t?ho:go,function(r){return Ar[r]||n[r]||r})},LS=function(e,t){var n=xd(t)||Ms,r=function(o,u){return o.replace(u?ho:go,function(s){return Ar[s]!==void 0?Ar[s]:n[s]!==void 0?n[s]:s.length>1?"&#"+((s.charCodeAt(0)-55296)*1024+(s.charCodeAt(1)-56320)+65536)+";":"&#"+s.charCodeAt(0)+";"})},a=function(o,u){return Us(o,u,n)},i=BS(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?a:Us:i.numeric?Nd:Td},FS=function(e){return e.replace(DS,function(t,n){return n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):OS[n]||String.fromCharCode(n)):PS[t]||Ms[t]||IS(t)})},Qn={encodeRaw:Td,encodeAllRaw:$S,encodeNumeric:Nd,encodeNamed:Us,getEncodeFunc:LS,decode:FS},Zn={},MS={},pa=_.makeMap,st=_.each,zs=_.extend,Ad=_.explode,US=_.inArray,at=function(e,t){return e=_.trim(e),e?e.split(t||" "):[]},Rd=function(e,t){var n=pa(e," ",pa(e.toUpperCase()," "));return zs(n,t)},Bd=function(e){return Rd("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},zS=function(e){var t={},n,r,a,i,o,u,s=function(l,c,v){var d,p,m,h=function(g,E){var S={},C,x;for(C=0,x=g.length;C<x;C++)S[g[C]]=E||{};return S};v=v||[],c=c||"",typeof v=="string"&&(v=at(v));var y=at(l);for(d=y.length;d--;)p=at([n,c].join(" ")),m={attributes:h(p),attributesOrder:p,children:h(v,MS)},t[y[d]]=m},f=function(l,c){var v,d,p,m,h=at(l);v=h.length;for(var y=at(c);v--;)for(d=t[h[v]],p=0,m=y.length;p<m;p++)d.attributes[y[p]]={},d.attributesOrder.push(y[p])};return Zn[e]?Zn[e]:(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(n+=" xml:lang",u="acronym applet basefont big font strike tt",a=[a,u].join(" "),st(at(u),function(l){s(l,"",a)}),o="center dir isindex noframes",r=[r,o].join(" "),i=[r,a].join(" "),st(at(o),function(l){s(l,"",i)})),i=i||[r,a].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",a),s("q","cite",a),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",a),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:a),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),e!=="html4"&&(s("wbr"),s("ruby","",[a,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",a),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[a,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",a),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",a),s("progress","value max",a),s("meter","value min max low high optimum",a),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),e!=="html4"&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allowfullscreen loading")),st(at("a form meter progress dfn"),function(l){t[l]&&delete t[l].children[l]}),delete t.caption.children.table,delete t.script,Zn[e]=t,t)},Hs=function(e,t){var n;return e&&(n={},typeof e=="string"&&(e={"*":e}),st(e,function(r,a){n[a]=n[a.toUpperCase()]=t==="map"?pa(r,/[, ]/):Ad(r,/[, ]/)})),n},Jn=function(e){var t={},n={},r=[],a={},i={},o=function(P,H,J){var T=e[P];return T?T=pa(T,/[, ]/,pa(T.toUpperCase(),/[, ]/)):(T=Zn[P],T||(T=Rd(H,J),Zn[P]=T)),T};e=e||{};var u=zS(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var s=Hs(e.valid_styles),f=Hs(e.invalid_styles,"map"),l=Hs(e.valid_classes,"map"),c=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),v=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),d=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m="td th iframe video audio object script code",h=o("non_empty_elements",m+" pre",d),y=o("move_caret_before_on_enter_elements",m+" table",d),g=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),E=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",g),S=o("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");st((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(P){i[P]=new RegExp("</"+P+"[^>]*>","gi")});var C=function(P){return new RegExp("^"+P.replace(/([?+*])/g,".$1")+"$")},x=function(P){var H,J,T,F,I,ee,ne,we,Ue,Le,Vn,vt,ht,ze,Pt,gt,Dn,Ee,ke=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,He=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ln=/[*?+]/;if(P){var cn=at(P,",");for(t["@"]&&(gt=t["@"].attributes,Dn=t["@"].attributesOrder),H=0,J=cn.length;H<J;H++)if(I=ke.exec(cn[H]),I){if(ze=I[1],Ue=I[2],Pt=I[3],we=I[5],vt={},ht=[],ee={attributes:vt,attributesOrder:ht},ze==="#"&&(ee.paddEmpty=!0),ze==="-"&&(ee.removeEmpty=!0),I[4]==="!"&&(ee.removeEmptyAttrs=!0),gt&&(Ie(gt,function(vn,br){vt[br]=vn}),ht.push.apply(ht,Dn)),we){for(we=at(we,"|"),T=0,F=we.length;T<F;T++)if(I=He.exec(we[T]),I){if(ne={},Vn=I[1],Le=I[2].replace(/[\\:]:/g,":"),ze=I[3],Ee=I[4],Vn==="!"&&(ee.attributesRequired=ee.attributesRequired||[],ee.attributesRequired.push(Le),ne.required=!0),Vn==="-"){delete vt[Le],ht.splice(US(ht,Le),1);continue}ze&&(ze==="="&&(ee.attributesDefault=ee.attributesDefault||[],ee.attributesDefault.push({name:Le,value:Ee}),ne.defaultValue=Ee),ze===":"&&(ee.attributesForced=ee.attributesForced||[],ee.attributesForced.push({name:Le,value:Ee}),ne.forcedValue=Ee),ze==="<"&&(ne.validValues=pa(Ee,"?"))),ln.test(Le)?(ee.attributePatterns=ee.attributePatterns||[],ne.pattern=C(Le),ee.attributePatterns.push(ne)):(vt[Le]||ht.push(Le),vt[Le]=ne)}}!gt&&Ue==="@"&&(gt=vt,Dn=ht),Pt&&(ee.outputName=Ue,t[Pt]=ee),ln.test(Ue)?(ee.pattern=C(Ue),r.push(ee)):t[Ue]=ee}}},B=function(P){t={},r=[],x(P),st(u,function(H,J){n[J]=H.children})},L=function(P){var H=/^(~)?(.+)$/;P&&(Zn.text_block_elements=Zn.block_elements=null,st(at(P,","),function(J){var T=H.exec(J),F=T[1]==="~",I=F?"span":"div",ee=T[2];if(n[ee]=n[I],a[ee]=I,F||(E[ee.toUpperCase()]={},E[ee]={}),!t[ee]){var ne=t[I];ne=zs({},ne),delete ne.removeEmptyAttrs,delete ne.removeEmpty,t[ee]=ne}st(n,function(we,Ue){we[I]&&(n[Ue]=we=zs({},n[Ue]),we[ee]=we[I])})}))},re=function(P){var H=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Zn[e.schema]=null,P&&st(at(P,","),function(J){var T=H.exec(J),F,I;T&&(I=T[1],I?F=n[T[2]]:F=n[T[2]]={"#comment":{}},F=n[T[2]],st(at(T[3],"|"),function(ee){I==="-"?delete F[ee]:F[ee]={}}))})},j=function(P){var H=t[P],J;if(H)return H;for(J=r.length;J--;)if(H=r[J],H.pattern.test(P))return H};e.valid_elements?B(e.valid_elements):(st(u,function(P,H){t[H]={attributes:P.attributes,attributesOrder:P.attributesOrder},n[H]=P.children}),e.schema!=="html5"&&st(at("strong/b em/i"),function(P){var H=at(P,"/");t[H[1]].outputName=H[0]}),st(S,function(P,H){t[H]&&(e.padd_empty_block_inline_children&&(t[H].paddInEmptyBlock=!0),t[H].removeEmpty=!0)}),st(at("ol ul blockquote a table tbody"),function(P){t[P]&&(t[P].removeEmpty=!0)}),st(at("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(P){t[P].paddEmpty=!0}),st(at("span"),function(P){t[P].removeEmptyAttrs=!0})),L(e.custom_elements),re(e.valid_children),x(e.extended_valid_elements),re("+ol[ul|ol],+ul[ul|ol]"),st({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(P,H){t[H]&&(t[H].parentsRequired=at(P))}),e.invalid_elements&&st(Ad(e.invalid_elements),function(P){t[P]&&delete t[P]}),j("span")||x("span[!data-mce-type|*]");var D=Y(s),te=Y(f),z=Y(l),W=Y(p),M=Y(E),q=Y(g),G=Y(S),O=Y(d),K=Y(v),ve=Y(h),ye=Y(y),be=Y(c),We=Y(i),_e=function(P,H){var J=n[P.toLowerCase()];return!!(J&&J[H.toLowerCase()])},ct=function(P,H){var J,T,F=j(P);if(F)if(H){if(F.attributes[H])return!0;if(J=F.attributePatterns,J){for(T=J.length;T--;)if(J[T].pattern.test(P))return!0}}else return!0;return!1},Tt=Y(a);return{children:n,elements:t,getValidStyles:D,getValidClasses:z,getBlockElements:M,getInvalidStyles:te,getShortEndedElements:O,getTextBlockElements:q,getTextInlineElements:G,getBoolAttrs:W,getElementRule:j,getSelfClosingElements:K,getNonEmptyElements:ve,getMoveCaretBeforeOnEnterElements:ye,getWhiteSpaceElements:be,getSpecialElements:We,isValidChild:_e,isValid:ct,getCustomElements:Tt,addValidElements:x,setValidElements:B,addCustomElements:L,addValidChildren:re}},_d=function(e,t,n,r){var a=function(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i};return"#"+a(t)+a(n)+a(r)},Vs=function(e,t){var n=this,r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,u,s={},f,l,c=Os;e=e||{},t&&(f=t.getValidStyles(),l=t.getInvalidStyles());var v=(`\\" \\' \\; \\: ; : `+c).split(" ");for(u=0;u<v.length;u++)s[v[u]]=c+u,s[c+u]=v[u];return{toHex:function(d){return d.replace(r,_d)},parse:function(d){var p={},m,h,y,g,E=e.url_converter,S=e.url_converter_scope||n,C=function(z,W,M){var q=p[z+"-top"+W];if(!!q){var G=p[z+"-right"+W];if(!!G){var O=p[z+"-bottom"+W];if(!!O){var K=p[z+"-left"+W];if(!!K){var ve=[q,G,O,K];for(u=ve.length-1;u--&&ve[u]===ve[u+1];);u>-1&&M||(p[z+W]=u===-1?ve[0]:ve.join(" "),delete p[z+"-top"+W],delete p[z+"-right"+W],delete p[z+"-bottom"+W],delete p[z+"-left"+W])}}}}},x=function(z){var W=p[z],M;if(!!W){for(W=W.split(" "),M=W.length;M--;)if(W[M]!==W[0])return!1;return p[z]=W[0],!0}},B=function(z,W,M,q){!x(W)||!x(M)||!x(q)||(p[z]=p[W]+" "+p[M]+" "+p[q],delete p[W],delete p[M],delete p[q])},L=function(z){return g=!0,s[z]},re=function(z,W){return g&&(z=z.replace(/\uFEFF[0-9]/g,function(M){return s[M]})),W||(z=z.replace(/\\([\'\";:])/g,"$1")),z},j=function(z){return String.fromCharCode(parseInt(z.slice(1),16))},D=function(z){return z.replace(/\\[0-9a-f]+/gi,j)},te=function(z,W,M,q,G,O){if(G=G||O,G)return G=re(G),"'"+G.replace(/\'/g,"\\'")+"'";if(W=re(W||M||q),!e.allow_script_urls){var K=W.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(K)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(K))return""}return E&&(W=E.call(S,W,"style")),"url('"+W.replace(/\'/g,"\\'")+"')"};if(d){for(d=d.replace(/[\u0000-\u001F]/g,""),d=d.replace(/\\[\"\';:\uFEFF]/g,L).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(z){return z.replace(/[;:]/g,L)});m=i.exec(d);)if(i.lastIndex=m.index+m[0].length,h=m[1].replace(o,"").toLowerCase(),y=m[2].replace(o,""),h&&y){if(h=D(h),y=D(y),h.indexOf(c)!==-1||h.indexOf('"')!==-1||!e.allow_script_urls&&(h==="behavior"||/expression\s*\(|\/\*|\*\//.test(y)))continue;h==="font-weight"&&y==="700"?y="bold":(h==="color"||h==="background-color")&&(y=y.toLowerCase()),y=y.replace(r,_d),y=y.replace(a,te),p[h]=g?re(y,!0):y}C("border","",!0),C("border","-width"),C("border","-color"),C("border","-style"),C("padding",""),C("margin",""),B("border","border-width","border-style","border-color"),p.border==="medium none"&&delete p.border,p["border-image"]==="none"&&delete p["border-image"]}return p},serialize:function(d,p){var m="",h=function(g){var E,S=f[g];if(S)for(var C=0,x=S.length;C<x;C++)g=S[C],E=d[g],E&&(m+=(m.length>0?" ":"")+g+": "+E+";")},y=function(g,E){var S=l["*"];return S&&S[g]?!1:(S=l[E],!(S&&S[g]))};return p&&f?(h("*"),h(p)):Ie(d,function(g,E){g&&(!l||y(E,p))&&(m+=(m.length>0?" ":"")+E+": "+g+";")}),m}}},HS={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},qs=function(e){return e instanceof Event||Pe(e.initEvent)},VS=function(e){return e.isDefaultPrevented===je||e.isDefaultPrevented===Be},qS=function(e){return dn(e.preventDefault)||qs(e)},WS=function(e,t){var n=t!=null?t:{};for(var r in e)ge(HS,r)||(n[r]=e[r]);return Ne(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n},Dd=function(e,t,n,r){var a,i=WS(t,r);return i.type=e,dn(i.target)&&(i.target=(a=i.srcElement)!==null&&a!==void 0?a:n),qS(t)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=je,Pe(t.preventDefault)?t.preventDefault():qs(t)&&(t.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=je,Pe(t.stopPropagation)?t.stopPropagation():qs(t)&&(t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=je,i.stopPropagation()},VS(i)||(i.isDefaultPrevented=i.defaultPrevented===!0?je:Be,i.isPropagationStopped=i.cancelBubble===!0?je:Be,i.isImmediatePropagationStopped=Be)),i},jS="mce-data-",KS=/^(?:mouse|contextmenu)|click/,Ws=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},bo=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},GS=function(e){return Ne(e)&&KS.test(e.type)},ma=function(e,t){var n=Dd(e.type,e,document,t);if(GS(e)&&Nt(e.pageX)&&!Nt(e.clientX)){var r=n.target.ownerDocument||document,a=r.documentElement,i=r.body,o=n;o.pageX=e.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)}return Nt(n.metaKey)&&(n.metaKey=!1),n},XS=function(e,t,n){var r=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}var i=function(){return r.readyState==="complete"||r.readyState==="interactive"&&r.body},o=function(){bo(e,"DOMContentLoaded",o),bo(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};i()?o():Ws(e,"DOMContentLoaded",o),n.domLoaded||Ws(e,"load",o)},ha=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=jS+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(t,n,r,a){var i=this,o,u,s,f,l,c,v,d=window,p=function(h){i.executeHandlers(ma(h||d.event),o)};if(!(!t||t.nodeType===3||t.nodeType===8)){t[i.expando]?o=t[i.expando]:(o=i.count++,t[i.expando]=o,i.events[o]={}),a=a||t;var m=n.split(" ");for(s=m.length;s--;){if(f=m[s],c=p,l=v=!1,f==="DOMContentLoaded"&&(f="ready"),i.domLoaded&&f==="ready"&&t.readyState==="complete"){r.call(a,ma({type:f}));continue}i.hasMouseEnterLeave||(l=i.mouseEnterLeave[f],l&&(c=function(h){var y=h.currentTarget,g=h.relatedTarget;if(g&&y.contains)g=y.contains(g);else for(;g&&g!==y;)g=g.parentNode;g||(h=ma(h||d.event),h.type=h.type==="mouseout"?"mouseleave":"mouseenter",h.target=y,i.executeHandlers(h,o))})),!i.hasFocusIn&&(f==="focusin"||f==="focusout")&&(v=!0,l=f==="focusin"?"focus":"blur",c=function(h){h=ma(h||d.event),h.type=h.type==="focus"?"focusin":"focusout",i.executeHandlers(h,o)}),u=i.events[o][f],u?f==="ready"&&i.domLoaded?r(ma({type:f})):u.push({func:r,scope:a}):(i.events[o][f]=u=[{func:r,scope:a}],u.fakeName=l,u.capture=v,u.nativeHandler=c,f==="ready"?XS(t,c,i):Ws(t,l||f,c,v))}return t=u=null,r}},e.prototype.unbind=function(t,n,r){var a,i,o,u,s;if(!t||t.nodeType===3||t.nodeType===8)return this;var f=t[this.expando];if(f){if(s=this.events[f],n){var l=n.split(" ");for(i=l.length;i--;)if(u=l[i],a=s[u],a){if(r){for(o=a.length;o--;)if(a[o].func===r){var c=a.nativeHandler,v=a.fakeName,d=a.capture;a=a.slice(0,o).concat(a.slice(o+1)),a.nativeHandler=c,a.fakeName=v,a.capture=d,s[u]=a}}(!r||a.length===0)&&(delete s[u],bo(t,a.fakeName||u,a.nativeHandler,a.capture))}}else Ie(s,function(p,m){bo(t,p.fakeName||m,p.nativeHandler,p.capture)}),s={};for(u in s)if(ge(s,u))return this;delete this.events[f];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},e.prototype.fire=function(t,n,r){var a;if(!t||t.nodeType===3||t.nodeType===8)return this;var i=ma({type:n,target:t},r);do a=t[this.expando],a&&this.executeHandlers(i,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!i.isPropagationStopped());return this},e.prototype.clean=function(t){var n,r;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),r=t.getElementsByTagName("*"),n=r.length;n--;)t=r[n],t[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,n){var r=this.events[n],a=r&&r[t.type];if(a)for(var i=0,o=a.length;i<o;i++){var u=a[i];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Qe,xe,yo,Od,si,js,Pd,Co,er,ga,tr,Ft,wo,Cn,nr,ba,YS,fi,ft="sizzle"+-new Date,nn=window.document,wn=0,QS=0,Id=Ys(),$d=Ys(),Ld=Ys(),Ks=function(e,t){return e===t&&(ga=!0),0},So="undefined",Fd=1<<31,ZS={}.hasOwnProperty,rr=[],JS=rr.pop,eE=rr.push,ar=rr.push,Md=rr.slice,Rr=rr.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},tE="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$e="[\\x20\\t\\r\\n\\f]",Br="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ud="\\["+$e+"*("+Br+")(?:"+$e+"*([*^$|!~]?=)"+$e+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Br+"))|)"+$e+"*\\]",zd=":("+Br+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ud+")*)|.*)\\)|)",Eo=new RegExp("^"+$e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$e+"+$","g"),nE=new RegExp("^"+$e+"*,"+$e+"*"),rE=new RegExp("^"+$e+"*([>+~]|"+$e+")"+$e+"*"),aE=new RegExp("="+$e+`*([^\\]'"]*?)`+$e+"*\\]","g"),iE=new RegExp(zd),oE=new RegExp("^"+Br+"$"),ko={ID:new RegExp("^#("+Br+")"),CLASS:new RegExp("^\\.("+Br+")"),TAG:new RegExp("^("+Br+"|[*])"),ATTR:new RegExp("^"+Ud),PSEUDO:new RegExp("^"+zd),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$e+"*(even|odd|(([+-]|)(\\d*)n|)"+$e+"*(?:([+-]|)"+$e+"*(\\d+)|))"+$e+"*\\)|)","i"),bool:new RegExp("^(?:"+tE+")$","i"),needsContext:new RegExp("^"+$e+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$e+"*((?:-\\d)?\\d*)"+$e+"*\\)|)(?=[^-]|$)","i")},uE=/^(?:input|select|textarea|button)$/i,sE=/^h\d$/i,Gs=/^[^{]+\{\s*\[native \w/,fE=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xs=/[+~]/,lE=/'|\\/g,ir=new RegExp("\\\\([\\da-f]{1,6}"+$e+"?|("+$e+")|.)","ig"),or=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{ar.apply(rr=Md.call(nn.childNodes),nn.childNodes),rr[nn.childNodes.length].nodeType}catch{ar={apply:rr.length?function(t,n){eE.apply(t,Md.call(n))}:function(t,n){for(var r=t.length,a=0;t[r++]=n[a++];);t.length=r-1}}}var Se=function(e,t,n,r){var a,i,o,u,s,f,l,c,v,d;if((t?t.ownerDocument||t:nn)!==Ft&&tr(t),t=t||Ft,n=n||[],!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(Cn&&!r){if(a=fE.exec(e))if(o=a[1]){if(u===9)if(i=t.getElementById(o),i&&i.parentNode){if(i.id===o)return n.push(i),n}else return n;else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(o))&&fi(t,i)&&i.id===o)return n.push(i),n}else{if(a[2])return ar.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&Qe.getElementsByClassName)return ar.apply(n,t.getElementsByClassName(o)),n}if(Qe.qsa&&(!nr||!nr.test(e))){if(c=l=ft,v=t,d=u===9&&e,u===1&&t.nodeName.toLowerCase()!=="object"){for(f=si(e),(l=t.getAttribute("id"))?c=l.replace(lE,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",s=f.length;s--;)f[s]=c+xo(f[s]);v=Xs.test(e)&&Qs(t.parentNode)||t,d=f.join(",")}if(d)try{return ar.apply(n,v.querySelectorAll(d)),n}catch{}finally{l||t.removeAttribute("id")}}}return Pd(e.replace(Eo,"$1"),t,n,r)};function Ys(){var e=[];function t(n,r){return e.push(n+" ")>xe.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function rn(e){return e[ft]=!0,e}function Hd(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||Fd)-(~e.sourceIndex||Fd);if(r)return r;if(n){for(;n=n.nextSibling;)if(n===t)return-1}return e?1:-1}function cE(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function vE(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function _r(e){return rn(function(t){return t=+t,rn(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function Qs(e){return e&&typeof e.getElementsByTagName!==So&&e}Qe=Se.support={},Od=Se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},tr=Se.setDocument=function(e){var t,n=e?e.ownerDocument||e:nn,r=n.defaultView;function a(i){try{return i.top}catch{}return null}return n===Ft||n.nodeType!==9||!n.documentElement?Ft:(Ft=n,wo=n.documentElement,Cn=!Od(n),r&&r!==a(r)&&(r.addEventListener?r.addEventListener("unload",function(){tr()},!1):r.attachEvent&&r.attachEvent("onunload",function(){tr()})),Qe.attributes=!0,Qe.getElementsByTagName=!0,Qe.getElementsByClassName=Gs.test(n.getElementsByClassName),Qe.getById=!0,xe.find.ID=function(i,o){if(typeof o.getElementById!==So&&Cn){var u=o.getElementById(i);return u&&u.parentNode?[u]:[]}},xe.filter.ID=function(i){var o=i.replace(ir,or);return function(u){return u.getAttribute("id")===o}},xe.find.TAG=Qe.getElementsByTagName?function(i,o){if(typeof o.getElementsByTagName!==So)return o.getElementsByTagName(i)}:function(i,o){var u,s=[],f=0,l=o.getElementsByTagName(i);if(i==="*"){for(;u=l[f++];)u.nodeType===1&&s.push(u);return s}return l},xe.find.CLASS=Qe.getElementsByClassName&&function(i,o){if(Cn)return o.getElementsByClassName(i)},ba=[],nr=[],Qe.disconnectedMatch=!0,nr=nr.length&&new RegExp(nr.join("|")),ba=ba.length&&new RegExp(ba.join("|")),t=Gs.test(wo.compareDocumentPosition),fi=t||Gs.test(wo.contains)?function(i,o){var u=i.nodeType===9?i.documentElement:i,s=o&&o.parentNode;return i===s||!!(s&&s.nodeType===1&&(u.contains?u.contains(s):i.compareDocumentPosition&&i.compareDocumentPosition(s)&16))}:function(i,o){if(o){for(;o=o.parentNode;)if(o===i)return!0}return!1},Ks=t?function(i,o){if(i===o)return ga=!0,0;var u=!i.compareDocumentPosition-!o.compareDocumentPosition;return u||(u=(i.ownerDocument||i)===(o.ownerDocument||o)?i.compareDocumentPosition(o):1,u&1||!Qe.sortDetached&&o.compareDocumentPosition(i)===u?i===n||i.ownerDocument===nn&&fi(nn,i)?-1:o===n||o.ownerDocument===nn&&fi(nn,o)?1:er?Rr.call(er,i)-Rr.call(er,o):0:u&4?-1:1)}:function(i,o){if(i===o)return ga=!0,0;var u,s=0,f=i.parentNode,l=o.parentNode,c=[i],v=[o];if(!f||!l)return i===n?-1:o===n?1:f?-1:l?1:er?Rr.call(er,i)-Rr.call(er,o):0;if(f===l)return Hd(i,o);for(u=i;u=u.parentNode;)c.unshift(u);for(u=o;u=u.parentNode;)v.unshift(u);for(;c[s]===v[s];)s++;return s?Hd(c[s],v[s]):c[s]===nn?-1:v[s]===nn?1:0},n)},Se.matches=function(e,t){return Se(e,null,null,t)},Se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Ft&&tr(e),t=t.replace(aE,"='$1']"),Qe.matchesSelector&&Cn&&(!ba||!ba.test(t))&&(!nr||!nr.test(t)))try{var n=YS.call(e,t);if(n||Qe.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch{}return Se(t,Ft,null,[e]).length>0},Se.contains=function(e,t){return(e.ownerDocument||e)!==Ft&&tr(e),fi(e,t)},Se.attr=function(e,t){(e.ownerDocument||e)!==Ft&&tr(e);var n=xe.attrHandle[t.toLowerCase()],r=n&&ZS.call(xe.attrHandle,t.toLowerCase())?n(e,t,!Cn):void 0;return r!==void 0?r:Qe.attributes||!Cn?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Se.uniqueSort=function(e){var t,n=[],r=0,a=0;if(ga=!Qe.detectDuplicates,er=!Qe.sortStable&&e.slice(0),e.sort(Ks),ga){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return er=null,e},yo=Se.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(a===1||a===9||a===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=yo(e)}else if(a===3||a===4)return e.nodeValue}else for(;t=e[r++];)n+=yo(t);return n},xe=Se.selectors={cacheLength:50,createPseudo:rn,match:ko,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ir,or),e[3]=(e[3]||e[4]||e[5]||"").replace(ir,or),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ko.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&iE.test(n)&&(t=si(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ir,or).toLowerCase();return e==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Id[e+" "];return t||(t=new RegExp("(^|"+$e+")"+e+"("+$e+"|$)"))&&Id(e,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!==So&&n.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=Se.attr(r,e);return a==null?t==="!=":t?(a+="",t==="="?a===n:t==="!="?a!==n:t==="^="?n&&a.indexOf(n)===0:t==="*="?n&&a.indexOf(n)>-1:t==="$="?n&&a.slice(-n.length)===n:t==="~="?(" "+a+" ").indexOf(n)>-1:t==="|="?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,a){var i=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&a===0?function(s){return!!s.parentNode}:function(s,f,l){var c,v,d,p,m,h,y=i!==o?"nextSibling":"previousSibling",g=s.parentNode,E=u&&s.nodeName.toLowerCase(),S=!l&&!u;if(g){if(i){for(;y;){for(d=s;d=d[y];)if(u?d.nodeName.toLowerCase()===E:d.nodeType===1)return!1;h=y=e==="only"&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&S){for(v=g[ft]||(g[ft]={}),c=v[e]||[],m=c[0]===wn&&c[1],p=c[0]===wn&&c[2],d=m&&g.childNodes[m];d=++m&&d&&d[y]||(p=m=0)||h.pop();)if(d.nodeType===1&&++p&&d===s){v[e]=[wn,m,p];break}}else if(S&&(c=(s[ft]||(s[ft]={}))[e])&&c[0]===wn)p=c[1];else for(;(d=++m&&d&&d[y]||(p=m=0)||h.pop())&&!((u?d.nodeName.toLowerCase()===E:d.nodeType===1)&&++p&&(S&&((d[ft]||(d[ft]={}))[e]=[wn,p]),d===s)););return p-=a,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,t){var n,r=xe.pseudos[e]||xe.setFilters[e.toLowerCase()]||Se.error("unsupported pseudo: "+e);return r[ft]?r(t):r.length>1?(n=[e,e,"",t],xe.setFilters.hasOwnProperty(e.toLowerCase())?rn(function(a,i){for(var o,u=r(a,t),s=u.length;s--;)o=Rr.call(a,u[s]),a[o]=!(i[o]=u[s])}):function(a){return r(a,0,n)}):r}},pseudos:{not:rn(function(e){var t=[],n=[],r=js(e.replace(Eo,"$1"));return r[ft]?rn(function(a,i,o,u){for(var s,f=r(a,null,u,[]),l=a.length;l--;)(s=f[l])&&(a[l]=!(i[l]=s))}):function(a,i,o){return t[0]=a,r(t,null,o,n),t[0]=null,!n.pop()}}),has:rn(function(e){return function(t){return Se(e,t).length>0}}),contains:rn(function(e){return e=e.replace(ir,or),function(t){return(t.textContent||t.innerText||yo(t)).indexOf(e)>-1}}),lang:rn(function(e){return oE.test(e||"")||Se.error("unsupported lang: "+e),e=e.replace(ir,or).toLowerCase(),function(t){var n;do if(n=Cn?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===wo},focus:function(e){return e===Ft.activeElement&&(!Ft.hasFocus||Ft.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!xe.pseudos.empty(e)},header:function(e){return sE.test(e.nodeName)},input:function(e){return uE.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:_r(function(){return[0]}),last:_r(function(e,t){return[t-1]}),eq:_r(function(e,t,n){return[n<0?n+t:n]}),even:_r(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:_r(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:_r(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:_r(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},xe.pseudos.nth=xe.pseudos.eq,Q(["radio","checkbox","file","password","image"],function(e){xe.pseudos[e]=cE(e)}),Q(["submit","reset"],function(e){xe.pseudos[e]=vE(e)});function Vd(){}Vd.prototype=xe.filters=xe.pseudos,xe.setFilters=new Vd,si=Se.tokenize=function(e,t){var n,r,a,i,o,u,s,f=$d[e+" "];if(f)return t?0:f.slice(0);for(o=e,u=[],s=xe.preFilter;o;){(!n||(r=nE.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),u.push(a=[])),n=!1,(r=rE.exec(o))&&(n=r.shift(),a.push({value:n,type:r[0].replace(Eo," ")}),o=o.slice(n.length));for(i in xe.filter)!xe.filter.hasOwnProperty(i)||(r=ko[i].exec(o))&&(!s[i]||(r=s[i](r)))&&(n=r.shift(),a.push({value:n,type:i,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?Se.error(e):$d(e,u).slice(0)};function xo(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Zs(e,t,n){var r=t.dir,a=n&&r==="parentNode",i=QS++;return t.first?function(o,u,s){for(;o=o[r];)if(o.nodeType===1||a)return e(o,u,s)}:function(o,u,s){var f,l,c=[wn,i];if(s){for(;o=o[r];)if((o.nodeType===1||a)&&e(o,u,s))return!0}else for(;o=o[r];)if(o.nodeType===1||a){if(l=o[ft]||(o[ft]={}),(f=l[r])&&f[0]===wn&&f[1]===i)return c[2]=f[2];if(l[r]=c,c[2]=e(o,u,s))return!0}}}function Js(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function dE(e,t,n){for(var r=0,a=t.length;r<a;r++)Se(e,t[r],n);return n}function To(e,t,n,r,a){for(var i,o=[],u=0,s=e.length,f=t!=null;u<s;u++)(i=e[u])&&(!n||n(i,r,a))&&(o.push(i),f&&t.push(u));return o}function ef(e,t,n,r,a,i){return r&&!r[ft]&&(r=ef(r)),a&&!a[ft]&&(a=ef(a,i)),rn(function(o,u,s,f){var l,c,v,d=[],p=[],m=u.length,h=o||dE(t||"*",s.nodeType?[s]:s,[]),y=e&&(o||!t)?To(h,d,e,s,f):h,g=n?a||(o?e:m||r)?[]:u:y;if(n&&n(y,g,s,f),r)for(l=To(g,p),r(l,[],s,f),c=l.length;c--;)(v=l[c])&&(g[p[c]]=!(y[p[c]]=v));if(o){if(a||e){if(a){for(l=[],c=g.length;c--;)(v=g[c])&&l.push(y[c]=v);a(null,g=[],l,f)}for(c=g.length;c--;)(v=g[c])&&(l=a?Rr.call(o,v):d[c])>-1&&(o[l]=!(u[l]=v))}}else g=To(g===u?g.splice(m,g.length):g),a?a(null,u,g,f):ar.apply(u,g)})}function tf(e){for(var t,n,r,a=e.length,i=xe.relative[e[0].type],o=i||xe.relative[" "],u=i?1:0,s=Zs(function(c){return c===t},o,!0),f=Zs(function(c){return Rr.call(t,c)>-1},o,!0),l=[function(c,v,d){var p=!i&&(d||v!==Co)||((t=v).nodeType?s(c,v,d):f(c,v,d));return t=null,p}];u<a;u++)if(n=xe.relative[e[u].type])l=[Zs(Js(l),n)];else{if(n=xe.filter[e[u].type].apply(null,e[u].matches),n[ft]){for(r=++u;r<a&&!xe.relative[e[r].type];r++);return ef(u>1&&Js(l),u>1&&xo(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(Eo,"$1"),n,u<r&&tf(e.slice(u,r)),r<a&&tf(e=e.slice(r)),r<a&&xo(e))}l.push(n)}return Js(l)}function pE(e,t){var n=t.length>0,r=e.length>0,a=function(i,o,u,s,f){var l,c,v,d=0,p="0",m=i&&[],h=[],y=Co,g=i||r&&xe.find.TAG("*",f),E=wn+=y==null?1:Math.random()||.1,S=g.length;for(f&&(Co=o!==Ft&&o);p!==S&&(l=g[p])!=null;p++){if(r&&l){for(c=0;v=e[c++];)if(v(l,o,u)){s.push(l);break}f&&(wn=E)}n&&((l=!v&&l)&&d--,i&&m.push(l))}if(d+=p,n&&p!==d){for(c=0;v=t[c++];)v(m,h,o,u);if(i){if(d>0)for(;p--;)m[p]||h[p]||(h[p]=JS.call(s));h=To(h)}ar.apply(s,h),f&&!i&&h.length>0&&d+t.length>1&&Se.uniqueSort(s)}return f&&(wn=E,Co=y),m};return n?rn(a):a}js=Se.compile=function(e,t){var n,r=[],a=[],i=Ld[e+" "];if(!i){for(t||(t=si(e)),n=t.length;n--;)i=tf(t[n]),i[ft]?r.push(i):a.push(i);i=Ld(e,pE(a,r)),i.selector=e}return i},Pd=Se.select=function(e,t,n,r){var a,i,o,u,s,f=typeof e=="function"&&e,l=!r&&si(e=f.selector||e);if(n=n||[],l.length===1){if(i=l[0]=l[0].slice(0),i.length>2&&(o=i[0]).type==="ID"&&Qe.getById&&t.nodeType===9&&Cn&&xe.relative[i[1].type]){if(t=(xe.find.ID(o.matches[0].replace(ir,or),t)||[])[0],t)f&&(t=t.parentNode);else return n;e=e.slice(i.shift().value.length)}for(a=ko.needsContext.test(e)?0:i.length;a--&&(o=i[a],!xe.relative[u=o.type]);)if((s=xe.find[u])&&(r=s(o.matches[0].replace(ir,or),Xs.test(i[0].type)&&Qs(t.parentNode)||t))){if(i.splice(a,1),e=r.length&&xo(i),!e)return ar.apply(n,r),n;break}}return(f||js(e,l))(r,t,!Cn,n,Xs.test(e)&&Qs(t.parentNode)||t),n},Qe.sortStable=ft.split("").sort(Ks).join("")===ft,Qe.detectDuplicates=!!ga,tr(),Qe.sortDetached=!0;var qd=document,nf=Array.prototype.push,mE=Array.prototype.slice,hE=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,li=ha.Event,gE=_.makeMap("children,contents,next,prev"),ci=function(e){return typeof e!="undefined"},rf=function(e){return typeof e=="string"},bE=function(e){return e&&e===e.window},Wd=function(e,t){t=t||qd;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var a;a=n.firstChild;)r.appendChild(a);return r},ya=function(e,t,n,r){var a;if(rf(t))t=Wd(t,uf(e[0]));else if(t.length&&!t.nodeType){if(t=ue.makeArray(t),r)for(a=t.length-1;a>=0;a--)ya(e,t[a],n,r);else for(a=0;a<t.length;a++)ya(e,t[a],n,r);return e}if(t.nodeType)for(a=e.length;a--;)n.call(e[a],t);return e},jd=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Kd=function(e,t,n){var r,a;return t=ue(t)[0],e.each(function(){var i=this;(!n||r!==i.parentNode)&&(r=i.parentNode,a=t.cloneNode(!1),i.parentNode.insertBefore(a,i)),a.appendChild(i)}),e},yE=_.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),CE=_.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),wE={for:"htmlFor",class:"className",readonly:"readOnly"},SE={float:"cssFloat"},af={},of={},Mt=function(e,t){return new ue.fn.init(e,t)},EE=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},kE=/^\s*|\s*$/g,Gd=function(e){return e==null?"":(""+e).replace(kE,"")},$n=function(e,t){var n,r,a,i;if(e)if(n=e.length,n===void 0){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(a=0;a<n&&(i=e[a],t.call(i,a,i)!==!1);a++);return e},Xd=function(e,t){var n=[];return $n(e,function(r,a){t(a,r)&&n.push(a)}),n},uf=function(e){return e?e.nodeType===9?e:e.ownerDocument:qd};Mt.fn=Mt.prototype={constructor:Mt,selector:"",context:null,length:0,init:function(e,t){var n=this,r,a;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return ue(e).attr(t);n.context=t=document}if(rf(e))if(n.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?r=[null,e,null]:r=hE.exec(e),r)if(r[1])for(a=Wd(e,uf(t)).firstChild;a;)nf.call(n,a),a=a.nextSibling;else{if(a=uf(t).getElementById(r[2]),!a)return n;if(a.id!==r[2])return n.find(e);n.length=1,n[0]=a}else return ue(t).find(e);else this.add(e,!1);return n},toArray:function(){return _.toArray(this)},add:function(e,t){var n=this,r,a;if(rf(e))return n.add(ue(e));if(t!==!1)for(r=ue.unique(n.toArray().concat(ue.makeArray(e))),n.length=r.length,a=0;a<r.length;a++)n[a]=r[a];else nf.apply(n,ue.makeArray(e));return n},attr:function(e,t){var n=this,r;if(typeof e=="object")$n(e,function(a,i){n.attr(a,i)});else if(ci(t))this.each(function(){var a;if(this.nodeType===1){if(a=af[e],a&&a.set){a.set(this,t);return}t===null?this.removeAttribute(e,2):this.setAttribute(e,t,2)}});else{if(n[0]&&n[0].nodeType===1){if(r=af[e],r&&r.get)return r.get(n[0],e);if(CE[e])return n.prop(e)?e:void 0;t=n[0].getAttribute(e,2),t===null&&(t=void 0)}return t}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=wE[e]||e,typeof e=="object")$n(e,function(r,a){n.prop(r,a)});else if(ci(t))this.each(function(){this.nodeType===1&&(this[e]=t)});else return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;return n},css:function(e,t){var n=this,r,a,i=function(u){return u.replace(/-(\D)/g,function(s,f){return f.toUpperCase()})},o=function(u){return u.replace(/[A-Z]/g,function(s){return"-"+s})};if(typeof e=="object")$n(e,function(u,s){n.css(u,s)});else if(ci(t))e=i(e),typeof t=="number"&&!yE[e]&&(t=t.toString()+"px"),n.each(function(){var u=this.style;if(a=of[e],a&&a.set){a.set(this,t);return}try{this.style[SE[e]||e]=t}catch{}(t===null||t==="")&&(u.removeProperty?u.removeProperty(o(e)):u.removeAttribute(e))});else{if(r=n[0],a=of[e],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(o(e))}catch{return}else return r.currentStyle?r.currentStyle[i(e)]:""}return n},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],li.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(ci(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch{ue(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(ci(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return ya(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return ya(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?ya(e,arguments,function(t){this.parentNode.insertBefore(t,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?ya(e,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):e},appendTo:function(e){return ue(e).append(this),this},prependTo:function(e){return ue(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Kd(this,e)},wrapAll:function(e){return Kd(this,e,!0)},wrapInner:function(e){return this.each(function(){ue(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ue(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ue(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return typeof e!="string"||(e.indexOf(" ")!==-1?$n(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(r,a){var i=jd(a,e);if(i!==t){var o=a.className;i?a.className=Gd((" "+o+" ").replace(" "+e+" "," ")):a.className+=o?" "+e:e}})),n},hasClass:function(e){return jd(this[0],e)},each:function(e){return $n(this,e)},on:function(e,t){return this.each(function(){li.bind(this,e,t)})},off:function(e,t){return this.each(function(){li.unbind(this,e,t)})},trigger:function(e){return this.each(function(){typeof e=="object"?li.fire(this,e.type,e):li.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ue(mE.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)ue.find(e,this[t],r);return ue(r)},filter:function(e){return ue(typeof e=="function"?Xd(this.toArray(),function(t,n){return e(n,t)}):ue.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ue&&(e=e[0]),this.each(function(n,r){for(;r;){if(typeof e=="string"&&ue(r).is(e)){t.push(r);break}else if(r===e){t.push(r);break}r=r.parentNode}}),ue(t)},offset:function(e){var t,n,r,a=0,i=0,o;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),a=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,i=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:a,top:i})},push:nf,sort:Array.prototype.sort,splice:Array.prototype.splice},_.extend(Mt,{extend:_.extend,makeArray:function(e){return bE(e)||e.nodeType?[e]:_.toArray(e)},inArray:EE,isArray:_.isArray,each:$n,trim:Gd,grep:Xd,find:Se,expr:Se.selectors,unique:Se.uniqueSort,text:Se.getText,contains:Se.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)t[r].nodeType!==1&&t.splice(r,1);return t.length===1?t=ue.find.matchesSelector(t[0],e)?[t[0]]:[]:t=ue.find.matches(e,t),t}});var Yd=function(e,t,n){var r=[],a=e[t];for(typeof n!="string"&&n instanceof ue&&(n=n[0]);a&&a.nodeType!==9&&!(n!==void 0&&(a===n||typeof n=="string"&&ue(a).is(n)));)a.nodeType===1&&r.push(a),a=a[t];return r},sf=function(e,t,n,r){var a=[];for(r instanceof ue&&(r=r[0]);e;e=e[t])if(!(n&&e.nodeType!==n)){if(r!==void 0&&(e===r||typeof r=="string"&&ue(e).is(r)))break;a.push(e)}return a},Qd=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};$n({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Yd(e,"parentNode")},next:function(e){return Qd(e,"nextSibling",1)},prev:function(e){return Qd(e,"previousSibling",1)},children:function(e){return sf(e.firstChild,"nextSibling",1)},contents:function(e){return _.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Mt.fn[e]=function(n){var r=this,a=[];r.each(function(){var o=t.call(a,this,n,a);o&&(ue.isArray(o)?a.push.apply(a,o):a.push(o))}),this.length>1&&(gE[e]||(a=ue.unique(a)),e.indexOf("parents")===0&&(a=a.reverse()));var i=ue(a);return n?i.filter(n):i}}),$n({parentsUntil:function(e,t){return Yd(e,"parentNode",t)},nextUntil:function(e,t){return sf(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return sf(e,"previousSibling",1,t).slice(1)}},function(e,t){Mt.fn[e]=function(n,r){var a=this,i=[];a.each(function(){var u=t.call(i,this,n,i);u&&(ue.isArray(u)?i.push.apply(i,u):i.push(u))}),this.length>1&&(i=ue.unique(i),(e.indexOf("parents")===0||e==="prevUntil")&&(i=i.reverse()));var o=ue(i);return r?o.filter(r):o}}),Mt.fn.is=function(e){return!!e&&this.filter(e).length>0},Mt.fn.init.prototype=Mt.fn,Mt.overrideDefaults=function(e){var t,n=function(r,a){return t=t||e(),arguments.length===0&&(r=t.element),a||(a=t.context),new n.fn.init(r,a)};return ue.extend(n,this),n},Mt.attrHooks=af,Mt.cssHooks=of;var ue=Mt,vi=_.each,xE=_.grep,ff=fe.ie,TE=/^([a-z0-9],?)+$/i,NE=function(e,t,n){var r=t.keep_values,a={set:function(o,u,s){t.url_converter&&u!==null&&(u=t.url_converter.call(t.url_converter_scope||n(),u,s,o[0])),o.attr("data-mce-"+s,u).attr(s,u)},get:function(o,u){return o.attr("data-mce-"+u)||o.attr(u)}},i={style:{set:function(o,u){if(u!==null&&typeof u=="object"){o.css(u);return}r&&o.attr("data-mce-style",u),u!==null&&typeof u=="string"?(o.removeAttr("style"),o.css(e.parse(u))):o.attr("style",u)},get:function(o){var u=o.attr("data-mce-style")||o.attr("style");return u=e.serialize(e.parse(u),o[0].nodeName),u}}};return r&&(i.href=i.src=a),i},Zd=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Ca=function(e,t){var n=0,r,a;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)a=e.nodeType,!(t&&a===3&&(a===r||!e.nodeValue.length))&&(n++,r=a);return n},Te=function(e,t){t===void 0&&(t={});var n={},r=window,a={},i=0,o=!0,u=!0,s=gd.forElement(k.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),f=[],l=t.schema?t.schema:Jn({}),c=Vs({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),v=t.ownEvents?new ha:ha.Event,d=l.getBlockElements(),p=ue.overrideDefaults(function(){return{context:e,element:Qr.getRoot()}}),m=function(w){if(typeof w=="string")return!!d[w];if(w){var A=w.nodeType;if(A)return!!(A===1&&d[w.nodeName])}return!1},h=function(w){return w&&e&&Ve(w)?e.getElementById(w):w},y=function(w){return p(typeof w=="string"?h(w):w)},g=function(w,A,U){var V,se,Ce=y(w);return Ce.length&&(V=IC[A],V&&V.get?se=V.get(Ce,A):se=Ce.attr(A)),typeof se=="undefined"&&(se=U||""),se},E=function(w){var A=h(w);return A?A.attributes:[]},S=function(w,A,U){U===""&&(U=null);var V=y(w),se=V.attr(A);if(!!V.length){var Ce=IC[A];Ce&&Ce.set?Ce.set(V,U,A):V.attr(A,U),se!==U&&t.onSetAttrib&&t.onSetAttrib({attrElm:V,attrName:A,attrValue:U})}},C=function(w,A){if(!ff||w.nodeType!==1||A)return w.cloneNode(A);var U=e.createElement(w.nodeName);return vi(E(w),function(V){S(U,V.nodeName,g(w,V.nodeName))}),U},x=function(){return t.root_element||e.body},B=function(w){var A=Jv(w);return{x:A.x,y:A.y,w:A.width,h:A.height}},L=function(w,A){return Tw(e.body,h(w),A)},re=function(w,A,U){var V=Ve(A)?y(w).css(A,U):y(w).css(A);t.update_styles&&Zd(c,V)},j=function(w,A){var U=y(w).css(A);t.update_styles&&Zd(c,U)},D=function(w,A,U){var V=y(w);return U?V.css(A):(A=A.replace(/-(\D)/g,function(se,Ce){return Ce.toUpperCase()}),A==="float"&&(A=fe.browser.isIE()?"styleFloat":"cssFloat"),V[0]&&V[0].style?V[0].style[A]:void 0)},te=function(w){var A,U;return w=h(w),A=D(w,"width"),U=D(w,"height"),A.indexOf("px")===-1&&(A=0),U.indexOf("px")===-1&&(U=0),{w:parseInt(A,10)||w.offsetWidth||w.clientWidth,h:parseInt(U,10)||w.offsetHeight||w.clientHeight}},z=function(w){w=h(w);var A=L(w),U=te(w);return{x:A.x,y:A.y,w:U.w,h:U.h}},W=function(w,A){var U;if(!w)return!1;if(!Array.isArray(w)){if(A==="*")return w.nodeType===1;if(TE.test(A)){var V=A.toLowerCase().split(/,/),se=w.nodeName.toLowerCase();for(U=V.length-1;U>=0;U--)if(V[U]===se)return!0;return!1}if(w.nodeType&&w.nodeType!==1)return!1}var Ce=Array.isArray(w)?w:[w];return Se(A,Ce[0].ownerDocument||Ce[0],null,Ce).length>0},M=function(w,A,U,V){var se=[],Ce,Re=h(w);for(V=V===void 0,U=U||(x().nodeName!=="BODY"?x().parentNode:null),_.is(A,"string")&&(Ce=A,A==="*"?A=function(yr){return yr.nodeType===1}:A=function(yr){return W(yr,Ce)});Re&&!(Re===U||dn(Re.nodeType)||Es(Re)||ks(Re));){if(!A||typeof A=="function"&&A(Re))if(V)se.push(Re);else return[Re];Re=Re.parentNode}return V?se:null},q=function(w,A,U){var V=M(w,A,U,!1);return V&&V.length>0?V[0]:null},G=function(w,A,U){var V=A;if(w){for(typeof A=="string"&&(V=function(se){return W(se,A)}),w=w[U];w;w=w[U])if(typeof V=="function"&&V(w))return w}return null},O=function(w,A){return G(w,A,"nextSibling")},K=function(w,A){return G(w,A,"previousSibling")},ve=function(w,A){return Se(w,h(A)||t.root_element||e,[])},ye=function(w,A,U){var V,se=typeof w=="string"?h(w):w;if(!se)return!1;if(_.isArray(se)&&(se.length||se.length===0))return V=[],vi(se,function(Re,yr){Re&&V.push(A.call(U,typeof Re=="string"?h(Re):Re,yr))}),V;var Ce=U||this;return A.call(Ce,se)},be=function(w,A){y(w).each(function(U,V){vi(A,function(se,Ce){S(V,Ce,se)})})},We=function(w,A){var U=y(w);ff?U.each(function(V,se){if(se.canHaveHTML!==!1){for(;se.firstChild;)se.removeChild(se.firstChild);try{se.innerHTML="<br>"+A,se.removeChild(se.firstChild)}catch{ue("<div></div>").html("<br>"+A).contents().slice(1).appendTo(se)}return A}}):U.html(A)},_e=function(w,A,U,V,se){return ye(w,function(Ce){var Re=typeof A=="string"?e.createElement(A):A;return be(Re,U),V&&(typeof V!="string"&&V.nodeType?Re.appendChild(V):typeof V=="string"&&We(Re,V)),se?Re:Ce.appendChild(Re)})},ct=function(w,A,U){return _e(e.createElement(w),w,A,U,!0)},Tt=Qn.decode,P=Qn.encodeAllRaw,H=function(w,A,U){var V="",se;V+="<"+w;for(se in A)na(A,se)&&(V+=" "+se+'="'+P(A[se])+'"');return typeof U!="undefined"?V+">"+U+"</"+w+">":V+" />"},J=function(w){var A,U=e.createElement("div"),V=e.createDocumentFragment();for(V.appendChild(U),w&&(U.innerHTML=w);A=U.firstChild;)V.appendChild(A);return V.removeChild(U),V},T=function(w,A){var U=y(w);return A?U.each(function(){for(var V;V=this.firstChild;)V.nodeType===3&&V.data.length===0?this.removeChild(V):this.parentNode.insertBefore(V,this)}).remove():U.remove(),U.length>1?U.toArray():U[0]},F=function(w){return ye(w,function(A){var U,V=A.attributes;for(U=V.length-1;U>=0;U--)A.removeAttributeNode(V.item(U))})},I=function(w){return c.parse(w)},ee=function(w,A){return c.serialize(w,A)},ne=function(w){var A,U;if(Qr!==Te.DOM&&e===document){if(n[w])return;n[w]=!0}U=e.getElementById("mceDefaultStyles"),U||(U=e.createElement("style"),U.id="mceDefaultStyles",U.type="text/css",A=e.getElementsByTagName("head")[0],A.firstChild?A.insertBefore(U,A.firstChild):A.appendChild(U)),U.styleSheet?U.styleSheet.cssText+=w:U.appendChild(e.createTextNode(w))},we=function(w){w||(w=""),Q(w.split(","),function(A){a[A]=!0,s.load(A,pe)})},Ue=function(w,A,U){y(w).toggleClass(A,U).each(function(){this.className===""&&ue(this).attr("class",null)})},Le=function(w,A){y(w).addClass(A)},Vn=function(w,A){Ue(w,A,!1)},vt=function(w,A){return y(w).hasClass(A)},ht=function(w){y(w).show()},ze=function(w){y(w).hide()},Pt=function(w){return y(w).css("display")==="none"},gt=function(w){return(w||"mce_")+i++},Dn=function(w){var A=typeof w=="string"?h(w):w;return ie(A)?A.outerHTML:ue("<div></div>").append(ue(A).clone()).html()},Ee=function(w,A){y(w).each(function(){try{if("outerHTML"in this){this.outerHTML=A;return}}catch{}T(ue(this).html(A),!0)})},ke=function(w,A){var U=h(A);return ye(w,function(V){var se=U.parentNode,Ce=U.nextSibling;return Ce?se.insertBefore(V,Ce):se.appendChild(V),V})},He=function(w,A,U){return ye(A,function(V){return _.is(V,"array")&&(w=w.cloneNode(!0)),U&&vi(xE(V.childNodes),function(se){w.appendChild(se)}),V.parentNode.replaceChild(w,V)})},ln=function(w,A){var U;return w.nodeName!==A.toUpperCase()&&(U=ct(A),vi(E(w),function(V){S(U,V.nodeName,g(w,V.nodeName))}),He(U,w,!0)),U||w},cn=function(w,A){for(var U=w,V;U;){for(V=A;V&&U!==V;)V=V.parentNode;if(U===V)break;U=U.parentNode}return!U&&w.ownerDocument?w.ownerDocument.documentElement:U},vn=function(w){return c.toHex(_.trim(w))},br=function(w){if(ie(w)){var A=w.nodeName.toLowerCase()==="a"&&!g(w,"href")&&g(w,"id");if(g(w,"name")||g(w,"data-mce-bookmark")||A)return!0}return!1},Vc=function(w,A){var U,V,se=0;if(br(w))return!1;if(w=w.firstChild,w){var Ce=new Xe(w,w.parentNode),Re=l?l.getWhiteSpaceElements():{};A=A||(l?l.getNonEmptyElements():null);do{if(U=w.nodeType,ie(w)){var yr=w.getAttribute("data-mce-bogus");if(yr){w=Ce.next(yr==="all");continue}if(V=w.nodeName.toLowerCase(),A&&A[V]){if(V==="br"){se++,w=Ce.next();continue}return!1}if(br(w))return!1}if(U===8||U===3&&!Nr(w.nodeValue)||U===3&&w.parentNode&&Re[w.parentNode.nodeName]&&Nr(w.nodeValue))return!1;w=Ce.next()}while(w)}return se<=1},qc=function(){return e.createRange()},JU=function(w,A,U){var V=qc(),se,Ce,Re;if(w&&A)return V.setStart(w.parentNode,Ca(w)),V.setEnd(A.parentNode,Ca(A)),se=V.extractContents(),V=qc(),V.setStart(A.parentNode,Ca(A)+1),V.setEnd(w.parentNode,Ca(w)+1),Ce=V.extractContents(),Re=w.parentNode,Re.insertBefore(Fs(Qr,se),w),U?Re.insertBefore(U,w):Re.insertBefore(A,w),Re.insertBefore(Fs(Qr,Ce),w),T(w),U||A},DC=function(w,A,U,V){if(_.isArray(w)){for(var se=w.length,Ce=[];se--;)Ce[se]=DC(w[se],A,U,V);return Ce}t.collect&&(w===e||w===r)&&f.push([w,A,U,V]);var Re=v.bind(w,A,U,V||Qr);return Re},OC=function(w,A,U){if(_.isArray(w)){for(var V=w.length,se=[];V--;)se[V]=OC(w[V],A,U);return se}else{if(f.length>0&&(w===e||w===r))for(var V=f.length;V--;){var Ce=f[V];w===Ce[0]&&(!A||A===Ce[1])&&(!U||U===Ce[2])&&v.unbind(Ce[0],Ce[1],Ce[2])}return v.unbind(w,A,U)}},e2=function(w,A,U){return v.fire(w,A,U)},PC=function(w){if(w&&ie(w)){var A=w.getAttribute("data-mce-contenteditable");return A&&A!=="inherit"?A:w.contentEditable!=="inherit"?w.contentEditable:null}else return null},t2=function(w){for(var A=x(),U=null;w&&w!==A&&(U=PC(w),U===null);w=w.parentNode);return U},n2=function(){if(f.length>0)for(var w=f.length;w--;){var A=f[w];v.unbind(A[0],A[1],A[2])}Ie(a,function(U,V){s.unload(V),delete a[V]}),Se.setDocument&&Se.setDocument()},r2=function(w,A){if(ff){for(;w;){if(A===w)return!0;w=w.parentNode}return!1}else return w===A||A.contains(w)},a2=function(w){return"startContainer: "+w.startContainer.nodeName+", startOffset: "+w.startOffset+", endContainer: "+w.endContainer.nodeName+", endOffset: "+w.endOffset},Qr={doc:e,settings:t,win:r,files:a,stdMode:o,boxModel:u,styleSheetLoader:s,boundEvents:f,styles:c,schema:l,events:v,isBlock:m,$:p,$$:y,root:null,clone:C,getRoot:x,getViewPort:B,getRect:z,getSize:te,getParent:q,getParents:M,get:h,getNext:O,getPrev:K,select:ve,is:W,add:_e,create:ct,createHTML:H,createFragment:J,remove:T,setStyle:re,getStyle:D,setStyles:j,removeAllAttribs:F,setAttrib:S,setAttribs:be,getAttrib:g,getPos:L,parseStyle:I,serializeStyle:ee,addStyle:ne,loadCSS:we,addClass:Le,removeClass:Vn,hasClass:vt,toggleClass:Ue,show:ht,hide:ze,isHidden:Pt,uniqueId:gt,setHTML:We,getOuterHTML:Dn,setOuterHTML:Ee,decode:Tt,encode:P,insertAfter:ke,replace:He,rename:ln,findCommonAncestor:cn,toHex:vn,run:ye,getAttribs:E,isEmpty:Vc,createRng:qc,nodeIndex:Ca,split:JU,bind:DC,unbind:OC,fire:e2,getContentEditable:PC,getContentEditableParent:t2,destroy:n2,isChildOf:r2,dumpRng:a2},IC=NE(c,t,Y(Qr));return Qr};Te.DOM=Te(document),Te.nodeIndex=Ca;var AE=Te.DOM,lf=_.each,RE=_.grep,BE=0,Jd=1,No=2,ep=3,Ln=function(){function e(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(t,n,r){var a=AE,i,o=function(){a.remove(f),i&&(i.onerror=i.onload=i=null)},u=function(){o(),n()},s=function(){o(),Pe(r)?r():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+t)},f=a.uniqueId();i=document.createElement("script"),i.id=f,i.type="text/javascript",i.src=_._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=u,i.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},e.prototype.isDone=function(t){return this.states[t]===No},e.prototype.markDone=function(t){this.states[t]=No},e.prototype.add=function(t,n,r,a){var i=this.states[t];this.queue.push(t),i===void 0&&(this.states[t]=BE),n&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:n,failure:a,scope:r||this}))},e.prototype.load=function(t,n,r,a){return this.add(t,n,r,a)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,n,r){this.loadScripts(this.queue,t,n,r)},e.prototype.loadScripts=function(t,n,r,a){var i=this,o=[],u=function(f,l){lf(i.scriptLoadedCallbacks[l],function(c){Pe(c[f])&&c[f].call(c.scope)}),i.scriptLoadedCallbacks[l]=void 0};i.queueLoadedCallbacks.push({success:n,failure:a,scope:r||this});var s=function(){var f=RE(t);if(t.length=0,lf(f,function(c){if(i.states[c]===No){u("success",c);return}if(i.states[c]===ep){u("failure",c);return}i.states[c]!==Jd&&(i.states[c]=Jd,i.loading++,i.loadScript(c,function(){i.states[c]=No,i.loading--,u("success",c),s()},function(){i.states[c]=ep,i.loading--,o.push(c),u("failure",c),s()}))}),!i.loading){var l=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,lf(l,function(c){o.length===0?Pe(c.success)&&c.success.call(c.scope):Pe(c.failure)&&c.failure.call(c.scope,o)})}};s()},e.ScriptLoader=new e,e}(),dt=function(e){var t=e,n=function(){return t},r=function(a){t=a};return{get:n,set:r}},_E=function(e){return Zr(e)&&ge(e,"raw")},DE=function(e){return qt(e)&&e.length>1},di={},cf=dt("en"),tp=function(){return Ke(di,cf.get())},OE=function(){return rv(di,function(e){return oe({},e)})},PE=function(e){e&&cf.set(e)},IE=function(){return cf.get()},$E=function(e,t){var n=di[e];n||(di[e]=n={}),Ie(t,function(r,a){n[a.toLowerCase()]=r})},LE=function(e){var t=tp().getOr({}),n=function(s){return Pe(s)?Object.prototype.toString.call(s):r(s)?"":""+s},r=function(s){return s===""||s===null||s===void 0},a=function(s){var f=n(s);return Ke(t,f.toLowerCase()).map(n).getOr(f)},i=function(s){return s.replace(/{context:\w+}$/,"")};if(r(e))return"";if(_E(e))return n(e.raw);if(DE(e)){var o=e.slice(1),u=a(e[0]).replace(/\{([0-9]+)\}/g,function(s,f){return ge(o,f)?n(o[f]):s});return i(u)}return i(a(e))},FE=function(){return tp().bind(function(e){return Ke(e,"_dir")}).exists(function(e){return e==="rtl"})},ME=function(e){return ge(di,e)},an={getData:OE,setCode:PE,getCode:IE,add:$E,translate:LE,isRtl:FE,hasCode:ME},Bt=function(){var e=[],t={},n={},r=[],a=function(m,h){var y=he(r,function(g){return g.name===m&&g.state===h});Q(y,function(g){return g.callback()})},i=function(m){if(n[m])return n[m].instance},o=function(m){var h;return n[m]&&(h=n[m].dependencies),h||[]},u=function(m,h){Bt.languageLoad!==!1&&p(m,function(){var y=an.getCode(),g=","+(h||"")+",";!y||h&&g.indexOf(","+y+",")===-1||Ln.ScriptLoader.add(t[m]+"/langs/"+y+".js")},"loaded")},s=function(m,h,y){var g=h;return e.push(g),n[m]={instance:g,dependencies:y},a(m,"added"),g},f=function(m){delete t[m],delete n[m]},l=function(m,h){return typeof h=="object"?h:typeof m=="string"?{prefix:"",resource:h,suffix:""}:{prefix:m.prefix,resource:h,suffix:m.suffix}},c=function(m,h){var y=t[m];Q(h,function(g){Ln.ScriptLoader.add(y+"/"+g)})},v=function(m,h,y,g){var E=o(m);Q(E,function(S){var C=l(h,S);d(C.resource,C,void 0,void 0)}),y&&(g?y.call(g):y.call(Ln))},d=function(m,h,y,g,E){if(!t[m]){var S=typeof h=="string"?h:h.prefix+h.resource+h.suffix;S.indexOf("/")!==0&&S.indexOf("://")===-1&&(S=Bt.baseURL+"/"+S),t[m]=S.substring(0,S.lastIndexOf("/"));var C=function(){a(m,"loaded"),v(m,h,y,g)};n[m]?C():Ln.ScriptLoader.add(S,C,g,E)}},p=function(m,h,y){y===void 0&&(y="added"),ge(n,m)&&y==="added"||ge(t,m)&&y==="loaded"?h():r.push({name:m,state:y,callback:h})};return{items:e,urls:t,lookup:n,_listeners:r,get:i,dependencies:o,requireLangPack:u,add:s,remove:f,createUrl:l,addComponents:c,load:d,waitFor:p}};Bt.languageLoad=!0,Bt.baseURL="",Bt.PluginManager=Bt(),Bt.ThemeManager=Bt();var UE=function(e){var t=dt(b.none()),n=function(){return t.get().each(e)},r=function(){n(),t.set(b.none())},a=function(){return t.get().isSome()},i=function(){return t.get()},o=function(u){n(),t.set(b.some(u))};return{clear:r,isSet:a,get:i,set:o}},wa=function(){var e=UE(pe),t=function(n){return e.get().each(n)};return oe(oe({},e),{on:t})},vf=function(e,t){var n=null,r=function(){Ga(n)||(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Ga(n)&&(n=setTimeout(function(){n=null,e.apply(null,i)},t))};return{cancel:r,throttle:a}},np=function(e,t){var n=null,r=function(){Ga(n)||(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r(),n=setTimeout(function(){n=null,e.apply(null,i)},t)};return{cancel:r,throttle:a}},df=function(e,t){var n=ai(e,t);return n===void 0||n===""?[]:n.split(" ")},zE=function(e,t,n){var r=df(e,t),a=r.concat([n]);return gn(e,t,a.join(" ")),!0},HE=function(e,t,n){var r=he(df(e,t),function(a){return a!==n});return r.length>0?gn(e,t,r.join(" ")):Kn(e,t),!1},Ao=function(e){return e.dom.classList!==void 0},VE=function(e){return df(e,"class")},qE=function(e,t){return zE(e,"class",t)},WE=function(e,t){return HE(e,"class",t)},Ro=function(e,t){Ao(e)?e.dom.classList.add(t):qE(e,t)},jE=function(e){var t=Ao(e)?e.dom.classList:VE(e);t.length===0&&Kn(e,"class")},KE=function(e,t){if(Ao(e)){var n=e.dom.classList;n.remove(t)}else WE(e,t);jE(e)},rp=function(e,t){return Ao(e)&&e.dom.classList.contains(t)},ap=function(e,t){var n=[];return Q(Kt(e),function(r){t(r)&&(n=n.concat([r])),n=n.concat(ap(r,t))}),n},xt=function(e,t){return q0(t,e)},pf=Y("mce-annotation"),pi=Y("data-mce-annotation"),Bo=Y("data-mce-annotation-uid"),ip=function(e,t){var n=e.selection.getRng(),r=k.fromDom(n.startContainer),a=k.fromDom(e.getBody()),i=t.fold(function(){return"."+pf()},function(f){return"["+pi()+'="'+f+'"]'}),o=Qi(r,n.startOffset).getOr(r),u=As(o,i,function(f){return Ae(f,a)}),s=function(f,l){return yw(f,l)?b.some(ai(f,l)):b.none()};return u.bind(function(f){return s(f,""+Bo()).bind(function(l){return s(f,""+pi()).map(function(c){var v=XE(e,l);return{uid:l,name:c,elements:v}})})})},GE=function(e){return Jt(e)&&rp(e,pf())},XE=function(e,t){var n=k.fromDom(e.getBody());return xt(n,"["+Bo()+'="'+t+'"]')},YE=function(e,t){var n=k.fromDom(e.getBody()),r=xt(n,"["+pi()+'="'+t+'"]'),a={};return Q(r,function(i){var o=ai(i,Bo()),u=Ke(a,o).getOr([]);a[o]=u.concat([i])}),a},QE=function(e,t){var n=dt({}),r=function(){return{listeners:[],previous:wa()}},a=function(l,c){i(l,function(v){return c(v),v})},i=function(l,c){var v=n.get(),d=Ke(v,l).getOrThunk(r),p=c(d);v[l]=p,n.set(v)},o=function(l,c,v){a(l,function(d){Q(d.listeners,function(p){return p(!0,l,{uid:c,nodes:Oe(v,function(m){return m.dom})})})})},u=function(l){a(l,function(c){Q(c.listeners,function(v){return v(!1,l)})})},s=np(function(){var l=n.get(),c=is(ta(l));Q(c,function(v){i(v,function(d){var p=d.previous.get();return ip(e,b.some(v)).fold(function(){p.isSome()&&(u(v),d.previous.clear())},function(m){var h=m.uid,y=m.name,g=m.elements;ro(p,h)||(o(y,h,g),d.previous.set(h))}),{previous:d.previous,listeners:d.listeners}})})},30);e.on("remove",function(){s.cancel()}),e.on("NodeChange",function(){s.throttle()});var f=function(l,c){i(l,function(v){return{previous:v.previous,listeners:v.listeners.concat([c])}})};return{addListener:f}},ZE=function(e,t){var n=function(r){return b.from(r.attr(pi())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(r){Q(r,function(a){n(a).each(function(i){i.persistent===!1&&a.unwrap()})})})})},JE=function(){var e={},t=function(r,a){e[r]={name:r,settings:a}},n=function(r){return Ke(e,r).map(function(a){return a.settings})};return{register:t,lookup:n}},op=0,up=function(e){var t=new Date,n=t.getTime(),r=Math.floor(Math.random()*1e9);return op++,e+"_"+r+op+String(n)},ek=function(e,t){Q(t,function(n){Ro(e,n)})},tk=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,Kt(k.fromDom(r))},nk=function(e){return Oe(e,k.fromDom)},rk=function(e){return e.dom.innerHTML},sp=function(e,t){var n=Mv(e),r=n.dom,a=k.fromDom(r.createDocumentFragment()),i=tk(t,r);Zi(a,i),ys(e),it(e,a)},fp=function(e,t){return k.fromDom(e.dom.cloneNode(t))},Sa=function(e){return fp(e,!1)},lp=function(e){return fp(e,!0)},cp=function(e,t,n){n===void 0&&(n=Be);var r=new Xe(e,t),a=function(i){var o;do o=r[i]();while(o&&!Z(o)&&!n(o));return b.from(o).filter(Z)};return{current:function(){return b.from(r.current()).filter(Z)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}},vp=function(e,t){var n=t||function(o){return e.isBlock(o)||Me(o)||De(o)},r=function(o,u,s,f){if(Z(o)){var l=f(o,u,o.data);if(l!==-1)return b.some({container:o,offset:l})}return s().bind(function(c){return r(c.container,c.offset,s,f)})},a=function(o,u,s,f){var l=cp(o,f,n);return r(o,u,function(){return l.prev().map(function(c){return{container:c,offset:c.length}})},s).getOrNull()},i=function(o,u,s,f){var l=cp(o,f,n);return r(o,u,function(){return l.next().map(function(c){return{container:c,offset:0}})},s).getOrNull()};return{backwards:a,forwards:i}},Ea=Math.round,Dr=function(e){return e?{left:Ea(e.left),top:Ea(e.top),bottom:Ea(e.bottom),right:Ea(e.right),width:Ea(e.width),height:Ea(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},dp=function(e,t){return e=Dr(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},ak=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},pp=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},ka=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:pp(t.top-e.bottom,e,t)},xa=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:pp(t.bottom-e.top,e,t)},mp=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},ik=function(e,t,n){return Math.min(Math.max(e,t),n)},_o=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ur=function(e,t){if(ie(e)&&e.hasChildNodes()){var n=e.childNodes,r=ik(t,0,n.length-1);return n[r]}else return e},ok=function(e,t){if(!(t<0&&ie(e)&&e.hasChildNodes()))return ur(e,t)},uk=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),hp=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&uk.test(e)},sk=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(e[r](n))return!0;return!1}},fk=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(!e[r](n))return!1;return!0}},gp=ie,lk=yn,bp=to("display","block table"),ck=to("float","left right"),mi=fk(gp,lk,ts(ck)),vk=ts(to("white-space","pre pre-line pre-wrap")),hi=Z,mf=Me,yp=Te.nodeIndex,Do=ok,hf=function(e){return"createRange"in e?e.createRange():Te.DOM.createRng()},gf=function(e){return e&&/[\r\n\t ]/.test(e)},Cp=function(e){return!!e.setStart&&!!e.setEnd},bf=function(e){var t=e.startContainer,n=e.startOffset;if(gf(e.toString())&&vk(t.parentNode)&&Z(t)){var r=t.data;if(gf(r[n-1])||gf(r[n+1]))return!0}return!1},dk=function(e){var t=e.ownerDocument,n=hf(t),r=t.createTextNode(Rt),a=e.parentNode;a.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Dr(n.getBoundingClientRect());return a.removeChild(r),i},pk=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===n&&Z(n)&&r===0&&a===1){var i=e.cloneRange();return i.setEndAfter(n),sr(i)}else return null},wp=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},sr=function(e){var t,n=e.getClientRects();return n.length>0?t=Dr(n[0]):t=Dr(e.getBoundingClientRect()),!Cp(e)&&mf(e)&&wp(t)?dk(e):wp(t)&&Cp(e)?pk(e):t},Or=function(e,t){var n=dp(e,t);return n.width=1,n.right=n.left+1,n},mk=function(e){var t=[],n=function(s){s.height!==0&&(t.length>0&&ak(s,t[t.length-1])||t.push(s))},r=function(s,f){var l=hf(s.ownerDocument);if(f<s.data.length){if(hp(s.data[f]))return t;if(hp(s.data[f-1])&&(l.setStart(s,f),l.setEnd(s,f+1),!bf(l)))return n(Or(sr(l),!1)),t}f>0&&(l.setStart(s,f-1),l.setEnd(s,f),bf(l)||n(Or(sr(l),!1))),f<s.data.length&&(l.setStart(s,f),l.setEnd(s,f+1),bf(l)||n(Or(sr(l),!0)))},a=e.container(),i=e.offset();if(hi(a))return r(a,i),t;if(gp(a))if(e.isAtEnd()){var o=Do(a,i);hi(o)&&r(o,o.data.length),mi(o)&&!mf(o)&&n(Or(sr(o),!1))}else{var o=Do(a,i);if(hi(o)&&r(o,0),mi(o)&&e.isAtEnd())return n(Or(sr(o),!1)),t;var u=Do(e.container(),e.offset()-1);mi(u)&&!mf(u)&&(bp(u)||bp(o)||!mi(o))&&n(Or(sr(u),!1)),mi(o)&&n(Or(sr(o),!0))}return t},R=function(e,t,n){var r=function(){return hi(e),t===0},a=function(){return hi(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var l=hf(e.ownerDocument);return l.setStart(e,t),l.setEnd(e,t),l},o=function(){return n||(n=mk(R(e,t))),n},u=function(){return o().length>0},s=function(l){return l&&e===l.container()&&t===l.offset()},f=function(l){return Do(e,l?t-1:t)};return{container:Y(e),offset:Y(t),toRange:i,getClientRects:o,isVisible:u,isAtStart:r,isAtEnd:a,isEqual:s,getNode:f}};R.fromRangeStart=function(e){return R(e.startContainer,e.startOffset)},R.fromRangeEnd=function(e){return R(e.endContainer,e.endOffset)},R.after=function(e){return R(e.parentNode,yp(e)+1)},R.before=function(e){return R(e.parentNode,yp(e))},R.isAbove=function(e,t){return kt(It(t.getClientRects()),Sr(e.getClientRects()),ka).getOr(!1)},R.isBelow=function(e,t){return kt(Sr(t.getClientRects()),It(e.getClientRects()),xa).getOr(!1)},R.isAtStart=function(e){return e?e.isAtStart():!1},R.isAtEnd=function(e){return e?e.isAtEnd():!1},R.isTextPosition=function(e){return e?Z(e.container()):!1},R.isElementPosition=function(e){return R.isTextPosition(e)===!1};var Oo=function(e,t){Z(t)&&t.data.length===0&&e.remove(t)},hk=function(e,t,n){t.insertNode(n),Oo(e,n.previousSibling),Oo(e,n.nextSibling)},gk=function(e,t,n){var r=b.from(n.firstChild),a=b.from(n.lastChild);t.insertNode(n),r.each(function(i){return Oo(e,i.previousSibling)}),a.each(function(i){return Oo(e,i.nextSibling)})},yf=function(e,t,n){ks(n)?gk(e,t,n):hk(e,t,n)},on=Z,Sp=Tr,Ep=Te.nodeIndex,kp=function(e){var t=e.parentNode;return Sp(t)?kp(t):t},Cf=function(e){return e?Gi(e.childNodes,function(t,n){return Sp(n)&&n.nodeName!=="BR"?t=t.concat(Cf(n)):t.push(n),t},[]):[]},bk=function(e,t){for(;(e=e.previousSibling)&&on(e);)t+=e.data.length;return t},xp=function(e){return function(t){return e===t}},yk=function(e){var t,n;t=Cf(kp(e)),n=ov(t,xp(e),e),t=t.slice(0,n+1);var r=Gi(t,function(a,i,o){return on(i)&&on(t[o-1])&&a++,a},0);return t=ra(t,Gt([e.nodeName])),n=ov(t,xp(e),e),n-r},Tp=function(e){var t;return on(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+yk(e)+"]"},Ck=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&!(n&&n(t));t=t.parentNode)r.push(t);return r},Np=function(e,t){var n,r,a=[],i,o,u;return n=t.container(),r=t.offset(),on(n)?i=bk(n,r):(o=n.childNodes,r>=o.length?(i="after",r=o.length-1):i="before",n=o[r]),a.push(Tp(n)),u=Ck(e,n),u=ra(u,ts(Tr)),a=a.concat(fs(u,function(s){return Tp(s)})),a.reverse().join("/")+","+i},wk=function(e,t,n){var r=Cf(e);return r=ra(r,function(a,i){return!on(a)||!on(r[i-1])}),r=ra(r,Gt([t])),r[n]},Sk=function(e,t){for(var n=e,r=0,a;on(n);){if(a=n.data.length,t>=r&&t<=r+a){e=n,t=t-r;break}if(!on(n.nextSibling)){e=n,t=a;break}r+=a,n=n.nextSibling}return on(e)&&t>e.data.length&&(t=e.data.length),R(e,t)},Ap=function(e,t){var n;if(!t)return null;var r=t.split(","),a=r[0].split("/");n=r.length>1?r[1]:"before";var i=Gi(a,function(o,u){var s=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return s?(s[1]==="text()"&&(s[1]="#text"),wk(o,s[1],parseInt(s[2],10))):null},e);return i?on(i)?Sk(i,parseInt(n,10)):(n==="after"?n=Ep(i)+1:n=Ep(i),R(i.parentNode,n)):null},Po=De,Ek=function(e,t,n){var r,a;for(a=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Z(r);r=r.previousSibling)a+=e(r.data).length;return a},Rp=function(e,t,n,r,a){var i=r[a?"startContainer":"endContainer"],o=r[a?"startOffset":"endOffset"],u=[],s,f=0,l=e.getRoot();for(Z(i)?u.push(n?Ek(t,i,o):o):(s=i.childNodes,o>=s.length&&s.length&&(f=1,o=Math.max(0,s.length-1)),u.push(e.nodeIndex(s[o],n)+f));i&&i!==l;i=i.parentNode)u.push(e.nodeIndex(i,n));return u},kk=function(e,t,n,r){var a=t.dom,i={};return i.start=Rp(a,e,n,r,!0),t.isCollapsed()||(i.end=Rp(a,e,n,r,!1)),Cd(r)&&(i.isFakeCaret=!0),i},wf=function(e,t,n){var r=0;return _.each(e.select(t),function(a){if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;r++}}),r},Bp=function(e,t){var n,r,a,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],ie(n)&&n.nodeName==="TR"&&(a=n.childNodes,n=a[Math.min(t?r:r-1,a.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},_p=function(e){return Bp(e,!0),Bp(e,!1),e},Dp=function(e,t){var n;if(ie(e)&&(e=ur(e,t),Po(e)))return e;if(Lt(e)&&(Z(e)&&va(e)&&(e=e.parentNode),n=e.previousSibling,Po(n)||(n=e.nextSibling,Po(n))))return n},xk=function(e){return Dp(e.startContainer,e.startOffset)||Dp(e.endContainer,e.endOffset)},Op=function(e,t,n){var r=n.getNode(),a=r?r.nodeName:null,i=n.getRng();if(Po(r)||a==="IMG")return{name:a,index:wf(n.dom,a,r)};var o=xk(i);return o?(a=o.tagName,{name:a,index:wf(n.dom,a,o)}):kk(e,n,t,i)},Tk=function(e){var t=e.getRng();return{start:Np(e.dom.getRoot(),R.fromRangeStart(t)),end:Np(e.dom.getRoot(),R.fromRangeEnd(t))}},Nk=function(e){return{rng:e.getRng()}},Pp=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Ip=function(e,t){var n=e.dom,r=e.getRng(),a=n.uniqueId(),i=e.isCollapsed(),o=e.getNode(),u=o.nodeName;if(u==="IMG")return{name:u,index:wf(n,u,o)};var s=_p(r.cloneRange());if(!i){s.collapse(!1);var f=Pp(n,a+"_end",t);yf(n,s,f)}r=_p(r),r.collapse(!0);var l=Pp(n,a+"_start",t);return yf(n,r,l),e.moveToBookmark({id:a,keep:!0}),{id:a}},Ak=function(e,t,n){return t===2?Op(Yn,n,e):t===3?Tk(e):t?Nk(e):Ip(e,!1)},$p=X(Op,At,!0),Rk=Te.DOM,Bk="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Lp=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var a=e.getParam(t,"","hash");return Ke(a,e.id).getOr(n)}else return r},_k=function(e){return e.getParam("iframe_attrs",{})},Dk=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Ok=function(e){return e.getParam("document_base_url","")},Pk=function(e){return Lp(e,"body_id","tinymce")},Ik=function(e){return Lp(e,"body_class","")},Fp=function(e){return e.getParam("content_security_policy","")},$k=function(e){return e.getParam("br_in_pre",!0)},lt=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t===!0?"p":t},gi=function(e){return e.getParam("forced_root_block_attrs",{})},Lk=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Fk=function(e){return e.getParam("no_newline_selector","")},Mk=function(e){return e.getParam("keep_styles",!0)},Uk=function(e){return e.getParam("end_container_on_empty_block",!1)},zk=function(e){return _.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Hk=function(e){return _.explode(e.getParam("font_size_classes",""))},Vk=function(e){return e.getParam("images_dataimg_filter",je,"function")},Mp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},qk=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Wk=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Up=function(e){return e.getParam("icons","","string")},jk=function(e){return e.getParam("icons_url","","string")},Kk=function(e){return e.getParam("images_upload_url","","string")},Gk=function(e){return e.getParam("images_upload_base_path","","string")},Xk=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Yk=function(e){return e.getParam("images_upload_handler",null,"function")},Qk=function(e){return e.getParam("content_css_cors",!1,"boolean")},zp=function(e){return e.getParam("referrer_policy","","string")},Hp=function(e){return e.getParam("language","en","string")},Zk=function(e){return e.getParam("language_url","","string")},Vp=function(e){return e.getParam("indent_use_margin",!1)},Jk=function(e){return e.getParam("indentation","40px","string")},ex=function(e){var t=e.getParam("content_css");return Ve(t)?Oe(t.split(","),ds):qt(t)?t:t===!1||e.inline?[]:["default"]},qp=function(e){var t=e.getParam("font_css",[]);return qt(t)?t:Oe(t.split(","),ds)},tx=function(e){return e.getParam("directionality",an.isRtl()?"rtl":void 0)},nx=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Wp=function(e){var t=e.getParam("object_resizing");return t===!1||fe.iOS?!1:Ve(t)?t:"table,img,figure.image,div,video,iframe"},rx=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},ax=function(e){return e.getParam("placeholder",Rk.getAttrib(e.getElement(),"placeholder"),"string")},jp=function(e){return e.getParam("event_root")},ix=function(e){return e.getParam("service_message")},bi=function(e){return e.getParam("theme")},ox=function(e){return e.getParam("validate")},yi=function(e){return e.getParam("inline_boundaries")!==!1},ux=function(e){return e.getParam("formats")},sx=function(e){var t=e.getParam("preview_styles",Bk);return Ve(t)?t:""},fx=function(e){return e.getParam("format_empty_lines",!1,"boolean")},lx=function(e){return e.getParam("custom_ui_selector","","string")},cx=function(e){return e.getParam("theme_url")},vx=function(e){return e.getParam("inline")},dx=function(e){return e.getParam("hidden_input")},px=function(e){return e.getParam("submit_patch")},mx=function(e){return e.getParam("encoding")==="xml"},hx=function(e){return e.getParam("add_form_submit_trigger")},gx=function(e){return e.getParam("add_unload_trigger")},bx=function(e){return lt(e)!==""},yx=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},Cx=function(e){return e.getParam("disable_nodechange")},wx=function(e){return e.getParam("readonly")},Sx=function(e){return e.getParam("content_css_cors")},Sf=function(e){return e.getParam("plugins","","string")},Ex=function(e){return e.getParam("external_plugins")},kx=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},xx=function(e){return e.getParam("visual",!0,"boolean")},Tx=function(e){return e.getParam("visual_table_class","mce-item-table","string")},Nx=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Ax=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Rx=ie,Kp=Z,Gp=function(e){var t=e.parentNode;t&&t.removeChild(e)},Xp=function(e){var t=Yn(e);return{count:e.length-t.length,text:t}},Yp=function(e){for(var t;(t=e.data.lastIndexOf(rt))!==-1;)e.deleteData(t,1)},Qp=function(e,t){return Pr(e),t},Bx=function(e,t){var n=Xp(e.data.substr(0,t.offset())),r=Xp(e.data.substr(t.offset())),a=n.text+r.text;return a.length>0?(Yp(e),R(e,t.offset()-n.count)):t},_x=function(e,t){var n=t.container(),r=GC(pn(n.childNodes),e).map(function(a){return a<t.offset()?R(n,t.offset()-1):t}).getOr(t);return Pr(e),r},Dx=function(e,t){return Kp(e)&&t.container()===e?Bx(e,t):Qp(e,t)},Ox=function(e,t){return t.container()===e.parentNode?_x(e,t):Qp(e,t)},Px=function(e,t){return R.isTextPosition(t)?Dx(e,t):Ox(e,t)},Pr=function(e){Rx(e)&&Lt(e)&&(yd(e)?e.removeAttribute("data-mce-caret"):Gp(e)),Kp(e)&&(Yp(e),e.data.length===0&&Gp(e))},Ef=Wt().browser,Ix=De,$x=Xt,Lx=no,Fx="*[contentEditable=false],video,audio,embed,object",Zp=function(e,t,n){var r=dp(t.getBoundingClientRect(),n),a,i;if(e.tagName==="BODY"){var o=e.ownerDocument.documentElement;a=e.scrollLeft||o.scrollLeft,i=e.scrollTop||o.scrollTop}else{var u=e.getBoundingClientRect();a=e.scrollLeft-u.left,i=e.scrollTop-u.top}r.left+=a,r.right+=a,r.top+=i,r.bottom+=i,r.width=1;var s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),r.left+=s,r.right+=s),r},Mx=function(e){for(var t=xt(k.fromDom(e),Fx),n=0;n<t.length;n++){var r=t[n].dom,a=r.previousSibling;if(vo(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(i.length-1,1)}if(a=r.nextSibling,co(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(0,1)}}},Ux=function(e,t,n,r){var a=wa(),i,o,u=lt(e),s=u.length>0?u:"p",f=function(m,h){var y;if(l(),Lx(h))return null;if(n(h)){o=iS(s,h,m);var g=Zp(t,h,m);ue(o).css("top",g.top);var E=ue('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(oe({},g)).appendTo(t)[0];a.set({caret:E,element:h,before:m}),m&&ue(E).addClass("mce-visual-caret-before"),c(),y=h.ownerDocument.createRange(),y.setStart(o,0),y.setEnd(o,0)}else return o=rS(h,m),y=h.ownerDocument.createRange(),Ci(o.nextSibling)?(y.setStart(o,0),y.setEnd(o,0)):(y.setStart(o,1),y.setEnd(o,1)),y;return y},l=function(){Mx(t),o&&(Pr(o),o=null),a.on(function(m){ue(m.caret).remove(),a.clear()}),i&&(ut.clearInterval(i),i=void 0)},c=function(){i=ut.setInterval(function(){r()?ue("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):ue("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},v=function(){a.on(function(m){var h=Zp(t,m.element,m.before);ue(m.caret).css(oe({},h))})},d=function(){return ut.clearInterval(i)},p=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:f,hide:l,getCss:p,reposition:v,destroy:d}},Jp=function(){return Ef.isIE()||Ef.isEdge()||Ef.isFirefox()},Ci=function(e){return Ix(e)||$x(e)},Ir=function(e){return Ci(e)||ua(e)&&Jp()},kf=De,zx=Xt,Hx=to("display","block table table-cell table-caption list-item"),em=Lt,tm=va,nm=ie,Vx=yn,Ta=function(e){return e>0},$r=function(e){return e<0},Io=function(e,t){for(var n;n=e(t);)if(!tm(n))return n;return null},Na=function(e,t,n,r,a){var i=new Xe(e,r),o=kf(e)||tm(e);if($r(t)){if(o&&(e=Io(i.prev.bind(i),!0),n(e)))return e;for(;e=Io(i.prev.bind(i),a);)if(n(e))return e}if(Ta(t)){if(o&&(e=Io(i.next.bind(i),!0),n(e)))return e;for(;e=Io(i.next.bind(i),a);)if(n(e))return e}return null},fr=function(e,t){for(;e&&e!==t;){if(Hx(e))return e;e=e.parentNode}return null},Sn=function(e,t,n){return fr(e.container(),n)===fr(t.container(),n)},xf=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return nm(n)?n.childNodes[r+e]:null},rm=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},qx=function(e,t,n){return fr(t,e)===fr(n,e)},am=function(e,t,n){for(var r=e?"previousSibling":"nextSibling";n&&n!==t;){var a=n[r];if(em(a)&&(a=a[r]),kf(a)||zx(a)){if(qx(t,a,n))return a;break}if(Vx(a))break;n=n.parentNode}return null},wi=X(rm,!0),Si=X(rm,!1),Tf=function(e,t,n){var r,a=X(am,!0,t),i=X(am,!1,t),o=n.startContainer,u=n.startOffset;if(va(o)){nm(o)||(o=o.parentNode);var s=o.getAttribute("data-mce-caret");if(s==="before"&&(r=o.nextSibling,Ir(r)))return wi(r);if(s==="after"&&(r=o.previousSibling,Ir(r)))return Si(r)}if(!n.collapsed)return n;if(Z(o)){if(em(o)){if(e===1){if(r=i(o),r)return wi(r);if(r=a(o),r)return Si(r)}if(e===-1){if(r=a(o),r)return Si(r);if(r=i(o),r)return wi(r)}return n}if(vo(o)&&u>=o.data.length-1)return e===1&&(r=i(o),r)?wi(r):n;if(co(o)&&u<=1)return e===-1&&(r=a(o),r)?Si(r):n;if(u===o.data.length)return r=i(o),r?wi(r):n;if(u===0)return r=a(o),r?Si(r):n}return n},im=function(e,t){return b.from(xf(e?0:-1,t)).filter(kf)},Ei=function(e,t,n){var r=Tf(e,t,n);return e===-1?R.fromRangeStart(r):R.fromRangeEnd(r)},$o=function(e){return b.from(e.getNode()).map(k.fromDom)},Wx=function(e){return b.from(e.getNode(!0)).map(k.fromDom)},Nf=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Lo=function(e,t){var n=Sn(e,t);return!n&&Me(e.getNode())?!0:n},Ze;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ze||(Ze={}));var jx=De,En=Z,om=ie,Af=Me,Aa=yn,um=hS,Fo=po,Kx=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},sm=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},fm=function(e,t){if(Ta(e)){if(Aa(t.previousSibling)&&!En(t.previousSibling))return R.before(t);if(En(t))return R(t,0)}if($r(e)){if(Aa(t.nextSibling)&&!En(t.nextSibling))return R.after(t);if(En(t))return R(t,t.data.length)}return $r(e)?Af(t)?R.before(t):R.after(t):R.before(t)},Gx=function(e,t){var n=t.nextSibling;return n&&Aa(n)?En(n)?R(n,0):R.before(n):Rf(Ze.Forwards,R.after(t),e)},Rf=function(e,t,n){var r,a,i,o;if(!om(n)||!t)return null;if(t.isEqual(R.after(n))&&n.lastChild){if(o=R.after(n.lastChild),$r(e)&&Aa(n.lastChild)&&om(n.lastChild))return Af(n.lastChild)?R.before(n.lastChild):o}else o=t;var u=o.container(),s=o.offset();if(En(u)){if($r(e)&&s>0)return R(u,--s);if(Ta(e)&&s<u.length)return R(u,++s);r=u}else{if($r(e)&&s>0&&(a=sm(u,s-1),Aa(a)))return!um(a)&&(i=Na(a,e,Fo,a),i)?En(i)?R(i,i.data.length):R.after(i):En(a)?R(a,a.data.length):R.before(a);if(Ta(e)&&s<u.childNodes.length&&(a=sm(u,s),Aa(a)))return Af(a)?Gx(n,a):!um(a)&&(i=Na(a,e,Fo,a),i)?En(i)?R(i,0):R.before(i):En(a)?R(a,0):R.after(a);r=a||o.getNode()}if((Ta(e)&&o.isAtEnd()||$r(e)&&o.isAtStart())&&(r=Na(r,e,je,n,!0),Fo(r,n)))return fm(e,r);a=Na(r,e,Fo,n);var f=qn(he(Kx(u,n),jx));return f&&(!a||!f.contains(a))?(Ta(e)?o=R.after(f):o=R.before(f),o):a?fm(e,a):null},un=function(e){return{next:function(t){return Rf(Ze.Forwards,t,e)},prev:function(t){return Rf(Ze.Backwards,t,e)}}},Xx=function(e,t,n){var r=e?R.before(n):R.after(n);return Ut(e,t,r)},Yx=function(e){return Me(e)?R.before(e):R.after(e)},lm=function(e){return R.isTextPosition(e)?e.offset()===0:yn(e.getNode())},cm=function(e){if(R.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else return yn(e.getNode(!0))},vm=function(e,t){return!R.isTextPosition(e)&&!R.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Qx=function(e){return!R.isTextPosition(e)&&Me(e.getNode())},Zx=function(e,t,n){return e?!vm(t,n)&&!Qx(t)&&cm(t)&&lm(n):!vm(n,t)&&lm(t)&&cm(n)},Ut=function(e,t,n){var r=un(t);return b.from(e?r.next(n):r.prev(n))},Mo=function(e,t,n){return Ut(e,t,n).bind(function(r){return Sn(n,r,t)&&Zx(e,n,r)?Ut(e,t,r):b.some(r)})},dm=function(e,t,n,r){return Mo(e,t,n).bind(function(a){return r(a)?dm(e,t,a,r):b.some(a)})},Ra=function(e,t){var n=e?t.firstChild:t.lastChild;return Z(n)?b.some(R(n,e?0:n.data.length)):n?yn(n)?b.some(e?R.before(n):Yx(n)):Xx(e,t,n):b.none()},sn=X(Ut,!0),kn=X(Ut,!1),St=X(Ra,!0),xn=X(Ra,!1),pm="_mce_caret",Tn=function(e){return ie(e)&&e.id===pm},Lr=function(e,t){for(;t&&t!==e;){if(t.id===pm)return t;t=t.parentNode}return null},Jx=function(e){return Ve(e.start)},e1=function(e){return ge(e,"rng")},t1=function(e){return ge(e,"id")},n1=function(e){return ge(e,"name")},mm=function(e){return _.isArray(e.start)},hm=function(e,t){return ie(t)&&e.isBlock(t)&&!t.innerHTML&&!fe.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},r1=function(e,t){var n,r=e.createRng();return n=Ap(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Ap(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},a1=function(e,t){var n=e.ownerDocument.createTextNode(rt);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},i1=function(e){return e.hasChildNodes()===!1},o1=function(e,t){return xn(e).fold(Be,function(n){return t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0})},gm=function(e,t,n){return i1(t)&&Lr(e,t)?(a1(t,n),!0):!1},bm=function(e,t,n,r){var a=n[t?"start":"end"],i,o,u,s,f=e.getRoot();if(a){for(u=a[0],o=f,i=a.length-1;i>=1;i--){if(s=o.childNodes,gm(f,o,r))return!0;if(a[i]>s.length-1)return gm(f,o,r)?!0:o1(o,r);o=s[a[i]]}o.nodeType===3&&(u=Math.min(a[0],o.nodeValue.length)),o.nodeType===1&&(u=Math.min(a[0],o.childNodes.length)),t?r.setStart(o,u):r.setEnd(o,u)}return!0},Bf=function(e){return Z(e)&&e.data.length>0},ym=function(e,t,n){var r=e.get(n.id+"_"+t),a,i,o,u,s=n.keep,f,l;if(r){if(a=r.parentNode,t==="start"?(s?r.hasChildNodes()?(a=r.firstChild,i=1):Bf(r.nextSibling)?(a=r.nextSibling,i=0):Bf(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)+1):i=e.nodeIndex(r),f=a,l=i):(s?r.hasChildNodes()?(a=r.firstChild,i=1):Bf(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)):i=e.nodeIndex(r),f=a,l=i),!s){for(u=r.previousSibling,o=r.nextSibling,_.each(_.grep(r.childNodes),function(c){Z(c)&&(c.nodeValue=c.nodeValue.replace(/\uFEFF/g,""))});r=e.get(n.id+"_"+t);)e.remove(r,!0);u&&o&&u.nodeType===o.nodeType&&Z(u)&&!fe.opera&&(i=u.nodeValue.length,u.appendData(o.nodeValue),e.remove(o),f=u,l=i)}return b.some(R(f,l))}else return b.none()},u1=function(e,t){var n=e.createRng();return bm(e,!0,t,n)&&bm(e,!1,t,n)?b.some(n):b.none()},s1=function(e,t){var n=ym(e,"start",t),r=ym(e,"end",t);return kt(n,r.or(n),function(a,i){var o=e.createRng();return o.setStart(hm(e,a.container()),a.offset()),o.setEnd(hm(e,i.container()),i.offset()),o})},f1=function(e,t){return b.from(e.select(t.name)[t.index]).map(function(n){var r=e.createRng();return r.selectNode(n),r})},l1=function(e,t){var n=e.dom;if(t){if(mm(t))return u1(n,t);if(Jx(t))return b.some(r1(n,t));if(t1(t))return s1(n,t);if(n1(t))return f1(n,t);if(e1(t))return b.some(t.rng)}return b.none()},c1=function(e,t,n){return Ak(e,t,n)},v1=function(e,t){l1(e,t).each(function(n){e.setRng(n)})},zt=function(e){return ie(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},d1=function(e){return function(t){return e===t}},ki=d1(Rt),Ba=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},_f=function(e){return!Ba(e)&&!ki(e)},Uo=function(e){return!!e.nodeType},p1=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Cm=function(e,t,n){var r=n.startOffset,a=n.startContainer;if(!(a===n.endContainer&&p1(a.childNodes[r]))&&ie(a)){var i=a.childNodes,o=void 0;r<i.length?(a=i[r],o=new Xe(a,e.getParent(a,e.isBlock))):(a=i[i.length-1],o=new Xe(a,e.getParent(a,e.isBlock)),o.next(!0));for(var u=o.current();u;u=o.next())if(Z(u)&&!Pf(u)){n.setStart(u,0),t.setRng(n);return}}},Df=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(ie(e)||!Pf(e))return e}},Of=function(e,t){return Uo(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},_a=function(e,t,n){return e.schema.isValidChild(t,n)},Pf=function(e,t){if(t===void 0&&(t=!1),Ne(e)&&Z(e)){var n=t?e.data.replace(/ /g,"\xA0"):e.data;return Nr(n)}else return!1},m1=function(e){return Ne(e)&&Z(e)&&e.length===0},Fn=function(e,t){return Pe(e)?e=e(t):Ne(t)&&(e=e.replace(/%(\w+)/g,function(n,r){return t[r]||n})),e},If=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},$f=function(e,t,n){return(n==="color"||n==="backgroundColor")&&(t=e.toHex(t)),n==="fontWeight"&&t===700&&(t="bold"),n==="fontFamily"&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},zo=function(e,t,n){return $f(e,e.getStyle(t,n),n)},wm=function(e,t){var n;return e.getParent(t,function(r){return n=e.getStyle(r,"text-decoration"),n&&n!=="none"}),n},Ho=function(e,t,n){return e.getParents(t,n,e.getRoot())},h1=function(e,t){var n=function(r){var a=function(i){return i.length>1&&i.charAt(0)==="%"};return yt(["styles","attributes"],function(i){return Ke(r,i).exists(function(o){var u=qt(o)?o:t0(o);return yt(u,a)})})};return yt(e.formatter.get(t),n)},g1=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],a=function(i){return Ya(i,function(o,u){return yt(r,function(s){return s===u})})};return yt(e.formatter.get(t),function(i){var o=a(i);return yt(e.formatter.get(n),function(u){var s=a(u);return n0(o,s)})})},Nn=function(e){return na(e,"block")},_t=function(e){return na(e,"selector")},Je=function(e){return na(e,"inline")},b1=function(e){return _t(e)&&Je(e)&&ro(Ke(e,"mixed"),!0)},Lf=function(e){return _t(e)&&e.expand!==!1&&!Je(e)},Da=zt,Sm=Ho,Em=Pf,y1=Of,C1=function(e){return Me(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},km=function(e,t){for(var n=t;n;){if(ie(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},xm=function(e,t,n,r){for(var a=t.data,i=n;e?i>=0:i<a.length;e?i--:i++)if(r(a.charAt(i)))return e?i+1:i;return-1},w1=function(e,t,n){return xm(e,t,n,function(r){return ki(r)||Ba(r)})},S1=function(e,t,n){return xm(e,t,n,_f)},Tm=function(e,t,n,r,a,i){var o,u=e.getParent(n,e.isBlock)||t,s=function(l,c,v){var d=vp(e),p=a?d.backwards:d.forwards;return b.from(p(l,c,function(m,h){return Da(m.parentNode)?-1:(o=m,v(a,m,h))},u))},f=s(n,r,w1);return f.bind(function(l){return i?s(l.container,l.offset+(a?-1:0),S1):b.some(l)}).orThunk(function(){return o?b.some({container:o,offset:a?0:o.length}):b.none()})},Nm=function(e,t,n,r,a){Z(r)&&lv(r.data)&&r[a]&&(r=r[a]);for(var i=Sm(e,r),o=0;o<i.length;o++)for(var u=0;u<t.length;u++){var s=t[u];if(!(Ne(s.collapsed)&&s.collapsed!==n.collapsed)&&_t(s)&&e.is(i[o],s.selector))return i[o]}return r},Am=function(e,t,n,r){var a=n,i=e.dom,o=i.getRoot(),u=t[0];if(Nn(u)&&(a=u.wrapper?null:i.getParent(n,u.block,o)),!a){var s=i.getParent(n,"LI,TD,TH");a=i.getParent(Z(n)?n.parentNode:n,function(f){return f!==o&&y1(e,f)},s)}if(a&&Nn(u)&&u.wrapper&&(a=Sm(i,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a[r]&&!i.isBlock(a[r])&&(a=a[r],!If(a,"br")););return a||n},Rm=function(e,t,n,r){var a=n.parentNode;return Ne(n[r])?!1:a===t||dn(a)||e.isBlock(a)?!0:Rm(e,t,a,r)},Vo=function(e,t,n,r,a){var i=n,o=a?"previousSibling":"nextSibling",u=e.getRoot();if(Z(n)&&!Em(n)&&(a?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(i))return i;for(var s=i[o];s;s=s[o]){var f=Z(s)&&!Rm(e,u,s,o);if(!Da(s)&&!C1(s)&&!Em(s,f))return i}if(i===u||i.parentNode===u){n=i;break}i=i.parentNode}return n},Bm=function(e){return Da(e.parentNode)||Da(e)},Oa=function(e,t,n,r){r===void 0&&(r=!1);var a=t.startContainer,i=t.startOffset,o=t.endContainer,u=t.endOffset,s=e.dom,f=n[0];if(ie(a)&&a.hasChildNodes()&&(a=ur(a,i),Z(a)&&(i=0)),ie(o)&&o.hasChildNodes()&&(o=ur(o,t.collapsed?u:u-1),Z(o)&&(u=o.nodeValue.length)),a=km(s,a),o=km(s,o),Bm(a)&&(a=Da(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Z(a)&&(i=t.collapsed?a.length:0)),Bm(o)&&(o=Da(o)?o:o.parentNode,t.collapsed?o=o.nextSibling||o:o=o.previousSibling||o,Z(o)&&(u=t.collapsed?0:o.length)),t.collapsed){var l=Tm(s,e.getBody(),a,i,!0,r);l.each(function(v){var d=v.container,p=v.offset;a=d,i=p});var c=Tm(s,e.getBody(),o,u,!1,r);c.each(function(v){var d=v.container,p=v.offset;o=d,u=p})}return(Je(f)||f.block_expand)&&((!Je(f)||!Z(a)||i===0)&&(a=Vo(s,n,a,i,!0)),(!Je(f)||!Z(o)||u===o.nodeValue.length)&&(o=Vo(s,n,o,u,!1))),Lf(f)&&(a=Nm(s,n,t,a,"previousSibling"),o=Nm(s,n,t,o,"nextSibling")),(Nn(f)||_t(f))&&(a=Am(e,n,a,"previousSibling"),o=Am(e,n,o,"nextSibling"),Nn(f)&&(s.isBlock(a)||(a=Vo(s,n,a,i,!0)),s.isBlock(o)||(o=Vo(s,n,o,u,!1)))),ie(a)&&(i=s.nodeIndex(a),a=a.parentNode),ie(o)&&(u=s.nodeIndex(o)+1,o=o.parentNode),{startContainer:a,startOffset:i,endContainer:o,endOffset:u}},xi=function(e,t,n){var r=t.startOffset,a=ur(t.startContainer,r),i=t.endOffset,o=ur(t.endContainer,i-1),u=function(m){var h=m[0];Z(h)&&h===a&&r>=h.data.length&&m.splice(0,1);var y=m[m.length-1];return i===0&&m.length>0&&y===o&&Z(y)&&m.splice(m.length-1,1),m},s=function(m,h,y){for(var g=[];m&&m!==y;m=m[h])g.push(m);return g},f=function(m,h){return e.getParent(m,function(y){return y.parentNode===h},h)},l=function(m,h,y){for(var g=y?"nextSibling":"previousSibling",E=m,S=E.parentNode;E&&E!==h;E=S){S=E.parentNode;var C=s(E===m?E:E[g],g);C.length&&(y||C.reverse(),n(u(C)))}};if(a===o)return n(u([a]));var c=e.findCommonAncestor(a,o);if(e.isChildOf(a,o))return l(a,c,!0);if(e.isChildOf(o,a))return l(o,c);var v=f(a,c)||a,d=f(o,c)||o;l(a,v,!0);var p=s(v===a?v:v.nextSibling,"nextSibling",d===o?d.nextSibling:d);p.length&&n(u(p)),l(o,d)},Ff=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},E1=function(e){return ea(e,function(t){var n=_o(t);return n?[k.fromDom(n)]:[]})},k1=function(e){return Ff(e).length>1},x1=function(e){return he(E1(e),so)},T1=function(e){return xt(e,"td[data-mce-selected],th[data-mce-selected]")},_m=function(e,t){var n=T1(t);return n.length>0?n:x1(e)},Pa=function(e){return _m(Ff(e.selection.getSel()),k.fromDom(e.getBody()))},Ti=function(e,t){return oo(e,"table",t)},N1=function(e){var t=e.startContainer,n=e.startOffset;return Z(t)?n===0?b.some(k.fromDom(t)):b.none():b.from(t.childNodes[n]).map(k.fromDom)},A1=function(e){var t=e.endContainer,n=e.endOffset;return Z(t)?n===t.data.length?b.some(k.fromDom(t)):b.none():b.from(t.childNodes[n-1]).map(k.fromDom)},Dm=function(e){return Vv(e).fold(Y([e]),function(t){return[e].concat(Dm(t))})},Mf=function(e){return gs(e).fold(Y([e]),function(t){return Ge(t)==="br"?kr(t).map(function(n){return[e].concat(Mf(n))}).getOr([]):[e].concat(Mf(t))})},Uf=function(e,t){return kt(N1(t),A1(t),function(n,r){var a=tt(Dm(e),X(Ae,n)),i=tt(Mf(e),X(Ae,r));return a.isSome()&&i.isSome()}).getOr(!1)},zf=function(e,t,n,r){var a=n,i=new Xe(n,a),o=Ya(e.schema.getMoveCaretBeforeOnEnterElements(),function(u,s){return!et(["td","th","table"],s.toLowerCase())});do{if(Z(n)&&_.trim(n.nodeValue).length!==0){r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length);return}if(o[n.nodeName]){r?t.setStartBefore(n):n.nodeName==="BR"?t.setEndBefore(n):t.setEndAfter(n);return}}while(n=r?i.next():i.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},qo=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Hf=function(e,t){var n=Pa(e);n.length>0?Q(n,function(r){var a=r.dom,i=e.dom.createRng();i.setStartBefore(a),i.setEndAfter(a),t(i,!0)}):t(e.selection.getRng(),!1)},Vf=function(e,t,n){var r=Ip(e,t);n(r),e.moveToBookmark(r)},R1=function(e,t){var n=function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return r(i).getOr("")},r=function(i){return e(i)?b.from(i.dom.nodeValue):b.none()},a=function(i,o){if(!e(i))throw new Error("Can only set raw "+t+" value of a "+t+" node");i.dom.nodeValue=o};return{get:n,getOption:r,set:a}},B1=R1(jt,"text"),qf=function(e){return B1.get(e)},_1=function(e){return jt(e)&&qf(e)===rt},D1=function(e,t,n,r){return en(t).fold(function(){return"skipping"},function(a){return r==="br"||_1(t)?"valid":GE(t)?"existing":Tn(t.dom)?"caret":!_a(e,n,r)||!_a(e,Ge(a),n)?"invalid-child":"valid"})},O1=function(e,t){var n=Oa(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Om=function(e,t,n,r){var a=t.uid,i=a===void 0?up("mce-annotation"):a,o=a0(t,["uid"]),u=k.fromTag("span",e);Ro(u,pf()),gn(u,""+Bo(),i),gn(u,""+pi(),n);var s=r(i,o),f=s.attributes,l=f===void 0?{}:f,c=s.classes,v=c===void 0?[]:c;return jn(u,l),ek(u,v),u},P1=function(e,t,n,r,a){var i=[],o=Om(e.getDoc(),a,n,r),u=wa(),s=function(){u.clear()},f=function(){return u.get().getOrThunk(function(){var d=Sa(o);return i.push(d),u.set(d),d})},l=function(d){Q(d,c)},c=function(d){var p=D1(e,d,"span",Ge(d));switch(p){case"invalid-child":{s();var m=Kt(d);l(m),s();break}case"valid":{var h=f();uw(d,h);break}}},v=function(d){var p=Oe(d,k.fromDom);l(p)};return xi(e.dom,t,function(d){s(),v(d)}),i},I1=function(e,t,n,r){e.undoManager.transact(function(){var a=e.selection,i=a.getRng(),o=Pa(e).length>0;if(i.collapsed&&!o&&O1(e,i),a.getRng().collapsed&&!o){var u=Om(e.getDoc(),r,t,n.decorate);sp(u,Rt),a.getRng().insertNode(u.dom),a.select(u.dom)}else Vf(a,!1,function(){Hf(e,function(s){P1(e,s,t,n.decorate,r)})})})},Pm=function(e){var t=JE();ZE(e,t);var n=QE(e);return{register:function(r,a){t.register(r,a)},annotate:function(r,a){t.lookup(r).each(function(i){I1(e,r,i,a)})},annotationChanged:function(r,a){n.addListener(r,a)},remove:function(r){ip(e,b.some(r)).each(function(a){var i=a.elements;Q(i,Gv)})},getAll:function(r){var a=YE(e,r);return rv(a,function(i){return Oe(i,function(o){return o.dom})})}}},Ni=function(e){return{getBookmark:X(c1,e),moveToBookmark:X(v1,e)}};Ni.isBookmarkNode=zt;var Ia=function(e,t){for(;t&&t!==e;){if(hn(t)||De(t))return t;t=t.parentNode}return null},Wf=function(e,t,n){if(n.collapsed)return!1;if(fe.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(ie(r))return yt(r.getClientRects(),function(a){return mp(a,e,t)})}return yt(n.getClientRects(),function(a){return mp(a,e,t)})},$1=function(e,t){return e.fire("PreProcess",t)},L1=function(e,t){return e.fire("PostProcess",t)},F1=function(e){return e.fire("remove")},M1=function(e){return e.fire("detach")},U1=function(e,t){return e.fire("SwitchMode",{mode:t})},z1=function(e,t,n,r,a){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:a})},H1=function(e,t,n,r,a){e.fire("ObjectResized",{target:t,width:n,height:r,origin:a})},V1=function(e){return e.fire("PreInit")},q1=function(e){return e.fire("PostRender")},W1=function(e){return e.fire("Init")},j1=function(e,t){return e.fire("PlaceholderToggle",{state:t})},Im=function(e,t,n){return e.fire(t,n)},$m=function(e,t,n,r){return e.fire("FormatApply",{format:t,node:n,vars:r})},jf=function(e,t,n,r){return e.fire("FormatRemove",{format:t,node:n,vars:r})},ae={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||ae.metaKeyPressed(e)},metaKeyPressed:function(e){return fe.mac?e.metaKey:e.ctrlKey&&!e.altKey}},K1=De,Lm=function(e,t){var n="data-mce-selected",r=t.dom,a=_.each,i,o,u,s,f,l,c,v,d,p,m,h,y,g,E,S=t.getDoc(),C=document,x=Math.abs,B=Math.round,L=t.getBody(),re,j,D={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},te=function(T){return T&&(T.nodeName==="IMG"||t.dom.is(T,"figure.image"))},z=function(T){return Xt(T)||r.hasClass(T,"mce-preview-object")},W=function(T,F){if(T.type==="longpress"||T.type.indexOf("touch")===0){var I=T.touches[0];return te(T.target)&&!Wf(I.clientX,I.clientY,F)}else return te(T.target)&&!Wf(T.clientX,T.clientY,F)},M=function(T){var F=T.target;W(T,t.selection.getRng())&&!T.isDefaultPrevented()&&t.selection.select(F)},q=function(T){return r.is(T,"figure.image")?[T.querySelector("img")]:r.hasClass(T,"mce-preview-object")&&Ne(T.firstElementChild)?[T,T.firstElementChild]:[T]},G=function(T){var F=Wp(t);return!F||T.getAttribute("data-mce-resize")==="false"||T===t.getBody()?!1:r.hasClass(T,"mce-preview-object")?aa(k.fromDom(T.firstElementChild),F):aa(k.fromDom(T),F)},O=function(T){return z(T)?r.create("img",{src:fe.transparentSrc}):T.cloneNode(!0)},K=function(T,F,I){if(Ne(I)){var ee=q(T);Q(ee,function(ne){ne.style[F]||!t.schema.isValid(ne.nodeName.toLowerCase(),F)?r.setStyle(ne,F,I):r.setAttrib(ne,F,""+I)})}},ve=function(T,F,I){K(T,"width",F),K(T,"height",I)},ye=function(T){var F,I,ee,ne,we;F=T.screenX-l,I=T.screenY-c,g=F*s[2]+p,E=I*s[3]+m,g=g<5?5:g,E=E<5?5:E,(te(i)||z(i))&&rx(t)!==!1?ee=!ae.modifierPressed(T):ee=ae.modifierPressed(T),ee&&(x(F)>x(I)?(E=B(g*h),g=B(E/h)):(g=B(E/h),E=B(g*h))),ve(o,g,E),ne=s.startPos.x+F,we=s.startPos.y+I,ne=ne>0?ne:0,we=we>0?we:0,r.setStyles(u,{left:ne,top:we,display:"block"}),u.innerHTML=g+" &times; "+E,s[2]<0&&o.clientWidth<=g&&r.setStyle(o,"left",v+(p-g)),s[3]<0&&o.clientHeight<=E&&r.setStyle(o,"top",d+(m-E)),F=L.scrollWidth-re,I=L.scrollHeight-j,F+I!==0&&r.setStyles(u,{left:ne-F,top:we-I}),y||(z1(t,i,p,m,"corner-"+s.name),y=!0)},be=function(){var T=y;y=!1,T&&(K(i,"width",g),K(i,"height",E)),r.unbind(S,"mousemove",ye),r.unbind(S,"mouseup",be),C!==S&&(r.unbind(C,"mousemove",ye),r.unbind(C,"mouseup",be)),r.remove(o),r.remove(u),r.remove(f),We(i),T&&(H1(t,i,g,E,"corner-"+s.name),r.setAttrib(i,"style",r.getAttrib(i,"style"))),t.nodeChanged()},We=function(T){P();var F=r.getPos(T,L),I=F.x,ee=F.y,ne=T.getBoundingClientRect(),we=ne.width||ne.right-ne.left,Ue=ne.height||ne.bottom-ne.top;i!==T&&(_e(),i=T,g=E=0);var Le=t.fire("ObjectSelected",{target:T}),Vn=r.getAttrib(i,n,"1");G(T)&&!Le.isDefaultPrevented()?a(D,function(vt,ht){var ze,Pt=function(gt){var Dn=q(i)[0];l=gt.screenX,c=gt.screenY,p=Dn.clientWidth,m=Dn.clientHeight,h=m/p,s=vt,s.name=ht,s.startPos={x:we*vt[0]+I,y:Ue*vt[1]+ee},re=L.scrollWidth,j=L.scrollHeight,f=r.add(L,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),r.setStyles(f,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=O(i),r.addClass(o,"mce-clonedresizable"),r.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",r.setStyles(o,{left:I,top:ee,margin:0}),ve(o,we,Ue),o.removeAttribute(n),L.appendChild(o),r.bind(S,"mousemove",ye),r.bind(S,"mouseup",be),C!==S&&(r.bind(C,"mousemove",ye),r.bind(C,"mouseup",be)),u=r.add(L,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+m)};ze=r.get("mceResizeHandle"+ht),ze&&r.remove(ze),ze=r.add(L,"div",{id:"mceResizeHandle"+ht,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ht+"-resize; margin:0; padding:0"}),fe.ie===11&&(ze.contentEditable=!1),r.bind(ze,"mousedown",function(gt){gt.stopImmediatePropagation(),gt.preventDefault(),Pt(gt)}),vt.elm=ze,r.setStyles(ze,{left:we*vt[0]+I-ze.offsetWidth/2,top:Ue*vt[1]+ee-ze.offsetHeight/2})}):_e(),r.getAttrib(i,n)||i.setAttribute(n,Vn)},_e=function(){P(),i&&i.removeAttribute(n),Ie(D,function(T,F){var I=r.get("mceResizeHandle"+F);I&&(r.unbind(I),r.remove(I))})},ct=function(T){var F,I,ee=function(ne,we){if(ne)do if(ne===we)return!0;while(ne=ne.parentNode)};if(!(y||t.removed)){if(a(r.select("img[data-mce-selected],hr[data-mce-selected]"),function(ne){ne.removeAttribute(n)}),I=T.type==="mousedown"?T.target:e.getNode(),I=r.$(I).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],ee(I,L)&&(H(),F=e.getStart(!0),ee(F,I)&&ee(e.getEnd(!0),I))){We(I);return}_e()}},Tt=function(T){return K1(Ia(t.getBody(),T))},P=function(){Ie(D,function(T){T.elm&&(r.unbind(T.elm),delete T.elm)})},H=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};t.on("init",function(){if(H(),fe.browser.isIE()||fe.browser.isEdge()){t.on("mousedown click",function(I){var ee=I.target,ne=ee.nodeName;!y&&/^(TABLE|IMG|HR)$/.test(ne)&&!Tt(ee)&&(I.button!==2&&t.selection.select(ee,ne==="TABLE"),I.type==="mousedown"&&t.nodeChanged())});var T=function(I){var ee=function(ne){ut.setEditorTimeout(t,function(){return t.selection.select(ne)})};if(Tt(I.target)||Xt(I.target)){I.preventDefault(),ee(I.target);return}/^(TABLE|IMG|HR)$/.test(I.target.nodeName)&&(I.preventDefault(),I.target.tagName==="IMG"&&ee(I.target))};r.bind(L,"mscontrolselect",T),t.on("remove",function(){return r.unbind(L,"mscontrolselect",T)})}var F=ut.throttle(function(I){t.composing||ct(I)});t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",F),t.on("keyup compositionend",function(I){i&&i.nodeName==="TABLE"&&F(I)}),t.on("hide blur",_e),t.on("contextmenu longpress",M,!0)}),t.on("remove",P);var J=function(){i=o=f=null};return{isResizable:G,showResizeRect:We,hideResizeRect:_e,updateResizeRect:ct,destroy:J}},G1=function(e){return hn(e)||De(e)},X1=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Y1=function(e,t,n){var r,a=n.elementFromPoint(e,t),i=n.body.createTextRange();if((!a||a.tagName==="HTML")&&(a=n.body),i.moveToElementText(a),r=_.toArray(i.getClientRects()),r=r.sort(function(o,u){return o=Math.abs(Math.max(o.top-t,o.bottom-t)),u=Math.abs(Math.max(u.top-t,u.bottom-t)),o-u}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch{}}return null},Q1=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return De(X1(n,t,G1))?null:e},Kf=function(e,t,n){var r,a,i=n;if(i.caretPositionFromPoint)a=i.caretPositionFromPoint(e,t),a&&(r=n.createRange(),r.setStart(a.offsetNode,a.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch{r=Y1(e,t,n)}return Q1(r,n.body)}return r},Gf=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Z1=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Fm=function(e,t,n){return Z1(e,t,n)!==null},J1=function(e,t,n){return Fm(e,t,function(r){return r.nodeName===n})},Xf=function(e){return e&&e.nodeName==="TABLE"},eT=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},tT=function(e,t){return Lt(e)&&Fm(e,t,Tn)===!1},Mm=function(e,t,n){for(var r=new Xe(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Me(t))return!0},nT=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},rT=function(e,t){for(;t&&t!==e;){if(De(t))return!0;t=t.parentNode}return!1},Yf=function(e,t,n,r,a){var i,o=e.getRoot(),u,s=e.schema.getNonEmptyElements(),f=e.getParent(a.parentNode,e.isBlock)||o;if(r&&Me(a)&&t&&e.isEmpty(f))return b.some(R(a.parentNode,e.nodeIndex(a)));for(var l=new Xe(a,f);u=l[r?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||tT(u,o))return b.none();if(Z(u)&&u.nodeValue.length>0)return J1(u,o,"A")===!1?b.some(R(u,r?u.nodeValue.length:0)):b.none();if(e.isBlock(u)||s[u.nodeName.toLowerCase()])return b.none();i=u}return n&&i?b.some(R(i,0)):b.none()},Um=function(e,t,n,r){var a,i,o=e.getRoot(),u,s,f=!1;a=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=ie(a)&&i===a.childNodes.length,c=e.schema.getNonEmptyElements();if(s=n,Lt(a))return b.none();if(ie(a)&&i>a.childNodes.length-1&&(s=!1),Es(a)&&(a=o,i=0),a===o){if(s&&(u=a.childNodes[i>0?i-1:0],u&&(Lt(u)||c[u.nodeName]||Xf(u))))return b.none();if(a.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,a.childNodes.length-1),a=a.childNodes[i],i=Z(a)&&l?a.data.length:0,!t&&a===o.lastChild&&Xf(a)||rT(o,a)||Lt(a))return b.none();if(a.hasChildNodes()&&Xf(a)===!1){u=a;var v=new Xe(a,o);do{if(De(u)||Lt(u)){f=!1;break}if(Z(u)&&u.nodeValue.length>0){i=s?0:u.nodeValue.length,a=u,f=!0;break}if(c[u.nodeName.toLowerCase()]&&!eT(u)){i=e.nodeIndex(u),a=u.parentNode,s||i++,f=!0;break}}while(u=s?v.next():v.prev())}}}return t&&(Z(a)&&i===0&&Yf(e,l,t,!0,a).each(function(d){a=d.container(),i=d.offset(),f=!0}),ie(a)&&(u=a.childNodes[i],u||(u=a.childNodes[i-1]),u&&Me(u)&&!nT(u,"A")&&!Mm(e,u,!1)&&!Mm(e,u,!0)&&Yf(e,l,t,!0,u).each(function(d){a=d.container(),i=d.offset(),f=!0}))),s&&!t&&Z(a)&&i===a.nodeValue.length&&Yf(e,l,t,!1,a).each(function(d){a=d.container(),i=d.offset(),f=!0}),f?b.some(R(a,i)):b.none()},Wo=function(e,t){var n=t.collapsed,r=t.cloneRange(),a=R.fromRangeStart(t);return Um(e,n,!0,r).each(function(i){(!n||!R.isAbove(a,i))&&r.setStart(i.container(),i.offset())}),n||Um(e,n,!1,r).each(function(i){r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),Gf(t,r)?b.none():b.some(r)},jo=function(e,t){return e.splitText(t)},Ko=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,a=e.endOffset;return t===r&&Z(t)?n>0&&n<t.nodeValue.length&&(r=jo(t,n),t=r.previousSibling,a>n?(a=a-n,t=r=jo(r,a).previousSibling,a=r.nodeValue.length,n=0):a=0):(Z(t)&&n>0&&n<t.nodeValue.length&&(t=jo(t,n),n=0),Z(r)&&a>0&&a<r.nodeValue.length&&(r=jo(r,a).previousSibling,a=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:a}},Ai=function(e){var t=function(a,i){return xi(e,a,i)},n=Ko,r=function(a){return Wo(e,a).fold(Be,function(i){return a.setStart(i.startContainer,i.startOffset),a.setEnd(i.endContainer,i.endOffset),!0})};return{walk:t,split:n,normalize:r}};Ai.compareRanges=Gf,Ai.getCaretRangeFromPoint=Kf,Ai.getSelectedNode=_o,Ai.getNode=ur;var aT=function(e,t){var n=function(u,s){if(!Jr(s)&&!s.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+s);var f=u.dom;ao(f)&&(f.style[e]=s+"px")},r=function(u){var s=t(u);if(s<=0||s===null){var f=In(u,e);return parseFloat(f)||0}return s},a=r,i=function(u,s){return Zt(s,function(f,l){var c=In(u,l),v=c===void 0?0:parseInt(c,10);return isNaN(v)?f:f+v},0)},o=function(u,s,f){var l=i(u,f),c=s>l?s-l:0;return c};return{set:n,get:r,getOuter:a,aggregate:i,max:o}},iT=aT("height",function(e){var t=e.dom;return ni(e)?t.getBoundingClientRect().height:t.offsetHeight}),oT=function(e){return iT.get(e)},zm=function(e,t){var n=e.view(t);return n.fold(Y([]),function(r){var a=e.owner(r),i=zm(e,a);return[r].concat(i)})},uT=function(e,t){var n=t.owner(e);return zm(t,n)},sT=function(e){var t,n=e.dom===document?b.none():b.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(k.fromDom)},fT=function(e){return ia(e)},lT=Object.freeze({__proto__:null,view:sT,owner:fT}),cT=function(e){var t=k.fromDom(document),n=ws(t),r=uT(e,lT),a=Cs(e),i=Jc(r,function(o,u){var s=Cs(u);return{left:o.left+s.left,top:o.top+s.top}},{left:0,top:0});return oa(i.left+a.left+n.left,i.top+a.top+n.top)},Qf=function(e){return Ge(e)==="textarea"},vT=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},dT=function(e,t){e.fire("AfterScrollIntoView",t)},pT=function(e,t){var n=Kt(e);if(n.length===0||Qf(e))return{element:e,offset:t};if(t<n.length&&!Qf(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Qf(r)?{element:e,offset:t}:Ge(r)==="img"?{element:r,offset:1}:jt(r)?{element:r,offset:qf(r).length}:{element:r,offset:Kt(r).length}},Hm=function(e,t){var n=lw(e),r=oT(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},mT=function(e,t){var n=pT(e,t),r=k.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+rt+"</span>");return tn(n.element,r),Hm(r,function(){return nt(r)})},hT=function(e){return Hm(k.fromDom(e),pe)},Vm=function(e,t,n,r){bT(e,function(a,i){return gT(e,t,n,r)},n)},qm=function(e,t,n,r,a){var i={elm:r.element.dom,alignToTop:a};if(!vT(e,i)){var o=ws(t).top;n(t,o,r,a),dT(e,i)}},gT=function(e,t,n,r){var a=k.fromDom(e.getBody()),i=k.fromDom(e.getDoc());Ew(a);var o=mT(k.fromDom(n.startContainer),n.startOffset);qm(e,i,t,o,r),o.cleanup()},Wm=function(e,t,n,r){var a=k.fromDom(e.getDoc());qm(e,a,n,hT(t),r)},bT=function(e,t,n){var r=n.startContainer,a=n.startOffset,i=n.endContainer,o=n.endOffset;t(k.fromDom(r),k.fromDom(i));var u=e.dom.createRng();u.setStart(r,a),u.setEnd(i,o),e.selection.setRng(n)},Zf=function(e,t,n,r){var a=e.pos;if(n)Yv(a.left,a.top,r);else{var i=a.top-t+e.height;Yv(a.left,i,r)}},jm=function(e,t,n,r,a){var i=n+t,o=r.pos.top,u=r.bottom,s=u-o>=n;if(o<t)Zf(r,n,a!==!1,e);else if(o>i){var f=s?a!==!1:a===!0;Zf(r,n,f,e)}else u>i&&!s&&Zf(r,n,a===!0,e)},Km=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;jm(e,t,a,n,r)},Gm=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;jm(e,t,a,n,r);var i=cT(n.element),o=Jv(window);i.top<o.y?Qv(n.element,r!==!1):i.top>o.bottom&&Qv(n.element,r===!0)},yT=function(e,t,n){return Vm(e,Km,t,n)},CT=function(e,t,n){return Wm(e,t,Km,n)},wT=function(e,t,n){return Vm(e,Gm,t,n)},ST=function(e,t,n){return Wm(e,t,Gm,n)},ET=function(e,t,n){var r=e.inline?CT:ST;r(e,t,n)},Ri=function(e,t,n){var r=e.inline?yT:wT;r(e,t,n)},kT=function(){return k.fromDom(document)},xT=function(e){return e.dom.focus()},Xm=function(e){var t=xr(e).dom;return e.dom===t.activeElement},Jf=function(e){return e===void 0&&(e=kT()),b.from(e.dom.activeElement).map(k.fromDom)},TT=function(e){return Jf(xr(e)).filter(function(t){return e.dom.contains(t.dom)})},NT=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},AT={create:NT},el=Gn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),RT=function(e,t,n,r){return e.fold(t,n,r)},BT=function(e){return e.fold(At,At,At)},_T=el.before,DT=el.on,OT=el.after,PT={before:_T,on:DT,after:OT,cata:RT,getStart:BT},Go=Gn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),IT=function(e){return Go.exact(e.start,e.soffset,e.finish,e.foffset)},$T=function(e){return e.match({domRange:function(t){return k.fromDom(t.startContainer)},relative:function(t,n){return PT.getStart(t)},exact:function(t,n,r,a){return t}})},LT=Go.domRange,FT=Go.relative,MT=Go.exact,UT=function(e){var t=$T(e);return Uv(t)},zT=AT.create,Ym={domRange:LT,relative:FT,exact:MT,exactFromRange:IT,getWin:UT,range:zT},HT=Wt().browser,Qm=function(e,t){var n=jt(t)?qf(t).length:Kt(t).length+1;return e>n?n:e<0?0:e},VT=function(e){return Ym.range(e.start,Qm(e.soffset,e.start),e.finish,Qm(e.foffset,e.finish))},Zm=function(e,t){return!eo(t.dom)&&(Wn(e,t)||Ae(e,t))},tl=function(e){return function(t){return Zm(e,t.start)&&Zm(e,t.finish)}},Jm=function(e){return e.inline===!0||HT.isIE()},eh=function(e){return Ym.range(k.fromDom(e.startContainer),e.startOffset,k.fromDom(e.endContainer),e.endOffset)},qT=function(e){var t=e.getSelection(),n=!t||t.rangeCount===0?b.none():b.from(t.getRangeAt(0));return n.map(eh)},WT=function(e){var t=Uv(e);return qT(t.dom).filter(tl(e))},jT=function(e,t){return b.from(t).filter(tl(e)).map(VT)},KT=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),b.some(t)}catch{return b.none()}},Xo=function(e){var t=Jm(e)?WT(k.fromDom(e.getBody())):b.none();e.bookmark=t.isSome()?t:e.bookmark},GT=function(e,t){var n=k.fromDom(e.getBody()),r=Jm(e)?b.from(t):b.none(),a=r.map(eh).filter(tl(n));e.bookmark=a.isSome()?a:e.bookmark},nl=function(e){var t=e.bookmark?e.bookmark:b.none();return t.bind(function(n){return jT(k.fromDom(e.getBody()),n)}).bind(KT)},XT=function(e){nl(e).each(function(t){return e.selection.setRng(t)})},YT=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1},th={isEditorUIElement:YT},QT=function(e){return e.type==="nodechange"&&e.selectionChange},ZT=function(e,t){var n=function(){t.throttle()};Te.DOM.bind(document,"mouseup",n),e.on("remove",function(){Te.DOM.unbind(document,"mouseup",n)})},JT=function(e){e.on("focusout",function(){Xo(e)})},eN=function(e,t){e.on("mouseup touchend",function(n){t.throttle()})},tN=function(e,t){var n=Wt().browser;n.isIE()?JT(e):eN(e,t),e.on("keyup NodeChange",function(r){QT(r)||Xo(e)})},nN=function(e){var t=vf(function(){Xo(e)},0);e.on("init",function(){e.inline&&ZT(e,t),tN(e,t)}),e.on("remove",function(){t.cancel()})},Bi,rl=Te.DOM,rN=function(e){return th.isEditorUIElement(e)},aN=function(e){var t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Yo=function(e,t){var n=lx(e),r=rl.getParent(t,function(a){return rN(a)||(n?e.dom.is(a,n):!1)});return r!==null},iN=function(e){try{var t=xr(k.fromDom(e.getElement()));return Jf(t).fold(function(){return document.body},function(n){return n.dom})}catch{return document.body}},oN=function(e,t){var n=t.editor;nN(n),n.on("focusin",function(){var r=e.focusedEditor;r!==n&&(r&&r.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",function(){ut.setEditorTimeout(n,function(){var r=e.focusedEditor;!Yo(n,iN(n))&&r===n&&(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Bi||(Bi=function(r){var a=e.activeEditor;a&&iw(r).each(function(i){i.ownerDocument===document&&i!==document.body&&!Yo(a,i)&&e.focusedEditor===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},rl.bind(document,"focusin",Bi))},uN=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(rl.unbind(document,"focusin",Bi),Bi=null)},sN=function(e){e.on("AddEditor",X(oN,e)),e.on("RemoveEditor",X(uN,e))},fN=function(e,t){return e.dom.getParent(t,function(n){return e.dom.getContentEditable(n)==="true"})},lN=function(e){return e.collapsed?b.from(ur(e.startContainer,e.startOffset)).map(k.fromDom):b.none()},cN=function(e,t){return lN(t).bind(function(n){return Zw(n)?b.some(n):Wn(e,n)===!1?b.some(e):b.none()})},nh=function(e,t){cN(k.fromDom(e.getBody()),t).bind(function(n){return St(n.dom)}).fold(function(){e.selection.normalize()},function(n){return e.selection.setRng(n.toRange())})},al=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},vN=function(e){return Xm(e)||TT(e).isSome()},dN=function(e){return e.iframeElement&&Xm(k.fromDom(e.iframeElement))},pN=function(e){var t=e.getBody();return t&&vN(k.fromDom(t))},mN=function(e){var t=xr(k.fromDom(e.getElement()));return Jf(t).filter(function(n){return!aN(n.dom)&&Yo(e,n.dom)}).isSome()},Fr=function(e){return e.inline?pN(e):dN(e)},hN=function(e){return Fr(e)||mN(e)},gN=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Fr(e)===!1&&nl(e).each(function(i){e.selection.setRng(i),r=i});var a=fN(e,t.getNode());if(e.$.contains(n,a)){al(a),nh(e,r),il(e);return}e.inline||(fe.opera||al(n),e.getWin().focus()),(fe.gecko||e.inline)&&(al(n),nh(e,r)),il(e)},il=function(e){return e.editorManager.setActive(e)},bN=function(e,t){e.removed||(t?il(e):gN(e))},rh=function(e,t,n,r,a){var i=n?t.startContainer:t.endContainer,o=n?t.startOffset:t.endOffset;return b.from(i).map(k.fromDom).map(function(u){return!r||!t.collapsed?Qi(u,a(u,o)).getOr(u):u}).bind(function(u){return Jt(u)?b.some(u):en(u).filter(Jt)}).map(function(u){return u.dom}).getOr(e)},ah=function(e,t,n){return rh(e,t,!0,n,function(r,a){return Math.min(qv(r),a)})},ih=function(e,t,n){return rh(e,t,!1,n,function(r,a){return a>0?a-1:a})},oh=function(e,t){for(var n=e;e&&Z(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},yN=function(e,t){var n,r,a;if(!t)return e;r=t.startContainer,a=t.endContainer;var i=t.startOffset,o=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===a&&o-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),r.nodeType===3&&a.nodeType===3&&(r.length===i?r=oh(r.nextSibling,!0):r=r.parentNode,o===0?a=oh(a.previousSibling,!1):a=a.parentNode,r&&r===a))?r:n&&n.nodeType===3?n.parentNode:n},CN=function(e,t,n,r){var a,i=[],o=e.getRoot();if(n=e.getParent(n||ah(o,t,t.collapsed),e.isBlock),r=e.getParent(r||ih(o,t,t.collapsed),e.isBlock),n&&n!==o&&i.push(n),n&&r&&n!==r){a=n;for(var u=new Xe(n,o);(a=u.next())&&a!==r;)e.isBlock(a)&&i.push(a)}return r&&n!==r&&r!==o&&i.push(r),i},wN=function(e,t,n){return b.from(t).map(function(r){var a=e.nodeIndex(r),i=e.createRng();return i.setStart(r.parentNode,a),i.setEnd(r.parentNode,a+1),n&&(zf(e,i,r,!0),zf(e,i,r,!1)),i})},ol=function(e,t){return Oe(t,function(n){var r=e.fire("GetSelectionRange",{range:n});return r.range!==n?r.range:n})},SN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Qo=function(e,t,n){var r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[a];if(i)return i;for(var o=e.parent;o&&o!==t;o=o.parent)if(i=o[a],i)return i}},EN=function(e){if(!Nr(e.value))return!1;var t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},uh=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Yt=function(){function e(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,SN[t]||1);return n&&Ie(n,function(a,i){r.attr(i,a)}),r},e.prototype.replace=function(t){var n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n},e.prototype.attr=function(t,n){var r=this,a;if(typeof t!="string")return t!=null&&Ie(t,function(o,u){r.attr(u,o)}),r;if(a=r.attributes){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];for(var i=a.length;i--;)if(a[i].name===t)return a.splice(i,1),r}return r}if(t in a.map){for(var i=a.length;i--;)if(a[i].name===t){a[i].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,r}return a.map[t]}},e.prototype.clone=function(){var t=this,n=new e(t.name,t.type),r;if(r=t.attributes){var a=[];a.map={};for(var i=0,o=r.length;i<o;i++){var u=r[i];u.name!=="id"&&(a[a.length]={name:u.name,value:u.value},a.map[u.name]=u.value)}n.attributes=a}return n.value=t.value,n.shortEnded=t.shortEnded,n},e.prototype.wrap=function(t){var n=this;return n.parent.insert(t,n),t.append(n),n},e.prototype.unwrap=function(){for(var t=this,n=t.firstChild;n;){var r=n.next;t.insert(n,t,!0),n=r}t.remove()},e.prototype.remove=function(){var t=this,n=t.parent,r=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):a.next=r,n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):r.prev=a,t.parent=t.next=t.prev=null),t},e.prototype.append=function(t){var n=this;t.parent&&t.remove();var r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},e.prototype.insert=function(t,n,r){t.parent&&t.remove();var a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev.next=t,t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next.prev=t,t.next=n.next,t.prev=n,n.next=t),t.parent=a,t},e.prototype.getAll=function(t){for(var n=this,r=[],a=n.firstChild;a;a=Qo(a,n))a.name===t&&r.push(a);return r},e.prototype.children=function(){for(var t=this,n=[],r=t.firstChild;r;r=r.next)n.push(r);return n},e.prototype.empty=function(){var t=this;if(t.firstChild){for(var n=[],r=t.firstChild;r;r=Qo(r,t))n.push(r);for(var a=n.length;a--;){var r=n[a];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return t.firstChild=t.lastChild=null,t},e.prototype.isEmpty=function(t,n,r){n===void 0&&(n={});var a=this,i=a.firstChild;if(uh(a))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(t[i.name]||uh(i))return!1}if(i.type===8||i.type===3&&!EN(i)||i.type===3&&i.parent&&n[i.parent.name]&&Nr(i.value)||r&&r(i))return!1}while(i=Qo(i,a));return!0},e.prototype.walk=function(t){return Qo(this,null,t)},e}(),kN=function(e){for(var t=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,n=[],r={},a=up("img"),i,o=0,u=0;i=t.exec(e);){var s=i[0],f=a+"_"+u++;r[f]=s,o<i.index&&n.push(e.substr(o,i.index-o)),n.push(f),o=i.index+s.length}var l=new RegExp(a+"_[0-9]+","g");return o===0?{prefix:a,uris:r,html:e,re:l}:(o<e.length&&n.push(e.substr(o)),{prefix:a,uris:r,html:n.join(""),re:l})},ul=function(e,t){return e.replace(t.re,function(n){return Ke(t.uris,n).getOr(n)})},xN=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return t?b.some({type:t[1],data:decodeURIComponent(t[2])}):b.none()},sh=_.each,TN=_.trim,NN="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),AN={ftp:21,http:80,https:443,mailto:25},RN=["img","video"],BN=function(e,t){return Ne(e)?!e:Ne(t)?!et(RN,t):!0},_N=function(e,t,n){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?BN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},lr=function(){function e(t,n){t=TN(t),this.settings=n||{};var r=this.settings.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}var i=t.indexOf("//")===0;if(t.indexOf("/")===0&&!i&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var o=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+a.toAbsPath(o,t);else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(o,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);sh(NN,function(f,l){var c=s[l];c&&(c=c.replace(/\(mce_at\)/g,"@@")),a[f]=c}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),i&&(a.protocol="")}return e.parseDataUri=function(t){var n,r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(n=a[1]),{type:n,data:r[1]}},e.isDomSafe=function(t,n,r){if(r===void 0&&(r={}),r.allow_script_urls)return!0;var a=Qn.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{a=decodeURIComponent(a)}catch{a=unescape(a)}return/((java|vb)script|mhtml):/i.test(a)?!1:!_N(r,a,n)},e.getDocumentBaseUrl=function(t){var n;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?n=t.href:n=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n},e.prototype.setPath=function(t){var n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if(t==="./")return t;var r=new e(t,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();var a=this.getURI(),i=r.getURI();return a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i?a:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var n=AN[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1},e.prototype.toRelPath=function(t,n){var r=0,a="",i,o,u=t.substring(0,t.lastIndexOf("/")).split("/"),s=n.split("/");if(u.length>=s.length){for(i=0,o=u.length;i<o;i++)if(i>=s.length||u[i]!==s[i]){r=i+1;break}}if(u.length<s.length){for(i=0,o=s.length;i<o;i++)if(i>=u.length||u[i]!==s[i]){r=i+1;break}}if(r===1)return n;for(i=0,o=u.length-(r-1);i<o;i++)a+="../";for(i=r-1,o=s.length;i<o;i++)i!==r-1?a+="/"+s[i]:a+=s[i];return a},e.prototype.toAbsPath=function(t,n){var r,a=0,i=[],o,u=/\/$/.test(n)?"/":"",s=t.split("/"),f=n.split("/");for(sh(s,function(l){l&&i.push(l)}),s=i,r=f.length-1,i=[];r>=0;r--)if(!(f[r].length===0||f[r]===".")){if(f[r]===".."){a++;continue}if(a>0){a--;continue}i.push(f[r])}return r=s.length-a,r<=0?o=Ki(i).join("/"):o=s.slice(0,r).join("/")+"/"+Ki(i).join("/"),o.indexOf("/")!==0&&(o="/"+o),u&&o.lastIndexOf("/")!==o.length-1&&(o+=u),o},e.prototype.getURI=function(t){t===void 0&&(t=!1);var n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source},e}(),DN=_.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),ON=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},PN=ls(function(){return document.implementation.createHTMLDocument("parser")}),sl=function(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,a=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),o=1,u=n;o!==0;)for(r.lastIndex=u;;){var s=r.exec(t);if(s===null)return u;if(s[1]==="!"){Er(s[2],"--")?u=fl(t,!1,s.index+3):u=fl(t,!0,s.index+1);break}else{a.lastIndex=r.lastIndex;var f=a.exec(t);if(Ga(f)||f.index!==r.lastIndex)continue;s[1]==="/"?o-=1:ge(i,s[2])||(o+=1),u=r.lastIndex+f[0].length;break}}return u},IN=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},fl=function(e,t,n){n===void 0&&(n=0);var r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&IN(r,n)){var a=r.indexOf("[endif]",n);return r.indexOf(">",a)}else if(t){var i=r.indexOf(">",n);return i!==-1?i:r.length}else{var o=/--!?>/g;o.lastIndex=n;var u=o.exec(e);return u?u.index+u[0].length:r.length}},$N=function(e,t){var n=e.exec(t);if(n){var r=n[1],a=n[2];return typeof r=="string"&&r.toLowerCase()==="data-mce-bogus"?a:null}else return null},Zo=function(e,t){t===void 0&&(t=Jn()),e=e||{};var n=PN(),r=n.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var a=e.comment?e.comment:pe,i=e.cdata?e.cdata:pe,o=e.text?e.text:pe,u=e.start?e.start:pe,s=e.end?e.end:pe,f=e.pi?e.pi:pe,l=e.doctype?e.doctype:pe,c=function(d,p){p===void 0&&(p="html");for(var m=d.html,h,y=0,g,E,S=[],C,x,B,L,re,j,D,te,z,W,M,q,G,O,K,ve,ye,be=0,We=Qn.decode,_e=_.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ct=p==="html"?0:1,Tt=function(Ee){var ke,He;for(ke=S.length;ke--&&S[ke].name!==Ee;);if(ke>=0){for(He=S.length-1;He>=ke;He--)Ee=S[He],Ee.valid&&s(Ee.name);S.length=ke}},P=function(Ee,ke){return o(ul(Ee,d),ke)},H=function(Ee){Ee!==""&&(Ee.charAt(0)===">"&&(Ee=" "+Ee),!e.allow_conditional_comments&&Ee.substr(0,3).toLowerCase()==="[if"&&(Ee=" "+Ee),a(ul(Ee,d)))},J=function(Ee){return ul(Ee,d)},T=function(Ee,ke){var He=Ee||"",ln=!Er(He,"--"),cn=fl(m,ln,ke);return Ee=m.substr(ke,cn-ke),H(ln?He+Ee:Ee),cn+1},F=function(Ee,ke,He,ln,cn){if(ke=ke.toLowerCase(),He=J(ke in Ue?ke:We(He||ln||cn||"")),Le&&!re&&ON(ke)===!1){var vn=M[ke];if(!vn&&q){for(var br=q.length;br--&&(vn=q[br],!vn.pattern.test(ke)););br===-1&&(vn=null)}if(!vn||vn.validValues&&!(He in vn.validValues))return}var Vc=ke==="name"||ke==="id";Vc&&Ee in DN&&(He in n||He in r)||_e[ke]&&!lr.isDomSafe(He,Ee,e)||re&&(ke in _e||ke.indexOf("on")===0)||(C.map[ke]=He,C.push({name:ke,value:He}))},I=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),ee=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ne=t.getShortEndedElements(),we=e.self_closing_elements||t.getSelfClosingElements(),Ue=t.getBoolAttrs(),Le=e.validate,Vn=e.remove_internals,vt=e.fix_self_closing,ht=t.getSpecialElements(),ze=m+">";h=I.exec(ze);){var Pt=h[0];if(y<h.index&&P(We(m.substr(y,h.index-y))),g=h[7])g=g.toLowerCase(),g.charAt(0)===":"&&(g=g.substr(1)),Tt(g);else if(g=h[8]){if(h.index+Pt.length>m.length){P(We(m.substr(h.index))),y=h.index+Pt.length;continue}g=g.toLowerCase(),g.charAt(0)===":"&&(g=g.substr(1)),j=g in ne,vt&&we[g]&&S.length>0&&S[S.length-1].name===g&&Tt(g);var gt=$N(ee,h[9]);if(gt!==null){if(gt==="all"){y=sl(t,m,I.lastIndex),I.lastIndex=y;continue}te=!1}if(!Le||(D=t.getElementRule(g))){if(te=!0,Le&&(M=D.attributes,q=D.attributePatterns),(W=h[9])?(re=W.indexOf("data-mce-type")!==-1,re&&Vn&&(te=!1),C=[],C.map={},W.replace(ee,function(Ee,ke,He,ln,cn){return F(g,ke,He,ln,cn),""})):(C=[],C.map={}),Le&&!re){if(G=D.attributesRequired,O=D.attributesDefault,K=D.attributesForced,ve=D.removeEmptyAttrs,ve&&!C.length&&(te=!1),K)for(x=K.length;x--;)z=K[x],L=z.name,ye=z.value,ye==="{$uid}"&&(ye="mce_"+be++),C.map[L]=ye,C.push({name:L,value:ye});if(O)for(x=O.length;x--;)z=O[x],L=z.name,L in C.map||(ye=z.value,ye==="{$uid}"&&(ye="mce_"+be++),C.map[L]=ye,C.push({name:L,value:ye}));if(G){for(x=G.length;x--&&!(G[x]in C.map););x===-1&&(te=!1)}if(z=C.map["data-mce-bogus"]){if(z==="all"){y=sl(t,m,I.lastIndex),I.lastIndex=y;continue}te=!1}}te&&u(g,C,j)}else te=!1;if(E=ht[g]){E.lastIndex=y=h.index+Pt.length,(h=E.exec(m))?(te&&(B=m.substr(y,h.index-y)),y=h.index+h[0].length):(B=m.substr(y),y=m.length),te&&(B.length>0&&P(B,!0),s(g)),I.lastIndex=y;continue}j||(!W||W.indexOf("/")!==W.length-1?S.push({name:g,valid:te}):te&&s(g))}else if(g=h[1])H(g);else if(g=h[2]){var Dn=ct===1||e.preserve_cdata||S.length>0&&t.isValidChild(S[S.length-1].name,"#cdata");if(Dn)i(g);else{y=T("",h.index+2),I.lastIndex=y;continue}}else if(g=h[3])l(g);else if((g=h[4])||Pt==="<!"){y=T(g,h.index+Pt.length),I.lastIndex=y;continue}else if(g=h[5])if(ct===1)f(g,h[6]);else{y=T("?",h.index+2),I.lastIndex=y;continue}y=h.index+Pt.length}for(y<m.length&&P(We(m.substr(y))),x=S.length-1;x>=0;x--)g=S[x],g.valid&&s(g.name)},v=function(d,p){p===void 0&&(p="html"),c(kN(d),p)};return{parse:v}};Zo.findEndTag=sl;var LN=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},fh=function(e,t){for(var n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema,a=LN(e.getTempAttrs(),t),i=r.getShortEndedElements(),o;o=n.exec(a);){var u=n.lastIndex,s=o[0].length,f=void 0;i[o[1]]?f=u:f=Zo.findEndTag(r,a,u),a=a.substring(0,u-s)+a.substring(f),n.lastIndex=u-s}return Yn(a)},FN=fh,MN=function(e,t){var n=lt(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+n+`>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},UN=function(e,t){return oe(oe({},e),{format:t,get:!0,getInner:!0})},zN=function(e,t,n,r){var a=UN(t,n),i=t.no_events?a:e.fire("BeforeGetContent",a),o;return i.format==="raw"?o=_.trim(FN(e.serializer,r.innerHTML)):i.format==="text"?o=e.dom.isEmpty(r)?"":Yn(r.innerText||r.textContent):i.format==="tree"?o=e.serializer.serialize(r,i):o=MN(e,e.serializer.serialize(r,i)),!et(["text","tree"],i.format)&&!fo(k.fromDom(r))?i.content=_.trim(o):i.content=o,i.no_events?i.content:e.fire("GetContent",i).content},HN=function(e,t,n){return b.from(e.getBody()).fold(Y(t.format==="tree"?new Yt("body",11):""),function(r){return zN(e,t,n,r)})},VN=_.each,lh=function(e){var t=function(n,r){if(n.nodeName!==r.nodeName)return!1;var a=function(o){var u={};return VN(e.getAttribs(o),function(s){var f=s.nodeName.toLowerCase();f.indexOf("_")!==0&&f!=="style"&&f.indexOf("data-")!==0&&(u[f]=e.getAttrib(o,f))}),u},i=function(o,u){var s,f;for(f in o)if(ge(o,f)){if(s=u[f],typeof s=="undefined"||o[f]!==s)return!1;delete u[f]}for(f in u)if(ge(u,f))return!1;return!0};return!i(a(n),a(r))||!i(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))?!1:!zt(n)&&!zt(r)};return{compare:t}},ch=_.makeMap,vh=function(e){var t=[];e=e||{};var n=e.indent,r=ch(e.indent_before||""),a=ch(e.indent_after||""),i=Qn.getEncodeFunc(e.entity_encoding||"raw",e.entities),o=e.element_format==="html";return{start:function(u,s,f){var l,c,v,d;if(n&&r[u]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`)),t.push("<",u),s)for(l=0,c=s.length;l<c;l++)v=s[l],t.push(" ",v.name,'="',i(v.value,!0),'"');!f||o?t[t.length]=">":t[t.length]=" />",f&&n&&a[u]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`))},end:function(u){var s;t.push("</",u,">"),n&&a[u]&&t.length>0&&(s=t[t.length-1],s.length>0&&s!==`
`&&t.push(`
`))},text:function(u,s){u.length>0&&(t[t.length]=s?u:i(u))},cdata:function(u){t.push("<![CDATA[",u,"]]>")},comment:function(u){t.push("<!--",u,"-->")},pi:function(u,s){s?t.push("<?",u," ",i(s),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:function(u){t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},$a=function(e,t){t===void 0&&(t=Jn());var n=vh(e);e=e||{},e.validate="validate"in e?e.validate:!0;var r=function(a){var i=e.validate,o={3:function(s){n.text(s.value,s.raw)},8:function(s){n.comment(s.value)},7:function(s){n.pi(s.name,s.value)},10:function(s){n.doctype(s.value)},4:function(s){n.cdata(s.value)},11:function(s){if(s=s.firstChild)do u(s);while(s=s.next)}};n.reset();var u=function(s){var f=o[s.type];if(f)f(s);else{var l=s.name,c=s.shortEnded,v=s.attributes;if(i&&v&&v.length>1){var d=[];d.map={};var p=t.getElementRule(s.name);if(p){for(var m=0,h=p.attributesOrder.length;m<h;m++){var y=p.attributesOrder[m];if(y in v.map){var g=v.map[y];d.map[y]=g,d.push({name:y,value:g})}}for(var m=0,h=v.length;m<h;m++){var y=v[m].name;if(!(y in d.map)){var g=v.map[y];d.map[y]=g,d.push({name:y,value:g})}}v=d}}if(n.start(s.name,v,c),!c){if(s=s.firstChild)do u(s);while(s=s.next);n.end(l)}}};return a.type===1&&!e.inner?u(a):o[11](a),n.getContent()};return{serialize:r}},dh=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Q(e,function(t){dh.add(t)})})();var ph=["font","text-decoration","text-emphasis"],ll=function(e,t){return ta(e.parseStyle(e.getAttrib(t,"style")))},qN=function(e){return dh.has(e)},WN=function(e,t){return Xa(ll(e,t),function(n){return!qN(n)})},jN=function(e){return he(e,function(t){return yt(ph,function(n){return Er(t,n)})})},KN=function(e,t,n){var r=ll(e,t),a=ll(e,n),i=function(o){var u=e.getStyle(t,o),s=e.getStyle(n,o);return Xi(u)&&Xi(s)&&u!==s};return yt(r,function(o){var u=function(f){return yt(f,function(l){return l===o})};if(!u(a)&&u(ph)){var s=jN(a);return yt(s,i)}else return i(o)})},mh=function(e,t,n){return b.from(n.container()).filter(Z).exists(function(r){var a=e?0:-1;return t(r.data.charAt(n.offset()+a))})},cl=X(mh,!0,Ba),vl=X(mh,!1,Ba),GN=function(e){var t=e.container();return Z(t)&&(t.data.length===0||lo(t.data)&&Ni.isBookmarkNode(t.parentNode))},cr=function(e,t){return function(n){return b.from(xf(e?0:-1,n)).filter(t).isSome()}},hh=function(e){return mw(e)&&In(k.fromDom(e),"display")==="block"},gh=function(e){return De(e)&&!dw(e)},XN=cr(!0,hh),YN=cr(!1,hh),La=cr(!0,Xt),Fa=cr(!1,Xt),bh=cr(!0,ua),yh=cr(!1,ua),vr=cr(!0,gh),dr=cr(!1,gh),QN=function(e){for(var t=[],n=e.dom;n;)t.push(k.fromDom(n)),n=n.lastChild;return t},ZN=function(e){var t=xt(e,"br"),n=he(QN(e).slice(-1),la);t.length===n.length&&Q(n,nt)},Mr=function(e){ys(e),it(e,k.fromHtml('<br data-mce-bogus="1">'))},JN=function(e){gs(e).each(function(t){kr(t).each(function(n){bn(e)&&la(t)&&bn(n)&&nt(t)})})},eA=function(e){return e.slice(0,-1)},tA=function(e,t,n){return Wn(t,e)?eA(J0(e,function(r){return n(r)||Ae(r,t)})):[]},Ch=function(e,t){return tA(e,t,Be)},Mn=function(e,t){return[e].concat(Ch(e,t))},dl=function(e,t,n){return dm(e,t,n,GN)},wh=function(e,t){return tt(Mn(k.fromDom(t.container()),e),bn)},Sh=function(e,t,n){return dl(e,t.dom,n).forall(function(r){return wh(t,n).fold(function(){return Sn(r,n,t.dom)===!1},function(a){return Sn(r,n,t.dom)===!1&&Wn(a,k.fromDom(r.container()))})})},Eh=function(e,t,n){return wh(t,n).fold(function(){return dl(e,t.dom,n).forall(function(r){return Sn(r,n,t.dom)===!1})},function(r){return dl(e,r.dom,n).isNone()})},pl=X(Eh,!1),kh=X(Eh,!0),nA=X(Sh,!1),rA=X(Sh,!0),aA=function(e){return $o(e).exists(la)},Jo=function(e,t,n){var r=he(Mn(k.fromDom(n.container()),t),bn),a=It(r).getOr(t);return Ut(e,a.dom,n).filter(aA)},ml=function(e,t){return $o(t).exists(la)||Jo(!0,e,t).isSome()},hl=function(e,t){return Wx(t).exists(la)||Jo(!1,e,t).isSome()},iA=X(Jo,!1),oA=X(Jo,!0),xh=function(e){return R.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Th=function(e,t){var n=he(Mn(k.fromDom(t.container()),e),bn);return It(n).getOr(e)},Nh=function(e,t){return xh(t)?vl(t):vl(t)||kn(Th(e,t).dom,t).exists(vl)},Ah=function(e,t){return xh(t)?cl(t):cl(t)||sn(Th(e,t).dom,t).exists(cl)},uA=function(e){return et(["pre","pre-wrap"],e)},gl=function(e){return $o(e).bind(function(t){return io(t,Jt)}).exists(function(t){return uA(In(t,"white-space"))})},sA=function(e,t){return kn(e.dom,t).isNone()},fA=function(e,t){return sn(e.dom,t).isNone()},lA=function(e,t){return sA(e,t)||fA(e,t)||pl(e,t)||kh(e,t)||hl(e,t)||ml(e,t)},cA=function(e,t){return gl(t)?!1:lA(e,t)||Nh(e,t)||Ah(e,t)},eu=function(e,t){return gl(t)?!1:pl(e,t)||nA(e,t)||hl(e,t)||Nh(e,t)},vA=function(e){var t=e.container(),n=e.offset();return Z(t)&&n<t.data.length?R(t,n+1):e},tu=function(e,t){return gl(t)?!1:kh(e,t)||rA(e,t)||ml(e,t)||Ah(e,t)},Rh=function(e,t){return eu(e,t)||tu(e,vA(t))},Bh=function(e,t){return ki(e.charAt(t))},dA=function(e){var t=e.container();return Z(t)&&Ct(t.data,Rt)},pA=function(e){var t=e.split("");return Oe(t,function(n,r){return ki(n)&&r>0&&r<t.length-1&&_f(t[r-1])&&_f(t[r+1])?" ":n}).join("")},mA=function(e,t){var n=t.data,r=R(t,0);return Bh(n,0)&&!Rh(e,r)?(t.data=" "+n.slice(1),!0):!1},hA=function(e){var t=e.data,n=pA(t);return n!==t?(e.data=n,!0):!1},gA=function(e,t){var n=t.data,r=R(t,n.length-1);return Bh(n,n.length-1)&&!Rh(e,r)?(t.data=n.slice(0,-1)+" ",!0):!1},bA=function(e,t){return b.some(t).filter(dA).bind(function(n){var r=n.container(),a=mA(e,r)||hA(r)||gA(e,r);return a?b.some(n):b.none()})},_h=function(e){var t=k.fromDom(e.getBody());e.selection.isCollapsed()&&bA(t,R.fromRangeStart(e.selection.getRng())).each(function(n){e.selection.setRng(n.toRange())})},yA=function(e,t,n){var r=Zt(e,function(a,i){return Ba(i)||ki(i)?a.previousCharIsSpace||a.str===""&&t||a.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:a.str+Rt}:{previousCharIsSpace:!0,str:a.str+" "}:{previousCharIsSpace:!1,str:a.str+i}},{previousCharIsSpace:!1,str:""});return r.str},Dh=function(e,t,n){if(n!==0){var r=k.fromDom(e),a=oi(r,bn).getOr(r),i=e.data.slice(t,t+n),o=t+n>=e.data.length&&tu(a,R(e,e.data.length)),u=t===0&&eu(a,R(e,0));e.replaceData(t,n,yA(i,u,o))}},nu=function(e,t){var n=e.data.slice(t),r=n.length-m0(n).length;Dh(e,t,r)},bl=function(e,t){var n=e.data.slice(0,t),r=n.length-fv(n).length;Dh(e,t-r,r)},yl=function(e,t,n,r){r===void 0&&(r=!0);var a=fv(e.data).length,i=r?e:t,o=r?t:e;return r?i.appendData(o.data):i.insertData(0,o.data),nt(k.fromDom(o)),n&&nu(i,a),i},CA=function(e,t){var n=e.container(),r=e.offset();return R.isTextPosition(e)===!1&&n===t.parentNode&&r>R.before(t).offset()},wA=function(e,t){return CA(t,e)?R(t.container(),t.offset()-1):t},SA=function(e){return Z(e)?R(e,0):R.before(e)},EA=function(e){return Z(e)?R(e,e.data.length):R.after(e)},Oh=function(e){return yn(e.previousSibling)?b.some(EA(e.previousSibling)):e.previousSibling?xn(e.previousSibling):b.none()},Ph=function(e){return yn(e.nextSibling)?b.some(SA(e.nextSibling)):e.nextSibling?St(e.nextSibling):b.none()},kA=function(e,t){var n=R.before(t.previousSibling?t.previousSibling:t.parentNode);return kn(e,n).fold(function(){return sn(e,R.after(t))},b.some)},xA=function(e,t){return sn(e,R.after(t)).fold(function(){return kn(e,R.before(t))},b.some)},TA=function(e,t){return Oh(t).orThunk(function(){return Ph(t)}).orThunk(function(){return kA(e,t)})},NA=function(e,t){return Ph(t).orThunk(function(){return Oh(t)}).orThunk(function(){return xA(e,t)})},AA=function(e,t,n){return e?NA(t,n):TA(t,n)},RA=function(e,t,n){return AA(e,t,n).map(X(wA,n))},Ih=function(e,t,n){n.fold(function(){e.focus()},function(r){e.selection.setRng(r.toRange(),t)})},BA=function(e){return function(t){return t.dom===e}},_A=function(e,t){return t&&ge(e.schema.getBlockElements(),Ge(t))},DA=function(e){if(Ye(e)){var t=k.fromHtml('<br data-mce-bogus="1">');return ys(e),it(e,t),b.some(R.before(t.dom))}else return b.none()},OA=function(e,t,n){var r=kr(e).filter(jt),a=ei(e).filter(jt);return nt(e),gw(r,a,t,function(i,o,u){var s=i.dom,f=o.dom,l=s.data.length;return yl(s,f,n),u.container()===f?R(s,l):u}).orThunk(function(){return n&&(r.each(function(i){return bl(i.dom,i.dom.length)}),a.each(function(i){return nu(i.dom,0)})),t})},PA=function(e,t){return ge(e.schema.getTextInlineElements(),Ge(t))},Ur=function(e,t,n,r){r===void 0&&(r=!0);var a=RA(t,e.getBody(),n.dom),i=oi(n,X(_A,e),BA(e.getBody())),o=OA(n,a,PA(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(DA).fold(function(){r&&Ih(e,t,o)},function(u){r&&Ih(e,t,b.some(u))})},IA=function(e){return function(t){return Ae(e,t)}},Cl=function(e){return xt(e,"td,th")},LA=function(e,t){var n=function(f){return Ti(k.fromDom(f),t)},r=n(e.startContainer),a=n(e.endContainer),i=r.isSome(),o=a.isSome(),u=kt(r,a,Ae).getOr(!1),s=!u&&i&&o;return{startTable:r,endTable:a,isStartInTable:i,isEndInTable:o,isSameTable:u,isMultiTable:s}},wl=function(e,t){return{start:e,end:t}},FA=function(e,t,n){return{rng:e,table:t,cells:n}},_i=Gn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ru=function(e,t){return As(k.fromDom(e),"td,th",t)},$h=function(e){return!Ae(e.start,e.end)},Lh=function(e,t){return Ti(e.start,t).bind(function(n){return Ti(e.end,t).bind(function(r){return bw(Ae(n,r),n)})})},MA=function(e,t){return!$h(e)&&Lh(e,t).exists(function(n){var r=n.dom.rows;return r.length===1&&r[0].cells.length===1})},UA=function(e,t){var n=ru(e.startContainer,t),r=ru(e.endContainer,t);return kt(n,r,wl)},zA=function(e){return function(t){return Ti(t,e).bind(function(n){return Sr(Cl(n)).map(function(r){return wl(t,r)})})}},HA=function(e){return function(t){return Ti(t,e).bind(function(n){return It(Cl(n)).map(function(r){return wl(r,t)})})}},Sl=function(e){return function(t){return Lh(t,e).map(function(n){return FA(t,n,Cl(n))})}},Fh=function(e,t,n,r){if(n.collapsed||!e.forall($h))return b.none();if(t.isSameTable){var a=e.bind(Sl(r));return b.some({start:a,end:a})}else{var i=ru(n.startContainer,r),o=ru(n.endContainer,r),u=i.bind(zA(r)).bind(Sl(r)),s=o.bind(HA(r)).bind(Sl(r));return b.some({start:u,end:s})}},Mh=function(e,t){return ji(e,function(n){return Ae(n,t)})},El=function(e){return kt(Mh(e.cells,e.rng.start),Mh(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},VA=function(e,t,n){return e.exists(function(r){return MA(r,n)&&Uf(r.start,t)})},Uh=function(e,t){var n=t.startTable,r=t.endTable,a=e.cloneRange();return n.each(function(i){return a.setStartAfter(i.dom)}),r.each(function(i){return a.setEndBefore(i.dom)}),a},qA=function(e,t,n,r){return Fh(e,t,n,r).bind(function(a){var i=a.start,o=a.end;return i.or(o)}).bind(function(a){var i=t.isSameTable,o=El(a).getOr([]);if(i&&a.cells.length===o.length)return b.some(_i.fullTable(a.table));if(o.length>0){if(i)return b.some(_i.partialTable(o,b.none()));var u=Uh(n,t);return b.some(_i.partialTable(o,b.some(oe(oe({},t),{rng:u}))))}else return b.none()})},WA=function(e,t,n,r){return Fh(e,t,n,r).bind(function(a){var i=a.start,o=a.end,u=i.bind(El).getOr([]),s=o.bind(El).getOr([]);if(u.length>0&&s.length>0){var f=Uh(n,t);return b.some(_i.multiTable(u,s,f))}else return b.none()})},jA=function(e,t){var n=IA(e),r=UA(t,n),a=LA(t,n);return VA(r,t,n)?r.map(function(i){return _i.singleCellTable(t,i.start)}):a.isMultiTable?WA(r,a,t,n):qA(r,a,t,n)},zh=function(e){var t=G0(e)?kr(e):gs(e);return t.bind(zh).orThunk(function(){return b.some(e)})},Hh=function(e){return Q(e,function(t){Kn(t,"contenteditable"),Mr(t)})},KA=function(e,t){return b.from(e.dom.getParent(t,e.dom.isBlock)).map(k.fromDom)},GA=function(e,t,n){n.each(function(r){t?nt(r):(Mr(r),e.selection.setCursorLocation(r.dom,0))})},kl=function(e,t,n,r){var a=n.cloneRange();r?(a.setStart(n.startContainer,n.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(n.endContainer,n.endOffset)),xl(e,a,t,!1)},Vh=function(e){var t=Pa(e),n=k.fromDom(e.selection.getNode());no(n.dom)&&Ye(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&yt(t,function(r){return Ae(r,n)})&&gn(n,"data-mce-selected","1")},qh=function(e,t,n){var r=e.selection.getRng(),a=n.bind(function(i){var o=i.rng,u=i.isStartInTable,s=KA(e,u?o.endContainer:o.startContainer);o.deleteContents(),GA(e,u,s.filter(Ye));var f=u?t[0]:t[t.length-1];return kl(e,f,r,u),Ye(f)?b.none():b.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);return Hh(a),Vh(e),!0},XA=function(e,t,n,r){var a=e.selection.getRng(),i=t[0],o=n[n.length-1];kl(e,i,a,!0),kl(e,o,a,!1);var u=Ye(i)?t:t.slice(1),s=Ye(o)?n:n.slice(0,-1);return Hh(u.concat(s)),r.deleteContents(),Vh(e),!0},xl=function(e,t,n,r){r===void 0&&(r=!0),t.deleteContents();var a=zh(n).getOr(n),i=k.fromDom(e.dom.getParent(a.dom,e.dom.isBlock));if(Ye(i)&&(Mr(i),r&&e.selection.setCursorLocation(i.dom,0)),!Ae(n,i)){var o=ro(en(i),n)?[]:ew(i);Q(o.concat(Kt(n)),function(u){!Ae(u,i)&&!Wn(u,i)&&Ye(u)&&nt(u)})}return!0},YA=function(e,t){return Ur(e,!1,t),!0},QA=function(e,t,n){return jA(t,n).map(function(r){return r.fold(X(xl,e),X(YA,e),X(qh,e),X(XA,e))})},ZA=function(e,t){return au(e,t)},JA=function(e,t,n,r){return Tl(t,r).fold(function(){return QA(e,t,n)},function(a){return ZA(e,a)}).getOr(!1)},eR=function(e,t,n){var r=k.fromDom(e.getBody()),a=e.selection.getRng();return n.length!==0?qh(e,n,b.none()):JA(e,r,a,t)},Wh=function(e,t){return tt(Mn(t,e),so)},Tl=function(e,t){return tt(Mn(t,e),Q0("caption"))},tR=function(e,t,n,r,a){return Mo(n,e.getBody(),a).bind(function(i){return Wh(t,k.fromDom(i.getNode())).map(function(o){return Ae(o,r)===!1})})},au=function(e,t){return Mr(t),e.selection.setCursorLocation(t.dom,0),b.some(!0)},nR=function(e,t,n,r){return St(e.dom).bind(function(a){return xn(e.dom).map(function(i){return t?n.isEqual(a)&&r.isEqual(i):n.isEqual(i)&&r.isEqual(a)})}).getOr(!0)},rR=function(e,t){return au(e,t)},aR=function(e,t,n){return Tl(e,k.fromDom(n.getNode())).map(function(r){return Ae(r,t)===!1})},iR=function(e,t,n,r,a){return Mo(n,e.getBody(),a).bind(function(i){return nR(r,n,a,i)?rR(e,r):aR(t,r,i)}).or(b.some(!0))},oR=function(e,t,n,r){var a=R.fromRangeStart(e.selection.getRng());return Wh(n,r).bind(function(i){return Ye(i)?au(e,i):tR(e,n,t,i,a)}).getOr(!1)},uR=function(e,t,n,r){var a=R.fromRangeStart(e.selection.getRng());return Ye(r)?au(e,r):iR(e,n,t,r,a)},jh=function(e,t){return e?bh(t):yh(t)},sR=function(e,t){var n=R.fromRangeStart(e.selection.getRng());return jh(t,n)||Ut(t,e.getBody(),n).exists(function(r){return jh(t,r)})},fR=function(e,t,n){var r=k.fromDom(e.getBody());return Tl(r,n).fold(function(){return oR(e,t,r,n)||sR(e,t)},function(a){return uR(e,t,r,a).getOr(!1)})},iu=function(e,t){var n=k.fromDom(e.selection.getStart(!0)),r=Pa(e);return e.selection.isCollapsed()&&r.length===0?fR(e,t,n):eR(e,n,r)},lR=function(e,t,n,r){var a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),a},cR=function(e){var t=R.fromRangeStart(e),n=R.fromRangeEnd(e),r=e.commonAncestorContainer;return Ut(!1,r,n).map(function(a){return!Sn(t,n,r)&&Sn(t,a,r)?lR(t.container(),t.offset(),a.container(),a.offset()):e}).getOr(e)},Nl=function(e){return e.collapsed?e:cR(e)},vR=function(e){return e.firstChild&&e.firstChild===e.lastChild},dR=function(e){return e.name==="br"||e.value===Rt},pR=function(e,t){var n=e.getBlockElements();return n[t.name]&&vR(t)&&dR(t.firstChild)},mR=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||pR(e,t))},hR=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),mR(e,r)&&(r=r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},gR=function(e){var t=e.firstChild,n=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),n&&n.id==="mce_marker"&&n.parentNode.removeChild(n),e},bR=function(e,t,n){var r=t.serialize(n),a=e.createFragment(r);return gR(a)},yR=function(e){return he(e.childNodes,function(t){return t.nodeName==="LI"})},CR=function(e){return e.data===Rt||Me(e)},wR=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&CR(e.firstChild)},SR=function(e){return!e.firstChild||wR(e)},ER=function(e){return e.length>0&&SR(e[e.length-1])?e.slice(0,-1):e},Al=function(e,t){var n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},kR=function(e,t){return!!Al(e,t)},xR=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},TR=function(e,t){var n=R.before(e),r=un(t),a=r.next(n);return a?a.toRange():null},Kh=function(e,t){var n=R.after(e),r=un(t),a=r.prev(n);return a?a.toRange():null},NR=function(e,t,n,r){var a=xR(e,r),i=e.parentNode;return i.insertBefore(a[0],e),_.each(t,function(o){i.insertBefore(o,e)}),i.insertBefore(a[1],e),i.removeChild(e),Kh(t[t.length-1],n)},AR=function(e,t,n){var r=e.parentNode;return _.each(t,function(a){r.insertBefore(a,e)}),TR(e,n)},RR=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Kh(t[0],n)},BR=function(e,t,n,r){var a=bR(t,e,r),i=Al(t,n.startContainer),o=ER(yR(a.firstChild)),u=1,s=2,f=t.getRoot(),l=function(c){var v=R.fromRangeStart(n),d=un(t.getRoot()),p=c===u?d.prev(v):d.next(v);return p?Al(t,p.getNode())!==i:!0};return l(u)?AR(i,o,f):l(s)?RR(i,o,f,t):NR(i,o,f,n)},_R=function(e,t,n){var r=k.fromDom(e.getRoot());return eu(r,R.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),tu(r,R.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Rl=no,DR=function(e,t,n){if(n!==null){var r=e.getParent(t.endContainer,Rl);return n===r&&Uf(k.fromDom(n),t)}else return!1},OR=function(e,t,n){if(n.getAttribute("data-mce-bogus")==="all")n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,a=n.lastChild;!r||r===a&&r.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t)}},PR=function(e,t){b.from(e.getParent(t,"td,th")).map(k.fromDom).each(JN)},IR=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var a=e.getBody(),i=lh(r);_.each(r.select("*[data-mce-fragment]"),function(o){var u=Ne(n[o.nodeName.toLowerCase()]);if(u&&WN(r,o))for(var s=o.parentNode;Ne(s)&&s!==a;s=s.parentNode){var f=KN(r,o,s);if(f)break;if(i.compare(s,o)){r.remove(o,!0);break}}})}},$R=function(e){for(var t=e;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},LR=function(e){_.each(e.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},FR=function(e){return!!e.getAttribute("data-mce-fragment")},MR=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},UR=function(e,t){var n,r=e.dom,a=e.selection;if(!!t){a.scrollIntoView(t);var i=Ia(e.getBody(),t);if(r.getContentEditable(i)==="false"){r.remove(t),a.select(i);return}var o=r.createRng(),u=t.previousSibling;if(Z(u)){if(o.setStart(u,u.nodeValue.length),!fe.ie){var s=t.nextSibling;Z(s)&&(u.appendData(s.data),s.parentNode.removeChild(s))}}else o.setStartBefore(t),o.setEndBefore(t);var f=function(c){var v=R.fromRangeStart(c),d=un(e.getBody());if(v=d.next(v),v)return v.toRange()},l=r.getParent(t,r.isBlock);r.remove(t),l&&r.isEmpty(l)&&(e.$(l).empty(),o.setStart(l,0),o.setEnd(l,0),!Rl(l)&&!FR(l)&&(n=f(o))?(o=n,r.remove(l)):r.add(l,r.create("br",{"data-mce-bogus":"1"}))),a.setRng(o)}},zR=function(e){var t=e.dom,n=Nl(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,Rl);DR(t,n,r)?xl(e,n,k.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},HR=function(e,t,n){var r,a,i,o=e.selection,u=e.dom;/^ | $/.test(t)&&(t=_R(u,o.getRng(),t));var s=e.parser,f=n.merge,l=$a({validate:ox(e)},e.schema),c='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',v=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(v.isDefaultPrevented()){e.fire("SetContent",{content:v.content,format:"html",selection:!0,paste:n.paste});return}t=v.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,c),a=o.getRng();var d=a.startContainer||(a.parentElement?a.parentElement():null),p=e.getBody();d===p&&o.isCollapsed()&&u.isBlock(p.firstChild)&&MR(e,p.firstChild)&&u.isEmpty(p.firstChild)&&(a=u.createRng(),a.setStart(p.firstChild,0),a.setEnd(p.firstChild,0),o.setRng(a)),o.isCollapsed()||zR(e),r=o.getNode();var m={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},h=s.parse(t,m);if(n.paste===!0&&hR(e.schema,h)&&kR(u,r)){a=BR(l,u,o.getRng(),h),o.setRng(a),e.fire("SetContent",v);return}if($R(h),i=h.lastChild,i.attr("id")==="mce_marker"){var y=i;for(i=i.prev;i;i=i.walk(!0))if(i.type===3||!u.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(y,i,i.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(r),!m.invalid)t=l.serialize(h),OR(e,t,r);else{e.selection.setContent(c),r=o.getNode();var g=e.getBody();for(r.nodeType===9?r=i=g:i=r;i!==g;)r=i,i=i.parentNode;t=r===g?g.innerHTML:u.getOuterHTML(r),t=l.serialize(s.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(h)}))),r===g?u.setHTML(g,t):u.setOuterHTML(r,t)}IR(e,f),UR(e,u.get("mce_marker")),LR(e.getBody()),PR(u,o.getStart()),e.fire("SetContent",v),e.addVisual()},Bl=function(e,t){t(e),e.firstChild&&Bl(e.firstChild,t),e.next&&Bl(e.next,t)},VR=function(e,t,n){var r={},a={},i=[];n.firstChild&&Bl(n.firstChild,function(s){Q(e,function(f){f.name===s.name&&(r[f.name]?r[f.name].nodes.push(s):r[f.name]={filter:f,nodes:[s]})}),Q(t,function(f){typeof s.attr(f.name)=="string"&&(a[f.name]?a[f.name].nodes.push(s):a[f.name]={filter:f,nodes:[s]})})});for(var o in r)ge(r,o)&&i.push(r[o]);for(var u in a)ge(a,u)&&i.push(a[u]);return i},qR=function(e,t,n){var r=VR(e,t,n);Q(r,function(a){Q(a.filter.callbacks,function(i){i(a.nodes,a.filter.name,{})})})},WR="html",_l=function(e){return e instanceof Yt},jR=function(e){Fr(e)&&St(e.getBody()).each(function(t){var n=t.getNode(),r=ua(n)?St(n).getOr(t):t;e.selection.setRng(r.toRange())})},Dl=function(e,t,n){e.dom.setHTML(e.getBody(),t),n!==!0&&jR(e)},KR=function(e,t,n,r){if(n.length===0||/^\s+$/.test(n)){var a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>");var i=lt(e);i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=a,n=e.dom.createHTML(i,gi(e),n)):n||(n='<br data-mce-bogus="1">'),Dl(e,n,r.no_selection),e.fire("SetContent",r)}else r.format!=="raw"&&(n=$a({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=fo(k.fromDom(t))?n:_.trim(n),Dl(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r);return r.content},GR=function(e,t,n,r){qR(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var a=$a({validate:e.validate},e.schema).serialize(n);return r.content=fo(k.fromDom(t))?a:_.trim(a),Dl(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r),n},XR=function(e,t){return oe(oe({format:WR},e),{set:!0,content:_l(t)?"":t})},YR=function(e,t,n){var r=XR(n,t),a=n.no_events?r:e.fire("BeforeSetContent",r);return _l(t)||(t=a.content),b.from(e.getBody()).fold(Y(t),function(i){return _l(t)?GR(e,i,t,a):KR(e,i,t,a)})},QR=function(e,t){return $w(e,t).isSome()},Gh=function(e){return Pe(e)?e:Be},ZR=function(e,t,n){for(var r=e.dom,a=Gh(n);r.parentNode;){r=r.parentNode;var i=k.fromDom(r),o=t(i);if(o.isSome())return o;if(a(i))break}return b.none()},Ol=function(e,t,n){var r=t(e),a=Gh(n);return r.orThunk(function(){return a(e)?b.none():ZR(e,t,a)})},Pl=If,Xh=function(e,t,n){var r=e.formatter.get(n);if(r)for(var a=0;a<r.length;a++){var i=r[a];if(_t(i)&&i.inherit===!1&&e.dom.is(t,i.selector))return!0}return!1},Il=function(e,t,n,r,a){var i=e.dom.getRoot();return t===i?!1:(t=e.dom.getParent(t,function(o){return Xh(e,o,n)?!0:o.parentNode===i||!!An(e,o,n,r,!0)}),!!An(e,t,n,r,a))},$l=function(e,t,n){if(Pl(t,n.inline)||Pl(t,n.block))return!0;if(n.selector)return t.nodeType===1&&e.is(t,n.selector)},Yh=function(e,t,n,r,a,i){var o=n[r];if(Pe(n.onmatch))return n.onmatch(t,n,r);if(o){if(Nt(o.length)){for(var u in o)if(ge(o,u)){var s=r==="attributes"?e.getAttrib(t,u):zo(e,t,u),f=Fn(o[u],i),l=dn(s)||lv(s);if(l&&dn(f))continue;if(a&&l&&!n.exact||(!a||n.exact)&&!Pl(s,$f(e,f,u)))return!1}}else for(var c=0;c<o.length;c++)if(r==="attributes"?e.getAttrib(t,o[c]):zo(e,t,o[c]))return!0}return!0},An=function(e,t,n,r,a){var i=e.formatter.get(n),o=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var s=i[u];if($l(e.dom,t,s)&&Yh(o,t,s,"attributes",a,r)&&Yh(o,t,s,"styles",a,r)){var f=s.classes;if(f){for(var l=0;l<f.length;l++)if(!e.dom.hasClass(t,Fn(f[l],r)))return}return s}}},Ll=function(e,t,n,r,a){if(r)return Il(e,r,t,n,a);if(r=e.selection.getNode(),Il(e,r,t,n,a))return!0;var i=e.selection.getStart();return!!(i!==r&&Il(e,i,t,n,a))},JR=function(e,t,n){var r=[],a={},i=e.selection.getStart();return e.dom.getParent(i,function(o){for(var u=0;u<t.length;u++){var s=t[u];!a[s]&&An(e,o,s,n)&&(a[s]=!0,r.push(s))}},e.dom.getRoot()),r},eB=function(e,t){var n=function(a){return Ae(a,k.fromDom(e.getBody()))},r=function(a,i){return An(e,a.dom,i)?b.some(i):b.none()};return b.from(e.selection.getStart(!0)).bind(function(a){return Ol(k.fromDom(a),function(i){return nv(t,function(o){return r(i,o)})},n)}).getOrNull()},tB=function(e,t){var n=e.formatter.get(t),r=e.dom;if(n)for(var a=e.selection.getStart(),i=Ho(r,a),o=n.length-1;o>=0;o--){var u=n[o];if(!_t(u)||Ne(u.defaultBlock))return!0;for(var s=i.length-1;s>=0;s--)if(r.is(i[s],u.selector))return!0}return!1},nB=function(e,t,n){return Zt(n,function(r,a){var i=h1(e,a);return e.formatter.matchNode(t,a,{},i)?r.concat([a]):r},[])},Ma=rt,Qh="_mce_caret",rB=function(e,t){return e.importNode(t,!0)},aB=function(e){for(var t=[];e;){if(e.nodeType===3&&e.nodeValue!==Ma||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},Zh=function(e){return aB(e).length>0},Jh=function(e){if(e){var t=new Xe(e,e);for(e=t.current();e;e=t.next())if(Z(e))return e}return null},Fl=function(e){var t=k.fromTag("span");return jn(t,{id:Qh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&it(t,k.fromText(Ma)),t},iB=function(e){var t=Jh(e);return t&&t.nodeValue.charAt(0)===Ma&&t.deleteData(0,1),t},Ml=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(Zh(t))Ur(e,!1,k.fromDom(t),n);else{var i=a.getRng(),o=r.getParent(t,r.isBlock),u=i.startContainer,s=i.startOffset,f=i.endContainer,l=i.endOffset,c=iB(t);r.remove(t,!0),u===c&&s>0&&i.setStart(c,s-1),f===c&&l>0&&i.setEnd(c,l-1),o&&r.isEmpty(o)&&Mr(k.fromDom(o)),a.setRng(i)}},Ul=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(t)Ml(e,t,n);else if(t=Lr(e.getBody(),a.getStart()),!t)for(;t=r.get(Qh);)Ml(e,t,!1)},oB=function(e,t,n){var r=e.dom,a=r.getParent(n,X(Of,e));a&&r.isEmpty(a)?n.parentNode.replaceChild(t,n):(ZN(k.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},eg=function(e,t){return e.appendChild(t),t},tg=function(e,t){var n=Jc(e,function(r,a){return eg(r,a.cloneNode(!1))},t);return eg(n,n.ownerDocument.createTextNode(Ma))},uB=function(e,t,n,r,a,i){var o=e.formatter,u=e.dom,s=he(ta(o.get()),function(v){return v!==r&&!Ct(v,"removeformat")}),f=nB(e,n,s),l=he(f,function(v){return!g1(e,v,r)});if(l.length>0){var c=n.cloneNode(!1);return u.add(t,c),o.remove(r,a,c,i),u.remove(c),b.some(c)}else return b.none()},sB=function(e,t,n){var r,a,i=e.selection,o=i.getRng(),u=o.startOffset,s=o.startContainer,f=s.nodeValue;r=Lr(e.getBody(),i.getStart()),r&&(a=Jh(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(f&&u>0&&u<f.length&&l.test(f.charAt(u))&&l.test(f.charAt(u-1))){var c=i.getBookmark();o.collapse(!0);var v=Oa(e,o,e.formatter.get(t));v=Ko(v),e.formatter.apply(t,n,v),i.moveToBookmark(c)}else(!r||a.nodeValue!==Ma)&&(r=rB(e.getDoc(),Fl(!0).dom),a=r.firstChild,o.insertNode(r),u=1),e.formatter.apply(t,n,r),i.setCursorLocation(a,u)},fB=function(e,t,n,r){var a=e.dom,i=e.selection,o,u,s,f=[],l=i.getRng(),c=l.startContainer,v=l.startOffset;for(u=c,c.nodeType===3&&(v!==c.nodeValue.length&&(o=!0),u=u.parentNode);u;){if(An(e,u,t,n,r)){s=u;break}u.nextSibling&&(o=!0),f.push(u),u=u.parentNode}if(!!s)if(o){var d=i.getBookmark();l.collapse(!0);var p=Oa(e,l,e.formatter.get(t),!0);p=Ko(p),e.formatter.remove(t,n,p,r),i.moveToBookmark(d)}else{var m=Lr(e.getBody(),s),h=Fl(!1).dom;oB(e,h,m!==null?m:s);var y=uB(e,h,s,t,n,r),g=tg(f.concat(y.toArray()),h);Ml(e,m,!1),i.setCursorLocation(g,1),a.isEmpty(s)&&a.remove(s)}},lB=function(e,t){var n=e.selection,r=e.getBody();Ul(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===Ma&&Ul(e,Lr(r,n.getStart())),(t===37||t===39)&&Ul(e,Lr(r,n.getStart()))},cB=function(e){e.on("mouseup keydown",function(t){lB(e,t.keyCode)})},vB=function(e,t){var n=Fl(!1),r=tg(t,n.dom);return tn(k.fromDom(e),n),nt(k.fromDom(e)),R(r,0)},dB=function(e,t){var n=e.schema.getTextInlineElements();return ge(n,Ge(t))&&!Tn(t.dom)&&!Tr(t.dom)},pB=function(e){return Tn(e.dom)&&Zh(e.dom)},ou={},ng=ra,rg=Qa,mB=function(e,t){var n=ou[e];n||(ou[e]=[]),ou[e].push(t)},hB=function(e,t){rg(ou[e],function(n){n(t)})};mB("pre",function(e){var t=e.selection.getRng(),n,r=function(o){return i(o.previousSibling)&&iv(n,o.previousSibling)!==-1},a=function(o,u){ue(u).remove(),ue(o).append("<br><br>").append(u.childNodes)},i=Gt(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),rg(ng(ng(n,i),r),function(o){a(o.previousSibling,o)}))});var zl=_.each,Hl=function(e){return ie(e)&&!zt(e)&&!Tn(e)&&!Tr(e)},ag=function(e,t){for(var n=e;n;n=n[t]){if(Z(n)&&Xi(n.data))return e;if(ie(n)&&!zt(n))return n}return e},ig=function(e,t,n){var r=lh(e);if(t&&n&&(t=ag(t,"previousSibling"),n=ag(n,"nextSibling"),r.compare(t,n))){for(var a=t.nextSibling;a&&a!==n;){var i=a;a=a.nextSibling,t.appendChild(i)}return e.remove(n),_.each(_.grep(n.childNodes),function(o){t.appendChild(o)}),t}return n},og=function(e,t,n,r){if(r&&t.merge_siblings!==!1){var a=ig(e,Df(r),r);ig(e,a,Df(a,!0))}},gB=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";zl(e.select(r,n),function(a){Hl(a)&&zl(t.styles,function(i,o){e.setStyle(a,o,"")})})}},Vl=function(e,t,n){zl(e.childNodes,function(r){Hl(r)&&(t(r)&&n(r),r.hasChildNodes()&&Vl(r,t,n))})},bB=function(e,t){t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},ug=function(e,t){return function(n){return!!(n&&zo(e,n,t))}},sg=function(e,t,n){return function(r){e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),bB(e,r)}},Di=Gn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),yB=/^(src|href|style)$/,ql=_.each,Ua=If,CB=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},fg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},lg=function(e,t,n){var r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"];if(ie(r)){var i=r.childNodes.length-1;!n&&a&&a--,r=r.childNodes[a>i?i:a]}return Z(r)&&n&&a>=r.nodeValue.length&&(r=new Xe(r,e.getBody()).next()||r),Z(r)&&!n&&a===0&&(r=new Xe(r,e.getBody()).prev()||r),r},cg=function(e,t){var n=t?"firstChild":"lastChild";if(CB(e)&&e[n]){var r=e[n];return e.nodeName==="TR"&&r[n]||r}return e},Wl=function(e,t,n,r){var a=e.create(n,r);return t.parentNode.insertBefore(a,t),a.appendChild(t),a},vg=function(e,t,n,r,a){var i=k.fromDom(t),o=k.fromDom(e.create(r,a)),u=n?Hv(i):zv(i);return Zi(o,u),n?(tn(i,o),Kv(o,i)):(ti(i,o),it(o,i)),o.dom},wB=function(e,t,n){if(Je(n)&&Ua(t,n.inline)||Nn(n)&&Ua(t,n.block))return!0;if(_t(n))return ie(t)&&e.is(t,n.selector)},SB=function(e,t){return t.links&&e.nodeName==="A"},uu=function(e,t,n,r){var a=Df(t,n,r);return dn(a)||a.nodeName==="BR"||e.isBlock(a)},EB=function(e,t,n){var r=t.parentNode,a,i=e.dom,o=lt(e);Nn(n)&&(o?r===i.getRoot()&&(!n.list_block||!Ua(t,n.list_block))&&Q(pn(t.childNodes),function(u){_a(e,o,u.nodeName.toLowerCase())?a?a.appendChild(u):(a=Wl(i,u,o),i.setAttribs(a,e.settings.forced_root_block_attrs)):a=null}):i.isBlock(t)&&!i.isBlock(r)&&(!uu(i,t,!1)&&!uu(i,t.firstChild,!0,!0)&&t.insertBefore(i.create("br"),t.firstChild),!uu(i,t,!0)&&!uu(i,t.lastChild,!1,!0)&&t.appendChild(i.create("br")))),!(b1(n)&&!Ua(n.inline,t))&&i.remove(t,!0)},dg=function(e,t,n,r,a){var i,o=e.dom;if(!wB(o,r,t)&&!SB(r,t))return Di.keep();var u=r;if(Je(t)&&t.remove==="all"&&qt(t.preserve_attributes)){var s=he(o.getAttribs(u),function(v){return et(t.preserve_attributes,v.name.toLowerCase())});if(o.removeAllAttribs(u),Q(s,function(v){return o.setAttrib(u,v.name,v.value)}),s.length>0)return Di.rename("span")}if(t.remove!=="all"){ql(t.styles,function(v,d){v=$f(o,Fn(v,n),d+""),Jr(d)&&(d=v,a=null),(t.remove_similar||!a||Ua(zo(o,a,d),v))&&o.setStyle(u,d,""),i=!0}),i&&o.getAttrib(u,"style")===""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),ql(t.attributes,function(v,d){var p;if(v=Fn(v,n),Jr(d)&&(d=v,a=null),t.remove_similar||!a||Ua(o.getAttrib(a,d),v)){if(d==="class"&&(v=o.getAttrib(u,d),v&&(p="",Q(v.split(/\s+/),function(m){/mce\-\w+/.test(m)&&(p+=(p?" ":"")+m)}),p))){o.setAttrib(u,d,p);return}if(yB.test(d)&&u.removeAttribute("data-mce-"+d),d==="style"&&Gt(["li"])(u)&&o.getStyle(u,"list-style-type")==="none"){u.removeAttribute(d),o.setStyle(u,"list-style-type","none");return}d==="class"&&u.removeAttribute("className"),u.removeAttribute(d)}}),ql(t.classes,function(v){v=Fn(v,n),(!a||o.hasClass(a,v))&&o.removeClass(u,v)});for(var f=o.getAttribs(u),l=0;l<f.length;l++){var c=f[l].nodeName;if(c.indexOf("_")!==0&&c.indexOf("data-")!==0)return Di.keep()}}return t.remove!=="none"?(EB(e,u,t),Di.removed()):Di.keep()},za=function(e,t,n,r,a){return dg(e,t,n,r,a).fold(Be,function(i){return e.dom.rename(r,i),!0},je)},kB=function(e,t,n,r,a){var i;return Q(Ho(e.dom,t.parentNode).reverse(),function(o){if(!i&&o.id!=="_start"&&o.id!=="_end"){var u=An(e,o,n,r,a);u&&u.split!==!1&&(i=o)}}),i},xB=function(e,t,n,r){return dg(e,t,n,r,r).fold(Y(r),function(a){var i=e.dom.createFragment();return i.appendChild(r),e.dom.rename(r,a)},Y(null))},TB=function(e,t,n,r,a,i,o,u){var s,f,l,c=e.dom;if(n){for(var v=n.parentNode,d=r.parentNode;d&&d!==v;d=d.parentNode){s=c.clone(d,!1);for(var p=0;p<t.length&&(s=xB(e,t[p],u,s),s!==null);p++);s&&(f&&s.appendChild(f),l||(l=s),f=s)}i&&(!o.mixed||!c.isBlock(n))&&(r=c.split(n,r)),f&&(a.parentNode.insertBefore(f,a),l.appendChild(a),Je(o)&&og(c,o,u,f))}return r},pg=function(e,t,n,r,a){var i=e.formatter.get(t),o=i[0],u=!0,s=e.dom,f=e.selection,l=function(g){var E=kB(e,g,t,n,a);return TB(e,i,E,g,g,!0,o,n)},c=function(g){return zt(g)&&ie(g)&&(g.id==="_start"||g.id==="_end")},v=function(g){return yt(i,function(E){return za(e,E,n,g,g)})},d=function(g){var E=!0,S=!1;ie(g)&&s.getContentEditable(g)&&(E=u,u=s.getContentEditable(g)==="true",S=!0);var C=pn(g.childNodes);if(u&&!S){var x=v(g),B=x||yt(i,function(D){return $l(s,g,D)}),L=g.parentNode;!B&&Ne(L)&&Lf(o)&&v(L)}if(o.deep&&C.length){for(var re=0;re<C.length;re++)d(C[re]);S&&(u=E)}var j=["underline","line-through","overline"];Q(j,function(D){ie(g)&&e.dom.getStyle(g,"text-decoration")===D&&g.parentNode&&wm(s,g.parentNode)===D&&za(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:D}},null,g)})},p=function(g){var E=s.get(g?"_start":"_end"),S=E[g?"firstChild":"lastChild"];return c(S)&&(S=S[g?"firstChild":"lastChild"]),Z(S)&&S.data.length===0&&(S=g?E.previousSibling||E.nextSibling:E.nextSibling||E.previousSibling),s.remove(E,!0),S},m=function(g){var E,S,C=Oa(e,g,i,g.collapsed);if(o.split){if(C=Ko(C),E=lg(e,C,!0),S=lg(e,C),E!==S){if(E=cg(E,!0),S=cg(S,!1),fg(s,E,S)){var x=b.from(E.firstChild).getOr(E);l(vg(s,x,!0,"span",{id:"_start","data-mce-type":"bookmark"})),p(!0);return}if(fg(s,S,E)){var x=b.from(S.lastChild).getOr(S);l(vg(s,x,!1,"span",{id:"_end","data-mce-type":"bookmark"})),p(!1);return}E=Wl(s,E,"span",{id:"_start","data-mce-type":"bookmark"}),S=Wl(s,S,"span",{id:"_end","data-mce-type":"bookmark"});var B=s.createRng();B.setStartAfter(E),B.setEndBefore(S),xi(s,B,function(L){Q(L,function(re){!zt(re)&&!zt(re.parentNode)&&l(re)})}),l(E),l(S),E=p(!0),S=p()}else E=S=l(E);C.startContainer=E.parentNode?E.parentNode:E,C.startOffset=s.nodeIndex(E),C.endContainer=S.parentNode?S.parentNode:S,C.endOffset=s.nodeIndex(S)+1}xi(s,C,function(L){Q(L,d)})};if(r){if(Uo(r)){var h=s.createRng();h.setStartBefore(r),h.setEndAfter(r),m(h)}else m(r);jf(e,t,r,n);return}if(s.getContentEditable(f.getNode())==="false"){r=f.getNode();for(var y=0;y<i.length&&!(i[y].ceFalseOverride&&za(e,i[y],n,r,r));y++);jf(e,t,r,n);return}!f.isCollapsed()||!Je(o)||Pa(e).length?(Vf(f,!0,function(){Hf(e,m)}),Je(o)&&Ll(e,t,n,f.getStart())&&Cm(s,f,f.getRng()),e.nodeChanged()):fB(e,t,n,a),jf(e,t,r,n)},mg=_.each,NB=function(e,t,n,r){var a=function(i){if(i.nodeType===1&&i.parentNode&&i.parentNode.nodeType===1){var o=wm(e,i.parentNode);e.getStyle(i,"color")&&o?e.setStyle(i,"text-decoration",o):e.getStyle(i,"text-decoration")===o&&e.setStyle(i,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(_.walk(r,a,"childNodes"),a(r))},AB=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Vl(r,ug(e,"fontSize"),sg(e,"backgroundColor",Fn(t.styles.backgroundColor,n)))},RB=function(e,t,n,r){Je(t)&&(t.inline==="sub"||t.inline==="sup")&&(Vl(r,ug(e,"fontSize"),sg(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",r),!0))},BB=function(e,t,n,r){mg(t,function(a){Je(a)&&mg(e.dom.select(a.inline,r),function(i){!Hl(i)||za(e,a,n,i,a.exact?i:null)}),gB(e.dom,a,r)})},_B=function(e,t,n,r,a){An(e,a.parentNode,n,r)&&za(e,t,r,a)||t.merge_with_parents&&e.dom.getParent(a.parentNode,function(i){if(An(e,i,n,r))return za(e,t,r,a),!0})},su=_.each,DB=function(e){return ie(e)&&!zt(e)&&!Tn(e)&&!Tr(e)},OB=function(e,t,n,r){if(fx(e)&&Je(t)){var a=Bd(e.schema),i=QR(k.fromDom(n),function(o){return Tn(o.dom)});return na(a,r)&&Ye(k.fromDom(n.parentNode),!1)&&!i}else return!1},jl=function(e,t,n,r){var a=e.formatter.get(t),i=a[0],o=!r&&e.selection.isCollapsed(),u=e.dom,s=e.selection,f=function(E,S){if(S===void 0&&(S=i),Pe(S.onformat)&&S.onformat(E,S,n,r),su(S.styles,function(x,B){u.setStyle(E,B,Fn(x,n))}),S.styles){var C=u.getAttrib(E,"style");C&&u.setAttrib(E,"data-mce-style",C)}su(S.attributes,function(x,B){u.setAttrib(E,B,Fn(x,n))}),su(S.classes,function(x){x=Fn(x,n),u.hasClass(E,x)||u.addClass(E,x)})},l=function(E,S){var C=!1;return su(E,function(x){if(!_t(x))return!1;if(!(Ne(x.collapsed)&&x.collapsed!==o)&&u.is(S,x.selector)&&!Tn(S))return f(S,x),C=!0,!1}),C},c=function(E){if(Ve(E)){var S=u.create(E);return f(S),S}else return null},v=function(E,S,C){var x=[],B=!0,L=i.inline||i.block,re=c(L);xi(E,S,function(j){var D,te=function(z){var W=!1,M=B,q=z.nodeName.toLowerCase(),G=z.parentNode,O=G.nodeName.toLowerCase();if(ie(z)&&E.getContentEditable(z)&&(M=B,B=E.getContentEditable(z)==="true",W=!0),Me(z)&&!OB(e,i,z,O)){D=null,Nn(i)&&E.remove(z);return}if(Nn(i)&&i.wrapper&&An(e,z,t,n)){D=null;return}if(B&&!W&&Nn(i)&&!i.wrapper&&Of(e,q)&&_a(e,O,L)){var K=E.rename(z,L);f(K),x.push(K),D=null;return}if(_t(i)){var ve=l(a,z);if(!ve&&Ne(G)&&Lf(i)&&(ve=l(a,G)),!Je(i)||ve){D=null;return}}B&&!W&&_a(e,L,q)&&_a(e,O,L)&&!(!C&&Z(z)&&lo(z.data))&&!Tn(z)&&(!Je(i)||!E.isBlock(z))?(D||(D=E.clone(re,!1),z.parentNode.insertBefore(D,z),x.push(D)),D.appendChild(z)):(D=null,Q(pn(z.childNodes),te),W&&(B=M),D=null)};Q(j,te)}),i.links===!0&&Q(x,function(j){var D=function(te){te.nodeName==="A"&&f(te,i),Q(pn(te.childNodes),D)};D(j)}),Q(x,function(j){var D=function(W){var M=0;return Q(W.childNodes,function(q){!m1(q)&&!zt(q)&&M++}),M},te=function(W){var M=tt(W.childNodes,DB).filter(function(q){return $l(E,q,i)});return M.map(function(q){var G=E.clone(q,!1);return f(G),E.replace(G,W,!0),E.remove(q,!0),G}).getOr(W)},z=D(j);if((x.length>1||!E.isBlock(j))&&z===0){E.remove(j,!0);return}(Je(i)||Nn(i)&&i.wrapper)&&(!i.exact&&z===1&&(j=te(j)),BB(e,a,n,j),_B(e,i,t,n,j),AB(E,i,n,j),NB(E,i,n,j),RB(E,i,n,j),og(E,i,n,j))})};if(u.getContentEditable(s.getNode())==="false"){r=s.getNode();for(var d=0,p=a.length;d<p;d++){var m=a[d];if(m.ceFalseOverride&&_t(m)&&u.is(r,m.selector)){f(r,m);break}}$m(e,t,r,n);return}if(i){if(r)if(Uo(r)){if(!l(a,r)){var h=u.createRng();h.setStartBefore(r),h.setEndAfter(r),v(u,Oa(e,h,a),!0)}}else v(u,r,!0);else if(!o||!Je(i)||Pa(e).length){var y=s.getNode(),g=a[0];!e.settings.forced_root_block&&g.defaultBlock&&!u.getParent(y,u.isBlock)&&jl(e,g.defaultBlock),s.setRng(Nl(s.getRng())),Vf(s,!0,function(){Hf(e,function(E,S){var C=S?E:Oa(e,E,a);v(u,C,!1)})}),Cm(u,s,s.getRng()),e.nodeChanged()}else sB(e,t,n);hB(t,e)}$m(e,t,r,n)},hg=function(e){return ge(e,"vars")},PB=function(e,t){e.set({}),t.on("NodeChange",function(n){Cg(t,n.element,e.get())}),t.on("FormatApply FormatRemove",function(n){var r=b.from(n.node).map(function(a){return Uo(a)?a:a.startContainer}).bind(function(a){return ie(a)?b.some(a):b.from(a.parentElement)}).getOrThunk(function(){return gg(t)});Cg(t,r,e.get())})},gg=function(e){return e.selection.getStart()},bg=function(e,t,n,r,a){var i=function(u){var s=e.formatter.matchNode(u,n,a!=null?a:{},r);return!Nt(s)},o=function(u){return Xh(e,u,n)?!0:r?!1:Ne(e.formatter.matchNode(u,n,a,!0))};return ev(t,i,o)},yg=function(e,t){var n=t!=null?t:gg(e);return he(Ho(e.dom,n),function(r){return ie(r)&&!Tr(r)})},Cg=function(e,t,n){var r=yg(e,t);Ie(n,function(a,i){var o=function(u){var s=bg(e,r,i,u.similar,hg(u)?u.vars:void 0),f=s.isSome();if(u.state.get()!==f){u.state.set(f);var l=s.getOr(t);hg(u)?u.callback(f,{node:l,format:i,parents:r}):Q(u.callbacks,function(c){return c(f,{node:l,format:i,parents:r})})}};Q([a.withSimilar,a.withoutSimilar],o),Q(a.withVars,o)})},IB=function(e,t,n,r,a,i){var o=t.get();Q(n.split(","),function(u){var s=Ke(o,u).getOrThunk(function(){var c={withSimilar:{state:dt(!1),similar:!0,callbacks:[]},withoutSimilar:{state:dt(!1),similar:!1,callbacks:[]},withVars:[]};return o[u]=c,c}),f=function(){var c=yg(e);return bg(e,c,u,a,i).isSome()};if(Nt(i)){var l=a?s.withSimilar:s.withoutSimilar;l.callbacks.push(r),l.callbacks.length===1&&l.state.set(f())}else s.withVars.push({state:dt(f()),similar:a,vars:i,callback:r})}),t.set(o)},$B=function(e,t,n){var r=e.get();Q(t.split(","),function(a){return Ke(r,a).each(function(i){r[a]={withSimilar:oe(oe({},i.withSimilar),{callbacks:he(i.withSimilar.callbacks,function(o){return o!==n})}),withoutSimilar:oe(oe({},i.withoutSimilar),{callbacks:he(i.withoutSimilar.callbacks,function(o){return o!==n})}),withVars:he(i.withVars,function(o){return o.callback!==n})}})}),e.set(r)},LB=function(e,t,n,r,a,i){return t.get()===null&&PB(t,e),IB(e,t,n,r,a,i),{unbind:function(){return $B(t,n,r)}}},FB=function(e,t,n,r){var a=e.formatter.get(t);Ll(e,t,n,r)&&(!("toggle"in a[0])||a[0].toggle)?pg(e,t,n,r):jl(e,t,n,r)},Kl=function(e,t){var n=t||document,r=n.createDocumentFragment();return Q(e,function(a){r.appendChild(a.dom)}),k.fromDom(r)},Gl=function(e,t,n){return{element:e,width:t,rows:n}},wg=function(e,t){return{element:e,cells:t}},MB=function(e,t){return{x:e,y:t}},Sg=function(e,t){var n=parseInt(ai(e,t),10);return isNaN(n)?1:n},UB=function(e,t,n,r,a){for(var i=Sg(a,"rowspan"),o=Sg(a,"colspan"),u=e.rows,s=n;s<n+i;s++){u[s]||(u[s]=wg(lp(r),[]));for(var f=t;f<t+o;f++){var l=u[s].cells;l[f]=s===n&&f===t?a:Sa(a)}}},zB=function(e,t,n){var r=e.rows,a=r[n]?r[n].cells:[];return!!a[t]},HB=function(e,t,n){for(;zB(e,t,n);)t++;return t},Eg=function(e){return Zt(e,function(t,n){return n.cells.length>t?n.cells.length:t},0)},kg=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var a=n[r].cells,i=0;i<a.length;i++)if(Ae(a[i],t))return b.some(MB(i,r));return b.none()},xg=function(e,t,n,r,a){for(var i=[],o=e.rows,u=n;u<=a;u++){var s=o[u].cells,f=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(wg(o[u].element,f))}return i},VB=function(e,t,n){var r=t.x,a=t.y,i=n.x,o=n.y,u=a<o?xg(e,r,a,i,o):xg(e,r,o,i,a);return Gl(e.element,Eg(u),u)},qB=function(e,t){var n=Sa(e.element),r=k.fromTag("tbody");return Zi(r,t),it(n,r),n},WB=function(e){return Oe(e.rows,function(t){var n=Oe(t.cells,function(a){var i=lp(a);return Kn(i,"colspan"),Kn(i,"rowspan"),i}),r=Sa(t.element);return Zi(r,n),r})},jB=function(e){var t=Gl(Sa(e),0,[]);return Q(xt(e,"tr"),function(n,r){Q(xt(n,"td,th"),function(a,i){UB(t,HB(t,i,r),r,n,a)})}),Gl(t.element,Eg(t.rows),t.rows)},KB=function(e){return qB(e,WB(e))},GB=function(e,t,n){return kg(e,t).bind(function(r){return kg(e,n).map(function(a){return VB(e,r,a)})})},XB=function(e){return tt(e,function(t){return Ge(t)==="ul"||Ge(t)==="ol"})},YB=function(e,t){return tt(e,function(n){return Ge(n)==="li"&&Uf(n,t)}).fold(Y([]),function(n){return XB(e).map(function(r){var a=k.fromTag(Ge(r)),i=Ya(id(r),function(o,u){return Er(u,"list-style")});return Sw(a,i),[k.fromTag("li"),a]}).getOr([])})},QB=function(e,t){var n=Zt(t,function(r,a){return it(a,r),a},e);return t.length>0?Kl([n]):n},ZB=function(e){return ui(e)?en(e).filter(Ds).fold(Y([]),function(t){return[e,t]}):Ds(e)?[e]:[]},JB=function(e,t){var n=k.fromDom(t.commonAncestorContainer),r=Mn(n,e),a=he(r,function(u){return _s(u)||Yw(u)}),i=YB(r,t),o=a.concat(i.length?i:ZB(n));return Oe(o,Sa)},Tg=function(){return Kl([])},e_=function(e,t){return QB(k.fromDom(t.cloneContents()),JB(e,t))},t_=function(e,t){return oo(t,"table",X(Ae,e))},n_=function(e,t){return t_(e,t[0]).bind(function(n){var r=t[0],a=t[t.length-1],i=jB(n);return GB(i,r,a).map(function(o){return Kl([KB(o)])})}).getOrThunk(Tg)},r_=function(e,t){return t.length>0&&t[0].collapsed?Tg():e_(e,t[0])},a_=function(e,t){var n=_m(t,e);return n.length>0?n_(e,n):r_(e,t)},i_=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},fu=function(e,t){return t>=0&&t<e.length&&Ba(e.charAt(t))},Ng=function(e,t){var n=Yn(e.innerText);return t?i_(n):n},o_=function(e){return e.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},u_=function(e){return b.from(e.selection.getRng()).map(function(t){var n=b.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),a=o_(n),i=fe.browser.isIE()&&a!=="pre",o=e.dom.add(r,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),u=Ng(o,i),s=Yn(o.textContent);if(e.dom.remove(o),fu(s,0)||fu(s,s.length-1)){var f=n.getOr(r),l=Ng(f,i),c=l.indexOf(u);if(c===-1)return u;var v=fu(l,c-1),d=fu(l,c+u.length);return(v?" ":"")+u+(d?" ":"")}else return u}).getOr("")},s_=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),i=ol(e,Ff(a)),o=t.contextual?a_(k.fromDom(e.getBody()),i).dom:n.cloneContents();return o&&r.appendChild(o),e.selection.serializer.serialize(r,t)},f_=function(e,t){return oe(oe({},e),{format:t,get:!0,selection:!0})},l_=function(e,t,n){n===void 0&&(n={});var r=f_(n,t),a=e.fire("BeforeGetContent",r);if(a.isDefaultPrevented())return e.fire("GetContent",a),a.content;if(a.format==="text")return u_(e);a.getInner=!0;var i=s_(e,a);return a.format==="tree"?i:(a.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",a),a.content)},Xl=0,Ag=1,Rg=2,c_=function(e,t){var n=e.length+t.length+2,r=new Array(n),a=new Array(n),i=function(l,c,v){return{start:l,end:c,diag:v}},o=function(l,c,v,d,p){var m=s(l,c,v,d);if(m===null||m.start===c&&m.diag===c-d||m.end===l&&m.diag===l-v)for(var h=l,y=v;h<c||y<d;)h<c&&y<d&&e[h]===t[y]?(p.push([Xl,e[h]]),++h,++y):c-l>d-v?(p.push([Rg,e[h]]),++h):(p.push([Ag,t[y]]),++y);else{o(l,m.start,v,m.start-m.diag,p);for(var g=m.start;g<m.end;++g)p.push([Xl,e[g]]);o(m.end,c,m.end-m.diag,d,p)}},u=function(l,c,v,d){for(var p=l;p-c<d&&p<v&&e[p]===t[p-c];)++p;return i(l,p,c)},s=function(l,c,v,d){var p=c-l,m=d-v;if(p===0||m===0)return null;var h=p-m,y=m+p,g=(y%2===0?y:y+1)/2;r[1+g]=l,a[1+g]=c+1;var E,S,C,x,B;for(E=0;E<=g;++E){for(S=-E;S<=E;S+=2){for(C=S+g,S===-E||S!==E&&r[C-1]<r[C+1]?r[C]=r[C+1]:r[C]=r[C-1]+1,x=r[C],B=x-l+v-S;x<c&&B<d&&e[x]===t[B];)r[C]=++x,++B;if(h%2!==0&&h-E<=S&&S<=h+E&&a[C-h]<=r[C])return u(a[C-h],S+l-v,c,d)}for(S=h-E;S<=h+E;S+=2){for(C=S+g-h,S===h-E||S!==h+E&&a[C+1]<=a[C-1]?a[C]=a[C+1]-1:a[C]=a[C-1],x=a[C]-1,B=x-l+v-S;x>=l&&B>=v&&e[x]===t[B];)a[C]=x--,B--;if(h%2===0&&-E<=S&&S<=E&&a[C]<=r[C+h])return u(a[C],S+l-v,c,d)}}},f=[];return o(0,e.length,0,t.length,f),f},Bg=function(e){return ie(e)?e.outerHTML:Z(e)?Qn.encodeRaw(e.data,!1):pw(e)?"<!--"+e.data+"-->":""},v_=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},d_=function(e,t,n){var r=v_(t);if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.insertBefore(r,a)}else e.appendChild(r)},p_=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},m_=function(e,t){var n=0;Q(e,function(r){r[0]===Xl?n++:r[0]===Ag?(d_(t,r[1],n),n++):r[0]===Rg&&p_(t,n)})},h_=function(e){return he(Oe(pn(e.childNodes),Bg),function(t){return t.length>0})},g_=function(e,t){var n=Oe(pn(t.childNodes),Bg);return m_(c_(n,e),t),t},b_=ls(function(){return document.implementation.createHTMLDocument("undo")}),y_=function(e){return e.indexOf("</iframe>")!==-1},C_=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},w_=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Yl=function(e){var t=h_(e.getBody()),n=ea(t,function(a){var i=fh(e.serializer,a);return i.length>0?[i]:[]}),r=n.join("");return y_(r)?C_(n):w_(r)},Ql=function(e,t,n){var r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?g_(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ne(r)&&mm(r)?!r.isFakeCaret:!0}),e.selection.moveToBookmark(r)},Zl=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},_g=function(e){var t=k.fromTag("body",b_());return sp(t,Zl(e)),Q(xt(t,"*[data-mce-bogus]"),Gv),rk(t)},S_=function(e,t){return Zl(e)===Zl(t)},E_=function(e,t){return _g(e)===_g(t)},lu=function(e,t){return!e||!t?!1:S_(e,t)?!0:E_(e,t)},Jl=function(e){return e.get()===0},cu=function(e,t,n){Jl(n)&&(e.typing=t)},Dg=function(e,t){e.typing&&(cu(e,!1,t),e.add())},k_=function(e){e.typing&&(e.typing=!1,e.add())},x_=function(e,t,n){Jl(t)&&n.set($p(e.selection))},T_=function(e,t,n,r,a,i,o){var u=Yl(e);if(i=i||{},i=_.extend(i,u),Jl(r)===!1||e.removed)return null;var s=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:o}).isDefaultPrevented()||s&&lu(s,i))return null;t.data[n.get()]&&a.get().each(function(v){t.data[n.get()].beforeBookmark=v});var f=yx(e);if(f&&t.data.length>f){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=$p(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var c={level:i,lastLevel:s,originalEvent:o};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",c),e.fire("change",c)):e.fire("AddUndo",c),i},N_=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},A_=function(e,t,n,r,a){if(t.transact(r)){var i=t.data[n.get()].bookmark,o=t.data[n.get()-1];Ql(e,o,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=i)}},R_=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Ql(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},B_=function(e,t,n,r){var a;return t.typing&&(t.add(),t.typing=!1,cu(t,!1,n)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],Ql(e,a,!0),e.setDirty(!0),e.fire("Undo",{level:a})),a},__=function(e){e.clear(),e.add()},D_=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!lu(Yl(e),t.data[0])},O_=function(e,t){return t.get()<e.data.length-1&&!e.typing},P_=function(e,t,n){return Dg(e,t),e.beforeChange(),e.ignore(n),e.add()},I_=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},$_=function(e,t){var n=e.dom,r=Ne(t)?t:e.getBody();Nt(e.hasVisual)&&(e.hasVisual=xx(e)),Q(n.select("table,a",r),function(a){switch(a.nodeName){case"TABLE":var i=Tx(e),o=n.getAttrib(a,"border");(!o||o==="0")&&e.hasVisual?n.addClass(a,i):n.removeClass(a,i);break;case"A":if(!n.getAttrib(a,"href")){var u=n.getAttrib(a,"name")||a.id,s=Nx(e);u&&e.hasVisual?n.addClass(a,s):n.removeClass(a,s)}break}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},Og=function(e){return{undoManager:{beforeChange:function(t,n){return x_(e,t,n)},add:function(t,n,r,a,i,o){return T_(e,t,n,r,a,i,o)},undo:function(t,n,r){return B_(e,t,n,r)},redo:function(t,n){return R_(e,t,n)},clear:function(t,n){return N_(e,t,n)},reset:function(t){return __(t)},hasUndo:function(t,n){return D_(e,t,n)},hasRedo:function(t,n){return O_(t,n)},transact:function(t,n,r){return P_(t,n,r)},ignore:function(t,n){return I_(t,n)},extra:function(t,n,r,a){return A_(e,t,n,r,a)}},formatter:{match:function(t,n,r,a){return Ll(e,t,n,r,a)},matchAll:function(t,n){return JR(e,t,n)},matchNode:function(t,n,r,a){return An(e,t,n,r,a)},canApply:function(t){return tB(e,t)},closest:function(t){return eB(e,t)},apply:function(t,n,r){return jl(e,t,n,r)},remove:function(t,n,r,a){return pg(e,t,n,r,a)},toggle:function(t,n,r){return FB(e,t,n,r)},formatChanged:function(t,n,r,a,i){return LB(e,t,n,r,a,i)}},editor:{getContent:function(t,n){return HN(e,t,n)},setContent:function(t,n){return YR(e,t,n)},insertContent:function(t,n){return HR(e,t,n)},addVisual:function(t){return $_(e,t)}},selection:{getContent:function(t,n){return l_(e,t,n)}},raw:{getModel:function(){return b.none()}}}},L_=function(e){var t=function(u){return Zr(u)?u:{}},n=e.undoManager,r=e.formatter,a=e.editor,i=e.selection,o=e.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(u,s,f){return n.transact(f)},ignore:function(u,s){return n.ignore(s)},extra:function(u,s,f,l){return n.extra(f,l)}},formatter:{match:function(u,s,f,l){return r.match(u,t(s),l)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(u){return r.canApply(u)},closest:function(u){return r.closest(u)},apply:function(u,s,f){return r.apply(u,t(s))},remove:function(u,s,f,l){return r.remove(u,t(s))},toggle:function(u,s,f){return r.toggle(u,t(s))},formatChanged:function(u,s,f,l,c){return r.formatChanged(s,f,l,c)}},editor:{getContent:function(u,s){return a.getContent(u)},setContent:function(u,s){return a.setContent(u,s)},insertContent:function(u,s){return a.insertContent(u)},addVisual:a.addVisual},selection:{getContent:function(u,s){return i.getContent(s)}},raw:{getModel:function(){return b.some(o.getRawModel())}}}},F_=function(){var e=Y(null),t=Y("");return{undoManager:{beforeChange:pe,add:e,undo:e,redo:e,clear:pe,reset:pe,hasUndo:Be,hasRedo:Be,transact:e,ignore:pe,extra:pe},formatter:{match:Be,matchAll:Y([]),matchNode:Y(void 0),canApply:Be,closest:t,apply:pe,remove:pe,toggle:pe,formatChanged:Y({unbind:pe})},editor:{getContent:t,setContent:t,insertContent:pe,addVisual:pe},selection:{getContent:t},raw:{getModel:Y(b.none())}}},Un=function(e){return ge(e.plugins,"rtc")},M_=function(e){return Ke(e.plugins,"rtc").bind(function(t){return b.from(t.setup)})},U_=function(e){var t=e;return M_(e).fold(function(){return t.rtcInstance=Og(e),b.none()},function(n){return t.rtcInstance=F_(),b.some(function(){return n().then(function(r){return t.rtcInstance=L_(r),r.rtc.isRemote})})})},ec=function(e){return e.rtcInstance?e.rtcInstance:Og(e)},qe=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},z_=function(e,t,n){qe(e).undoManager.beforeChange(t,n)},H_=function(e,t,n,r,a,i,o){return qe(e).undoManager.add(t,n,r,a,i,o)},V_=function(e,t,n,r){return qe(e).undoManager.undo(t,n,r)},q_=function(e,t,n){return qe(e).undoManager.redo(t,n)},W_=function(e,t,n){qe(e).undoManager.clear(t,n)},j_=function(e,t){qe(e).undoManager.reset(t)},K_=function(e,t,n){return qe(e).undoManager.hasUndo(t,n)},G_=function(e,t,n){return qe(e).undoManager.hasRedo(t,n)},X_=function(e,t,n,r){return qe(e).undoManager.transact(t,n,r)},Y_=function(e,t,n){qe(e).undoManager.ignore(t,n)},Q_=function(e,t,n,r,a){qe(e).undoManager.extra(t,n,r,a)},Z_=function(e,t,n,r,a){return qe(e).formatter.match(t,n,r,a)},J_=function(e,t,n){return qe(e).formatter.matchAll(t,n)},eD=function(e,t,n,r,a){return qe(e).formatter.matchNode(t,n,r,a)},tD=function(e,t){return qe(e).formatter.canApply(t)},nD=function(e,t){return qe(e).formatter.closest(t)},rD=function(e,t,n,r){qe(e).formatter.apply(t,n,r)},aD=function(e,t,n,r,a){qe(e).formatter.remove(t,n,r,a)},iD=function(e,t,n,r){qe(e).formatter.toggle(t,n,r)},oD=function(e,t,n,r,a,i){return qe(e).formatter.formatChanged(t,n,r,a,i)},uD=function(e,t,n){return ec(e).editor.getContent(t,n)},sD=function(e,t,n){return ec(e).editor.setContent(t,n)},fD=function(e,t,n){return ec(e).editor.insertContent(t,n)},lD=function(e,t,n){return qe(e).selection.getContent(t,n)},cD=function(e,t){return qe(e).editor.addVisual(t)},vD=function(e,t){t===void 0&&(t={});var n=t.format?t.format:"html";return lD(e,n,t)},Pg=function(e){return e.dom.length===0?(nt(e),b.none()):b.some(e)},dD=function(e,t){return e.filter(function(n){return Ni.isBookmarkNode(n.dom)}).bind(t?ei:kr)},pD=function(e,t,n,r){var a=e.dom,i=t.dom,o=r?a.length:i.length;r?(yl(a,i,!1,!r),n.setStart(i,o)):(yl(i,a,!1,!r),n.setEnd(i,o))},mD=function(e,t){en(e).each(function(n){var r=e.dom;t&&eu(n,R(r,0))?nu(r,0):!t&&tu(n,R(r,r.length))&&bl(r,r.length)})},Ig=function(e,t,n,r){e.bind(function(a){var i=r?bl:nu;return i(a.dom,r?a.dom.length:0),t.filter(jt).map(function(o){return pD(a,o,n,r)})}).orThunk(function(){var a=dD(t,r).or(t).filter(jt);return a.map(function(i){return mD(i,r)})})},hD=function(e,t){var n=b.from(t.firstChild).map(k.fromDom),r=b.from(t.lastChild).map(k.fromDom);e.deleteContents(),e.insertNode(t);var a=n.bind(kr).filter(jt).bind(Pg),i=r.bind(ei).filter(jt).bind(Pg);Ig(a,n,e,!0),Ig(i,r,e,!1),e.collapse(!1)},gD=function(e,t){return oe(oe({format:"html"},e),{set:!0,selection:!0,content:t})},bD=function(e,t){if(t.format!=="raw"){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,oe(oe({isRootContent:!0,forced_root_block:!1},a),t));return $a({validate:e.validate},e.schema).serialize(i)}else return t.content},yD=function(e,t,n){n===void 0&&(n={});var r=gD(n,t),a=r;if(!r.no_events){var i=e.fire("BeforeSetContent",r);if(i.isDefaultPrevented()){e.fire("SetContent",i);return}else a=i}a.content=bD(e,a);var o=e.selection.getRng();hD(o,o.createContextualFragment(a.content)),e.selection.setRng(o),Ri(e,o),a.no_events||e.fire("SetContent",a)},$g=function(e,t,n){if(e&&ge(e,t)){var r=he(e[t],function(a){return a!==n});r.length===0?delete e[t]:e[t]=r}};function CD(e,t){var n,r,a=function(o,u){return tt(u,function(s){return e.is(s,o)})},i=function(o){return e.getParents(o,null,e.getRoot())};return{selectorChangedWithUnbind:function(o,u){return n||(n={},r={},t.on("NodeChange",function(s){var f=s.element,l=i(f),c={};_.each(n,function(v,d){a(d,l).each(function(p){r[d]||(Q(v,function(m){m(!0,{node:p,selector:d,parents:l})}),r[d]=v),c[d]=v})}),_.each(r,function(v,d){c[d]||(delete r[d],_.each(v,function(p){p(!1,{node:f,selector:d,parents:l})}))})})),n[o]||(n[o]=[]),n[o].push(u),a(o,i(t.selection.getStart())).each(function(){r[o]=n[o]}),{unbind:function(){$g(n,o,u),$g(r,o,u)}}}}}var Lg=function(e){return!!e.select},Fg=function(e){return!!(e&&e.ownerDocument)&&Wn(k.fromDom(e.ownerDocument),k.fromDom(e))},wD=function(e){return e?Lg(e)?!0:Fg(e.startContainer)&&Fg(e.endContainer):!1},Mg=function(e,t,n,r){var a,i,o=CD(e,r).selectorChangedWithUnbind,u=function(O,K){var ve=e.createRng();Ne(O)&&Ne(K)?(ve.setStart(O,K),ve.setEnd(O,K),E(ve),h(!1)):(zf(e,ve,r.getBody(),!0),E(ve))},s=function(O){return vD(r,O)},f=function(O,K){return yD(r,O,K)},l=function(O){return ah(r.getBody(),g(),O)},c=function(O){return ih(r.getBody(),g(),O)},v=function(O,K){return q.getBookmark(O,K)},d=function(O){return q.moveToBookmark(O)},p=function(O,K){return wN(e,O,K).each(E),O},m=function(){var O=g(),K=y();return!O||O.item?!1:O.compareEndPoints?O.compareEndPoints("StartToEnd",O)===0:!K||O.collapsed},h=function(O){var K=g();K.collapse(!!O),E(K)},y=function(){return t.getSelection?t.getSelection():t.document.selection},g=function(){var O,K,ve,ye=function(_e,ct,Tt){try{return ct.compareBoundaryPoints(_e,Tt)}catch{return-1}},be=t.document;if(r.bookmark!==void 0&&Fr(r)===!1){var We=nl(r);if(We.isSome())return We.map(function(_e){return ol(r,[_e])[0]}).getOr(be.createRange())}try{(O=y())&&!eo(O.anchorNode)&&(O.rangeCount>0?K=O.getRangeAt(0):K=O.createRange?O.createRange():be.createRange(),K=ol(r,[K])[0])}catch{}return K||(K=be.createRange?be.createRange():be.body.createTextRange()),K.setStart&&K.startContainer.nodeType===9&&K.collapsed&&(ve=e.getRoot(),K.setStart(ve,0),K.setEnd(ve,0)),a&&i&&(ye(K.START_TO_START,K,a)===0&&ye(K.END_TO_END,K,a)===0?K=i:(a=null,i=null)),K},E=function(O,K){var ve;if(!!wD(O)){var ye=Lg(O)?O:null;if(ye){i=null;try{ye.select()}catch{}return}var be=y(),We=r.fire("SetSelectionRange",{range:O,forward:K});if(O=We.range,be){i=O;try{be.removeAllRanges(),be.addRange(O)}catch{}K===!1&&be.extend&&(be.collapse(O.endContainer,O.endOffset),be.extend(O.startContainer,O.startOffset)),a=be.rangeCount>0?be.getRangeAt(0):null}!O.collapsed&&O.startContainer===O.endContainer&&be.setBaseAndExtent&&!fe.ie&&O.endOffset-O.startOffset<2&&O.startContainer.hasChildNodes()&&(ve=O.startContainer.childNodes[O.startOffset],ve&&ve.tagName==="IMG"&&(be.setBaseAndExtent(O.startContainer,O.startOffset,O.endContainer,O.endOffset),(be.anchorNode!==O.startContainer||be.focusNode!==O.endContainer)&&be.setBaseAndExtent(ve,0,ve,1))),r.fire("AfterSetSelectionRange",{range:O,forward:K})}},S=function(O){return f(e.getOuterHTML(O)),O},C=function(){return yN(r.getBody(),g())},x=function(O,K){return CN(e,g(),O,K)},B=function(){var O=y(),K=O==null?void 0:O.anchorNode,ve=O==null?void 0:O.focusNode;if(!O||!K||!ve||eo(K)||eo(ve))return!0;var ye=e.createRng();ye.setStart(K,O.anchorOffset),ye.collapse(!0);var be=e.createRng();return be.setStart(ve,O.focusOffset),be.collapse(!0),ye.compareBoundaryPoints(ye.START_TO_START,be)<=0},L=function(){var O=g(),K=y();if(!k1(K)&&qo(r)){var ve=Wo(e,O);return ve.each(function(ye){E(ye,B())}),ve.getOr(O)}return O},re=function(O,K){return o(O,K),M},j=function(){for(var O,K=e.getRoot();K&&K.nodeName!=="BODY";){if(K.scrollHeight>K.clientHeight){O=K;break}K=K.parentNode}return O},D=function(O,K){Ne(O)?ET(r,O,K):Ri(r,g(),K)},te=function(O,K){return E(Kf(O,K,r.getDoc()))},z=function(){var O=g();return O.collapsed?R.fromRangeStart(O).getClientRects()[0]:O.getBoundingClientRect()},W=function(){t=a=i=null,G.destroy()},M={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:h,setCursorLocation:u,getContent:s,setContent:f,getBookmark:v,moveToBookmark:d,select:p,isCollapsed:m,isForward:B,setNode:S,getNode:C,getSel:y,setRng:E,getRng:g,getStart:l,getEnd:c,getSelectedBlocks:x,normalize:L,selectorChanged:re,selectorChangedWithUnbind:o,getScrollContainer:j,scrollIntoView:D,placeCaretAt:te,getBoundingClientRect:z,destroy:W},q=Ni(M),G=Lm(M,r);return M.bookmarkManager=q,M.controlSelection=G,M},SD=function(e,t){Q(t,function(n){e.attr(n,null)})},ED=function(e,t,n){e.addNodeFilter("font",function(r){Q(r,function(a){var i=t.parse(a.attr("style")),o=a.attr("color"),u=a.attr("face"),s=a.attr("size");o&&(i.color=o),u&&(i["font-family"]=u),s&&(i["font-size"]=n[parseInt(a.attr("size"),10)-1]),a.name="span",a.attr("style",t.serialize(i)),SD(a,["color","face","size"])})})},kD=function(e,t){e.addNodeFilter("strike",function(n){Q(n,function(r){var a=t.parse(r.attr("style"));a["text-decoration"]="line-through",r.name="span",r.attr("style",t.serialize(a))})})},xD=function(e,t){var n=Vs();t.convert_fonts_to_spans&&ED(e,n,_.explode(t.font_size_legacy_values)),kD(e,n)},TD=function(e,t){t.inline_styles&&xD(e,t)},ND=function(e){return new ot(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){a.status===200?t(a.response):r()},a.onerror=r,a.send()}catch{r()}})},tc=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},Ug=function(e,t){var n;try{n=atob(t)}catch{return b.none()}for(var r=new Uint8Array(n.length),a=0;a<r.length;a++)r[a]=n.charCodeAt(a);return b.some(new Blob([r],{type:e}))},AD=function(e){return new ot(function(t){var n=tc(e),r=n.type,a=n.data;Ug(r,a).fold(function(){return t(new Blob([]))},t)})},zg=function(e){return e.indexOf("blob:")===0?ND(e):e.indexOf("data:")===0?AD(e):null},RD=function(e){return new ot(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},BD=0,nc=function(e){return(e||"blobid")+BD++},_D=function(e,t,n,r){var a,i;if(t.src.indexOf("blob:")===0){i=e.getByUri(t.src),i?n({image:t,blobInfo:i}):zg(t.src).then(function(f){RD(f).then(function(l){a=tc(l).data,i=e.create(nc(),f,a),e.add(i),n({image:t,blobInfo:i})})},function(f){r(f)});return}var o=tc(t.src),u=o.data,s=o.type;a=u,i=e.getByData(a,s),i?n({image:t,blobInfo:i}):zg(t.src).then(function(f){i=e.create(nc(),f,a),e.add(i),n({image:t,blobInfo:i})},function(f){r(f)})},DD=function(e){return e?pn(e.getElementsByTagName("img")):[]},OD=function(e,t){var n={},r=function(a,i){i||(i=je);var o=he(DD(a),function(s){var f=s.src;return!fe.fileApi||s.hasAttribute("data-mce-bogus")||s.hasAttribute("data-mce-placeholder")||!f||f===fe.transparentSrc?!1:f.indexOf("blob:")===0?!e.isUploaded(f)&&i(s):f.indexOf("data:")===0?i(s):!1}),u=Oe(o,function(s){if(n[s.src]!==void 0)return new ot(function(l){n[s.src].then(function(c){if(typeof c=="string")return c;l({image:s,blobInfo:c.blobInfo})})});var f=new ot(function(l,c){_D(t,s,l,c)}).then(function(l){return delete n[l.image.src],l}).catch(function(l){return delete n[s.src],l});return n[s.src]=f,f});return ot.all(u)};return{findAll:r}},rc=function(e,t,n,r){var a=e.padd_empty_with_br||t.insert;a&&n[r.name]?r.empty().append(new Yt("br",1)).shortEnded=!0:r.empty().append(new Yt("#text",3)).value=Rt},PD=function(e){return Hg(e,"#text")&&e.firstChild.value===Rt},Hg=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},ID=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},Oi=function(e,t,n,r){return r.isEmpty(t,n,function(a){return ID(e,a)})},$D=function(e,t){return e&&(ge(t,e.name)||e.name==="br")},LD=function(e){return Ne(e.attr("data-mce-bogus"))},FD=function(e){return e.attr("src")===fe.transparentSrc||Ne(e.attr("data-mce-placeholder"))},MD=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),Ie(e.attributes.map,function(r,a){n.setAttribute(a,r)}),t.images_dataimg_filter(n)}else return!0},UD=function(e,t){var n=t.blob_cache,r=function(a){var i=a.attr("src");FD(a)||LD(a)||xN(i).filter(function(){return MD(a,t)}).bind(function(o){var u=o.type,s=o.data;return b.from(n.getByData(s,u)).orThunk(function(){return Ug(u,s).map(function(f){var l=n.create(nc(),f,s);return n.add(l),l})})}).each(function(o){a.attr("src",o.blobUri())})};n&&e.addAttributeFilter("src",function(a){return Q(a,r)})},zD=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(r,a,i){var o,u=r.length,s,f=_.extend({},n.getBlockElements()),l=n.getNonEmptyElements(),c,v,d,p,m=n.getWhiteSpaceElements(),h,y;for(f.body=1,o=0;o<u;o++)if(s=r[o],c=s.parent,f[s.parent.name]&&s===c.lastChild){for(d=s.prev;d;){if(p=d.name,p!=="span"||d.attr("data-mce-type")!=="bookmark"){p==="br"&&(s=null);break}d=d.prev}s&&(s.remove(),Oi(n,l,m,c)&&(h=n.getElementRule(c.name),h&&(h.removeEmpty?c.remove():h.paddEmpty&&rc(t,i,f,c))))}else{for(v=s;c&&c.firstChild===v&&c.lastChild===v&&(v=c,!f[c.name]);)c=c.parent;v===c&&t.padd_empty_with_br!==!0&&(y=new Yt("#text",3),y.value=Rt,s.replace(y))}}),e.addAttributeFilter("href",function(r){var a=r.length,i=function(s){var f=s.split(" ").filter(function(l){return l.length>0});return f.concat(["noopener"]).sort().join(" ")},o=function(s){var f=s?_.trim(s):"";return/\b(noopener)\b/g.test(f)?f:i(f)};if(!t.allow_unsafe_link_target)for(;a--;){var u=r[a];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",o(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(r){for(var a=r.length,i,o,u,s;a--;)if(s=r[a],s.name==="a"&&s.firstChild&&!s.attr("href")){u=s.parent,i=s.lastChild;do o=i.prev,u.insert(i,s),i=o;while(i)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(r){for(var a=r.length,i,o;a--;)if(i=r[a],o=i.parent,o.name==="ul"||o.name==="ol")if(i.prev&&i.prev.name==="li")i.prev.append(i);else{var u=new Yt("li",1);u.attr("style","list-style-type: none"),i.wrap(u)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(r){for(var a=n.getValidClasses(),i=r.length;i--;){for(var o=r[i],u=o.attr("class").split(" "),s="",f=0;f<u.length;f++){var l=u[f],c=!1,v=a["*"];v&&v[l]&&(c=!0),v=a[o.name],!c&&v&&v[l]&&(c=!0),c&&(s&&(s+=" "),s+=l)}s.length||(s=null),o.attr("class",s)}}),UD(e,t)},Vg=_.makeMap,qg=_.each,Wg=_.explode,HD=_.extend,ac=function(e,t){t===void 0&&(t=Jn());var n={},r=[],a={},i={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var o=function(p){for(var m=Vg("tr,td,th,tbody,thead,tfoot,table"),h=t.getNonEmptyElements(),y=t.getWhiteSpaceElements(),g=t.getTextBlockElements(),E=t.getSpecialElements(),S=function(q,G){if(G===void 0&&(G=q.parent),E[q.name])q.empty().remove();else{for(var O=q.children(),K=0,ve=O;K<ve.length;K++){var ye=ve[K];t.isValidChild(G.name,ye.name)||S(ye,G)}q.unwrap()}},C=0;C<p.length;C++){var x=p[C],B=void 0,L=void 0,re=void 0;if(!(!x.parent||x.fixed)){if(g[x.name]&&x.parent.name==="li"){for(var j=x.next;j&&g[j.name];){j.name="li",j.fixed=!0,x.parent.insert(j,x.parent);j=j.next}x.unwrap();continue}var D=[x];for(B=x.parent;B&&!t.isValidChild(B.name,x.name)&&!m[B.name];B=B.parent)D.push(B);if(B&&D.length>1)if(t.isValidChild(B.name,x.name)){D.reverse(),L=u(D[0].clone());for(var te=L,z=0;z<D.length-1;z++){t.isValidChild(te.name,D[z].name)?(re=u(D[z].clone()),te.append(re)):re=te;for(var W=D[z].firstChild;W&&W!==D[z+1];){var M=W.next;re.append(W),W=M}te=re}Oi(t,h,y,L)?B.insert(x,D[0],!0):(B.insert(L,D[0],!0),B.insert(x,L)),B=D[0],(Oi(t,h,y,B)||Hg(B,"br"))&&B.empty().remove()}else S(x);else if(x.parent){if(x.name==="li"){var j=x.prev;if(j&&(j.name==="ul"||j.name==="ol")){j.append(x);continue}if(j=x.next,j&&(j.name==="ul"||j.name==="ol")){j.insert(x,j.firstChild,!0);continue}x.wrap(u(new Yt("ul",1)));continue}t.isValidChild(x.parent.name,"div")&&t.isValidChild("div",x.name)?x.wrap(u(new Yt("div",1))):S(x)}}}},u=function(p){var m=p.name;if(m in n){var h=a[m];h?h.push(p):a[m]=[p]}for(var y=r.length;y--;){var g=r[y].name;if(g in p.attributes.map){var h=i[g];h?h.push(p):i[g]=[p]}}return p},s=function(p,m){qg(Wg(p),function(h){var y=n[h];y||(n[h]=y=[]),y.push(m)})},f=function(){var p=[];for(var m in n)ge(n,m)&&p.push({name:m,callbacks:n[m]});return p},l=function(p,m){qg(Wg(p),function(h){var y;for(y=0;y<r.length;y++)if(r[y].name===h){r[y].callbacks.push(m);return}r.push({name:h,callbacks:[m]})})},c=function(){return[].concat(r)},v=function(p,m){var h,y,g,E,S,C,x,B=[],L,re=function(T){return T===!1?"":T===!0?"p":T};m=m||{},a={},i={};var j=HD(Vg("script,style,head,html,body,title,meta,param"),t.getBlockElements()),D=Bd(t),te=t.getNonEmptyElements(),z=t.children,W=e.validate,M="forced_root_block"in m?m.forced_root_block:e.forced_root_block,q=re(M),G=t.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,K=/[ \t\r\n]+$/,ve=/[ \t\r\n]+/g,ye=/^[ \t\r\n]+$/,be=ge(G,m.context)||ge(G,e.root_name),We=function(){var T=J.firstChild,F=null,I=function(ne){ne&&(T=ne.firstChild,T&&T.type===3&&(T.value=T.value.replace(O,"")),T=ne.lastChild,T&&T.type===3&&(T.value=T.value.replace(K,"")))};if(!!t.isValidChild(J.name,q.toLowerCase())){for(;T;){var ee=T.next;T.type===3||T.type===1&&T.name!=="p"&&!j[T.name]&&!T.attr("data-mce-type")?(F||(F=_e(q,1),F.attr(e.forced_root_block_attrs),J.insert(F,T)),F.append(T)):(I(F),F=null),T=ee}I(F)}},_e=function(T,F){var I=new Yt(T,F),ee;return T in n&&(ee=a[T],ee?ee.push(I):a[T]=[I]),I},ct=function(T){for(var F=t.getBlockElements(),I=T.prev;I&&I.type===3;){var ee=I.value.replace(K,"");if(ee.length>0){I.value=ee;return}var ne=I.next;if(ne){if(ne.type===3&&ne.value.length){I=I.prev;continue}if(!F[ne.name]&&ne.name!=="script"&&ne.name!=="style"){I=I.prev;continue}}var we=I.prev;I.remove(),I=we}},Tt=function(T){var F={};for(var I in T)I!=="li"&&I!=="p"&&(F[I]=T[I]);return F},P=function(T){for(var F=T;Ne(F);){if(F.name in D)return Oi(t,te,G,F);F=F.parent}return!1},H=Zo({validate:W,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Tt(t.getSelfClosingElements()),cdata:function(T){L.append(_e("#cdata",4)).value=T},text:function(T,F){var I;be||(T=T.replace(ve," "),$D(L.lastChild,j)&&(T=T.replace(O,""))),T.length!==0&&(I=_e("#text",3),I.raw=!!F,L.append(I).value=T)},comment:function(T){L.append(_e("#comment",8)).value=T},pi:function(T,F){L.append(_e(T,7)).value=F,ct(L)},doctype:function(T){var F=L.append(_e("#doctype",10));F.value=T,ct(L)},start:function(T,F,I){var ee=W?t.getElementRule(T):{};if(ee){var ne=_e(ee.outputName||T,1);ne.attributes=F,ne.shortEnded=I,L.append(ne);var we=z[L.name];we&&z[ne.name]&&!we[ne.name]&&B.push(ne);for(var Ue=r.length;Ue--;){var Le=r[Ue].name;Le in F.map&&(C=i[Le],C?C.push(ne):i[Le]=[ne])}j[T]&&ct(ne),I||(L=ne),!be&&G[T]&&(be=!0)}},end:function(T){var F,I,ee,ne=W?t.getElementRule(T):{};if(ne){if(j[T]&&!be){if(F=L.firstChild,F&&F.type===3)if(I=F.value.replace(O,""),I.length>0)F.value=I,F=F.next;else for(ee=F.next,F.remove(),F=ee;F&&F.type===3;)I=F.value,ee=F.next,(I.length===0||ye.test(I))&&(F.remove(),F=ee),F=ee;if(F=L.lastChild,F&&F.type===3)if(I=F.value.replace(K,""),I.length>0)F.value=I,F=F.prev;else for(ee=F.prev,F.remove(),F=ee;F&&F.type===3;)I=F.value,ee=F.prev,(I.length===0||ye.test(I))&&(F.remove(),F=ee),F=ee}be&&G[T]&&(be=!1);var we=Oi(t,te,G,L),Ue=L.parent;ne.paddInEmptyBlock&&we&&P(L)?rc(e,m,j,L):ne.removeEmpty&&we?j[L.name]?L.empty().remove():L.unwrap():ne.paddEmpty&&(PD(L)||we)&&rc(e,m,j,L),L=Ue}}},t),J=L=new Yt(m.context||e.root_name,11);if(H.parse(p,m.format),W&&B.length&&(m.context?m.invalid=!0:o(B)),q&&(J.name==="body"||m.isRootContent)&&We(),!m.invalid){for(x in a)if(!!ge(a,x)){for(C=n[x],h=a[x],E=h.length;E--;)h[E].parent||h.splice(E,1);for(y=0,g=C.length;y<g;y++)C[y](h,x,m)}for(y=0,g=r.length;y<g;y++)if(C=r[y],C.name in i){for(h=i[C.name],E=h.length;E--;)h[E].parent||h.splice(E,1);for(E=0,S=C.callbacks.length;E<S;E++)C.callbacks[E](h,C.name,m)}}return J},d={schema:t,addAttributeFilter:l,getAttributeFilters:c,addNodeFilter:s,getNodeFilters:f,filterNode:u,parse:v};return zD(d,e),TD(d,e),d},VD=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(r,a){for(var i=r.length;i--;){var o=r[i];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(a,null)}}),e.addAttributeFilter("src,href,style",function(r,a){for(var i="data-mce-"+a,o=t.url_converter,u=t.url_converter_scope,s=r.length;s--;){var f=r[s],l=f.attr(i);l!==void 0?(f.attr(a,l.length>0?l:null),f.attr(i,null)):(l=f.attr(a),a==="style"?l=n.serializeStyle(n.parseStyle(l),f.name):o&&(l=o.call(u,l,a,f.name)),f.attr(a,l.length>0?l:null))}}),e.addAttributeFilter("class",function(r){for(var a=r.length;a--;){var i=r[a],o=i.attr("class");o&&(o=i.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),i.attr("class",o.length>0?o:null))}}),e.addAttributeFilter("data-mce-type",function(r,a,i){for(var o=r.length;o--;){var u=r[o];if(u.attr("data-mce-type")==="bookmark"&&!i.cleanup){var s=b.from(u.firstChild).exists(function(f){return!lo(f.value)});s?u.unwrap():u.remove()}}}),e.addNodeFilter("noscript",function(r){for(var a=r.length;a--;){var i=r[a].firstChild;i&&(i.value=Qn.decode(i.value))}}),e.addNodeFilter("script,style",function(r,a){for(var i=function(l){return l.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},o=r.length;o--;){var u=r[o],s=u.firstChild?u.firstChild.value:"";if(a==="script"){var f=u.attr("type");f&&u.attr("type",f==="mce-no/type"?null:f.replace(/^mce\-/,"")),t.element_format==="xhtml"&&s.length>0&&(u.firstChild.value=`// <![CDATA[
`+i(s)+`
// ]]>`)}else t.element_format==="xhtml"&&s.length>0&&(u.firstChild.value=`<!--
`+i(s)+`
-->`)}}),e.addNodeFilter("#comment",function(r){for(var a=r.length;a--;){var i=r[a];t.preserve_cdata&&i.value.indexOf("[CDATA[")===0?(i.name="#cdata",i.type=4,i.value=n.decode(i.value.replace(/^\[CDATA\[|\]\]$/g,""))):i.value.indexOf("mce:protected ")===0&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(i.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(r,a){for(var i=r.length;i--;){var o=r[i];o.type===7?o.remove():o.type===1&&a==="input"&&!o.attr("type")&&o.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(r){Q(r,function(a){a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)})},qD=function(e){var t=function(a){return a&&a.name==="br"},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},WD=function(e,t,n){var r,a=e.dom,i=t.cloneNode(!0),o=document.implementation;if(o.createHTMLDocument){var u=o.createHTMLDocument("");_.each(i.nodeName==="BODY"?i.childNodes:[i],function(s){u.body.appendChild(u.importNode(s,!0))}),i.nodeName!=="BODY"?i=u.body.firstChild:i=u.body,r=a.doc,a.doc=u}return $1(e,oe(oe({},n),{node:i})),r&&(a.doc=r),i},jD=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},KD=function(e,t,n){return jD(e,n)?WD(e,t,n):t},GD=function(e,t,n){_.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)}),t.push(n))},XD=function(e,t,n){if(!t.no_events&&e){var r=L1(e,oe(oe({},t),{content:n}));return r.content}else return n},YD=function(e,t,n){var r=Yn(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||fo(k.fromDom(t))?r:_.trim(r)},QD=function(e,t,n){var r=n.selection?oe({forced_root_block:!1},n):n,a=e.parse(t,r);return qD(a),a},ZD=function(e,t,n){var r=$a(e,t);return r.serialize(n)},JD=function(e,t,n,r,a){var i=ZD(t,n,r);return XD(e,a,i)},eO=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Te.DOM,a=t&&t.schema?t.schema:Jn(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var i=ac(e,a);VD(i,e,r);var o=function(u,s){s===void 0&&(s={});var f=oe({format:"html"},s),l=KD(t,u,f),c=YD(r,l,f),v=QD(i,c,f);return f.format==="tree"?v:JD(t,e,a,v,f)};return{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:o,addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:X(GD,i,n),getTempAttrs:Y(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},jg=function(e,t){var n=eO(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},tO="html",nO=function(e,t){t===void 0&&(t={});var n=t.format?t.format:tO;return uD(e,t,n)},ic=function(e,t,n){return n===void 0&&(n={}),sD(e,t,n)},vu=Te.DOM,rO=function(e){vu.setStyle(e.id,"display",e.orgDisplay)},du=function(e){return b.from(e).each(function(t){return t.destroy()})},aO=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},iO=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),vu.unbind(t,"submit reset",e.formEventDelegate))},oO=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&a&&vu.remove(a.nextSibling),F1(e),e.editorManager.remove(e),!e.inline&&r&&rO(e),M1(e),vu.remove(e.getContainer()),du(t),du(n),e.destroy()}},uO=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),du(n),du(r)),iO(e),aO(e),e.destroyed=!0}},sO=function(e,t){var n=Zr(e)&&Zr(t);return n?Kg(e,t):t},fO=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length===0)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var i=t[a];for(var o in i)ge(i,o)&&(r[o]=e(r[o],i[o]))}return r}},Kg=fO(sO),lO="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),cO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),vO="imagetools,toc".split(","),dO=function(e){var t=he(lO,function(r){return ge(e,r)}),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),is(t)},pO=function(e){var t=_.makeMap(e.plugins," "),n=function(a){return ge(t,a)},r=On(On([],he(cO,n),!0),ea(vO,function(a){return n(a)?[a+" (moving to premium)"]:[]}),!0);return is(r)},mO=function(e,t){var n=dO(e),r=pO(t),a=r.length>0,i=n.length>0,o=t.theme==="mobile";if(a||i||o){var u=`
- `,s=o?`

Themes:`+u+"mobile":"",f=a?`

Plugins:`+u+r.join(u):"",l=i?`

Settings:`+u+n.join(u):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+s+f+l)}},hO=function(e,t){return{sections:Y(e),settings:Y(t)}},oc=Wt().deviceType,gO=oc.isTouch(),Gg=oc.isPhone(),bO=oc.isTablet(),yO=["lists","autolink","autosave"],Xg={table_grid:!1,object_resizing:!1,resize:!1},Pi=function(e){var t=qt(e)?e.join(" "):e,n=Oe(Ve(t)?t.split(" "):[],ds);return he(n,function(r){return r.length>0})},CO=function(e){return he(e,X(et,yO))},wO=function(e,t){var n=JC(t,function(r,a){return et(e,a)});return hO(n.t,n.f)},SO=function(e,t,n){n===void 0&&(n={});var r=e.sections(),a=Ke(r,t).getOr({});return _.extend({},n,a)},pu=function(e,t){return ge(e.sections(),t)},EO=function(e,t,n){var r=e.sections();return pu(e,t)&&r[t].theme===n},kO=function(e,t){return pu(e,t)?e.sections()[t]:{}},Yg=function(e,t){return Ke(e,"toolbar_mode").orThunk(function(){return Ke(e,"toolbar_drawer").map(function(n){return n===!1?"wrap":n})}).getOr(t)},xO=function(e,t,n,r,a){var i={id:t,theme:"silver",toolbar_mode:Yg(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a};return oe(oe({},i),r?Xg:{})},TO=function(e,t){var n={resize:!1,toolbar_mode:Yg(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return oe(oe(oe({},Xg),n),t?r:{})},NO=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?_.extend({},e.external_plugins,n):n},AO=function(e,t){return[].concat(Pi(e)).concat(Pi(t))},RO=function(e,t,n,r){return e&&EO(t,"mobile","mobile")?CO(r):e&&pu(t,"mobile")?r:n},BO=function(e,t,n,r){var a=Pi(n.forced_plugins),i=Pi(r.plugins),o=kO(t,"mobile"),u=o.plugins?Pi(o.plugins):i,s=RO(e,t,i,u),f=AO(a,s);if(fe.browser.isIE()&&et(f,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return _.extend(r,{plugins:f.join(" ")})},_O=function(e,t){return e&&pu(t,"mobile")},DO=function(e,t,n,r,a){var i=e?{mobile:TO(a.mobile||{},t)}:{},o=wO(["mobile"],Kg(i,a)),u=_.extend(n,r,o.settings(),_O(e,o)?SO(o,"mobile"):{},{validate:!0,external_plugins:NO(r,o.settings())});return BO(e,o,r,u)},OO=function(e,t,n,r,a){var i=xO(a,t,n,gO,e),o=DO(Gg||bO,Gg,i,r,a);return o.deprecation_warnings!==!1&&mO(a,o),o},zr=function(e,t,n){return b.from(t.settings[n]).filter(e)},PO=function(e){var t={};return typeof e=="string"?Q(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(n){var r=n.split("=");r.length>1?t[_.trim(r[0])]=_.trim(r[1]):t[_.trim(r[0])]=_.trim(r[0])}):t=e,t},IO=function(e){return function(t){return qt(t)&&Xa(t,e)}},$O=function(e,t,n,r){var a=t in e.settings?e.settings[t]:n;return r==="hash"?PO(a):r==="string"?zr(Ve,e,t).getOr(n):r==="number"?zr(Jr,e,t).getOr(n):r==="boolean"?zr(Gc,e,t).getOr(n):r==="object"?zr(Zr,e,t).getOr(n):r==="array"?zr(qt,e,t).getOr(n):r==="string[]"?zr(IO(Ve),e,t).getOr(n):r==="function"?zr(Pe,e,t).getOr(n):a},LO=function(){var e={},t=function(a,i){e[a]=i},n=function(a){return e[a]?e[a]:{icons:{}}},r=function(a){return ge(e,a)};return{add:t,get:n,has:r}},mu=LO(),Qg=function(e,t){var n=t.dom;return n[e]},Zg=function(e,t){return parseInt(In(t,e),10)},FO=X(Qg,"clientWidth"),MO=X(Qg,"clientHeight"),UO=X(Zg,"margin-top"),zO=X(Zg,"margin-left"),HO=function(e){return e.dom.getBoundingClientRect()},VO=function(e,t,n){var r=FO(e),a=MO(e);return t>=0&&n>=0&&t<=r&&n<=a},qO=function(e,t,n,r){var a=HO(t),i=e?a.left+t.dom.clientLeft+zO(t):0,o=e?a.top+t.dom.clientTop+UO(t):0,u=n-i,s=r-o;return{x:u,y:s}},Jg=function(e,t,n){var r=k.fromDom(e.getBody()),a=e.inline?r:Z0(r),i=qO(e.inline,a,t,n);return VO(a,i.x,i.y)},WO=function(e){return b.from(e).map(k.fromDom)},jO=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return WO(t).map(ni).getOr(!1)},KO=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},eb=function(e){var t=[],n=function(){var v=e.theme;return v&&v.getNotificationManagerImpl?v.getNotificationManagerImpl():KO()},r=function(){return b.from(t[0])},a=function(v,d){return v.type===d.type&&v.text===d.text&&!v.progressBar&&!v.timeout&&!d.progressBar&&!d.timeout},i=function(){t.length>0&&n().reposition(t)},o=function(v){t.push(v)},u=function(v){ji(t,function(d){return d===v}).each(function(d){t.splice(d,1)})},s=function(v,d){if(d===void 0&&(d=!0),!(e.removed||!jO(e)))return d&&e.fire("BeforeOpenNotification",{notification:v}),tt(t,function(p){return a(n().getArgs(p),v)}).getOrThunk(function(){e.editorManager.setActive(e);var p=n().open(v,function(){u(p),i(),r().fold(function(){return e.focus()},function(m){return xT(k.fromDom(m.getEl()))})});return o(p),i(),e.fire("OpenNotification",{notification:oe({},p)}),p})},f=function(){r().each(function(v){n().close(v),u(v),i()})},l=Y(t),c=function(v){v.on("SkinLoaded",function(){var d=ix(v);d&&s({text:d,type:"warning",timeout:0},!1),i()}),v.on("show ResizeEditor ResizeWindow NodeChange",function(){ut.requestAnimationFrame(i)}),v.on("remove",function(){Q(t.slice(),function(d){n().close(d)})})};return c(e),{open:s,close:f,getNotifications:l}},fn=Bt.PluginManager,pr=Bt.ThemeManager;function GO(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var tb=function(e){var t=[],n=function(){var m=e.theme;return m&&m.getWindowManagerImpl?m.getWindowManagerImpl():GO()},r=function(m,h){return function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];return h?h.apply(m,y):void 0}},a=function(m){e.fire("OpenWindow",{dialog:m})},i=function(m){e.fire("CloseWindow",{dialog:m})},o=function(m){t.push(m),a(m)},u=function(m){i(m),t=he(t,function(h){return h!==m}),t.length===0&&e.focus()},s=function(){return b.from(t[t.length-1])},f=function(m){e.editorManager.setActive(e),Xo(e);var h=m();return o(h),h},l=function(m,h){return f(function(){return n().open(m,h,u)})},c=function(m){return f(function(){return n().openUrl(m,u)})},v=function(m,h,y){var g=n();g.alert(m,r(y||g,h))},d=function(m,h,y){var g=n();g.confirm(m,r(y||g,h))},p=function(){s().each(function(m){n().close(m),u(m)})};return e.on("remove",function(){Q(t,function(m){n().close(m)})}),{open:l,openUrl:c,alert:v,confirm:d,close:p}},nb=function(e,t){e.notificationManager.open({type:"error",text:t})},hu=function(e,t){e._skinLoaded?nb(e,t):e.on("SkinLoaded",function(){nb(e,t)})},XO=function(e,t){hu(e,an.translate(["Failed to upload image: {0}",t]))},uc=function(e,t,n){Im(e,t,{message:n}),console.error(n)},sc=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},fc=function(e,t,n){uc(e,"PluginLoadError",sc("plugin",t,n))},YO=function(e,t,n){uc(e,"IconsLoadError",sc("icons",t,n))},QO=function(e,t,n){uc(e,"LanguageLoadError",sc("language",t,n))},ZO=function(e,t,n){var r=an.translate(["Failed to initialize plugin: {0}",t]);Im(e,"PluginLoadError",{message:r}),gu(r,n),hu(e,r)},gu=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,On([e],t,!1)):r.log.apply(r,On([e],t,!1)))},JO=function(e){return/^[a-z0-9\-]+$/i.test(e)},eP=function(e){return rb(e,ex(e))},tP=function(e){return rb(e,qp(e))},rb=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,a="content"+r+".css",i=e.inline===!0;return Oe(t,function(o){return JO(o)&&!i?n+"/"+o+"/"+a:e.documentBaseURI.toAbsolute(o)})},nP=function(e){e.contentCSS=e.contentCSS.concat(eP(e),tP(e))},ab=function(){var e=1,t=2,n={},r=function(v,d){return{status:v,resultUri:d}},a=function(v){return v in n},i=function(v){var d=n[v];return d?d.resultUri:null},o=function(v){return a(v)?n[v].status===e:!1},u=function(v){return a(v)?n[v].status===t:!1},s=function(v){n[v]=r(e,null)},f=function(v,d){n[v]=r(t,d)},l=function(v){delete n[v]},c=function(){n={}};return{hasBlobUri:a,getResultUri:i,isPending:o,isUploaded:u,markPending:s,markUploaded:f,removeFailed:l,destroy:c}},rP=0,aP=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},ib=function(e){return e+rP+++aP()},iP=function(){var e=[],t=function(c){var v={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return v[c.toLowerCase()]||"dat"},n=function(c,v,d,p,m){if(Ve(c)){var h=c;return r({id:h,name:p,filename:m,blob:v,base64:d})}else{if(Zr(c))return r(c);throw new Error("Unknown input type")}},r=function(c){if(!c.blob||!c.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var v=c.id||ib("blobid"),d=c.name||v,p=c.blob;return{id:Y(v),name:Y(d),filename:Y(c.filename||d+"."+t(p.type)),blob:Y(p),base64:Y(c.base64),blobUri:Y(c.blobUri||URL.createObjectURL(p)),uri:Y(c.uri)}},a=function(c){o(c.id())||e.push(c)},i=function(c){return tt(e,c).getOrUndefined()},o=function(c){return i(function(v){return v.id()===c})},u=function(c){return i(function(v){return v.blobUri()===c})},s=function(c,v){return i(function(d){return d.base64()===c&&d.blob().type===v})},f=function(c){e=he(e,function(v){return v.blobUri()===c?(URL.revokeObjectURL(v.blobUri()),!1):!0})},l=function(){Q(e,function(c){URL.revokeObjectURL(c.blobUri())}),e=[]};return{create:n,add:a,get:o,getByUri:u,getByData:s,findFirst:i,removeByUri:f,destroy:l}},oP=function(e,t){var n={},r=function(p,m){return p?p.replace(/\/$/,"")+"/"+m.replace(/^\//,""):m},a=function(p,m,h,y){var g=new XMLHttpRequest;g.open("POST",t.url),g.withCredentials=t.credentials,g.upload.onprogress=function(S){y(S.loaded/S.total*100)},g.onerror=function(){h("Image upload failed due to a XHR Transport error. Code: "+g.status)},g.onload=function(){if(g.status<200||g.status>=300){h("HTTP Error: "+g.status);return}var S=JSON.parse(g.responseText);if(!S||typeof S.location!="string"){h("Invalid JSON: "+g.responseText);return}m(r(t.basePath,S.location))};var E=new FormData;E.append("file",p.blob(),p.filename()),g.send(E)},i=function(){return new ot(function(p){p([])})},o=function(p,m){return{url:m,blobInfo:p,status:!0}},u=function(p,m,h){return{url:"",blobInfo:p,status:!1,error:{message:m,options:h}}},s=function(p,m){_.each(n[p],function(h){h(m)}),delete n[p]},f=function(p,m,h){return e.markPending(p.blobUri()),new ot(function(y){var g,E;try{var S=function(){g&&(g.close(),E=pe)},C=function(B){S(),e.markUploaded(p.blobUri(),B),s(p.blobUri(),o(p,B)),y(o(p,B))},x=function(B,L){var re=L||{};S(),e.removeFailed(p.blobUri()),s(p.blobUri(),u(p,B,re)),y(u(p,B,re))};E=function(B){B<0||B>100||b.from(g).orThunk(function(){return b.from(h).map(VC)}).each(function(L){g=L,L.progressBar.value(B)})},m(p,C,x,E)}catch(B){y(u(p,B.message,{}))}})},l=function(p){return p===a},c=function(p){var m=p.blobUri();return new ot(function(h){n[m]=n[m]||[],n[m].push(h)})},v=function(p,m){return p=_.grep(p,function(h){return!e.isUploaded(h.blobUri())}),ot.all(_.map(p,function(h){return e.isPending(h.blobUri())?c(h):f(h,t.handler,m)}))},d=function(p,m){return!t.url&&l(t.handler)?i():v(p,m)};return Pe(t.handler)===!1&&(t.handler=a),{upload:d}},ob=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},ub=function(e,t){return oP(t,{url:Kk(e),basePath:Gk(e),credentials:Xk(e),handler:Yk(e)})},uP=function(e){var t=ab(),n=ub(e,t);return{upload:function(r,a){return a===void 0&&(a=!0),n.upload(r,a?ob(e):void 0)}}},sP=function(e){var t=dt(null);e.on("change AddUndo",function(r){t.set(oe({},r.level))});var n=function(){var r=e.undoManager.data;Sr(r).filter(function(a){return!lu(t.get(),a)}).each(function(a){e.setDirty(!0),e.fire("change",{level:a,lastLevel:os(r,r.length-2).getOrNull()})})};return{fireIfChanged:n}},fP=function(e){var t=iP(),n,r,a=ab(),i=[],o=sP(e),u=function(S){return function(C){return e.selection?S(C):[]}},s=function(S){return S+(S.indexOf("?")===-1?"?":"&")+new Date().getTime()},f=function(S,C,x){var B=0;do B=S.indexOf(C,B),B!==-1&&(S=S.substring(0,B)+x+S.substr(B+C.length),B+=x.length-C.length+1);while(B!==-1);return S},l=function(S,C,x){var B='src="'+x+'"'+(x===fe.transparentSrc?' data-mce-placeholder="1"':"");return S=f(S,'src="'+C+'"',B),S=f(S,'data-mce-src="'+C+'"','data-mce-src="'+x+'"'),S},c=function(S,C){Q(e.undoManager.data,function(x){x.type==="fragmented"?x.fragments=Oe(x.fragments,function(B){return l(B,S,C)}):x.content=l(x.content,S,C)})},v=function(S,C){var x=e.convertURL(C,"src");c(S.src,C),e.$(S).attr({src:qk(e)?s(C):C,"data-mce-src":x})},d=function(S){return n||(n=ub(e,a)),y().then(u(function(C){var x=Oe(C,function(B){return B.blobInfo});return n.upload(x,ob(e)).then(u(function(B){var L=[],re=Oe(B,function(j,D){var te=C[D].blobInfo,z=C[D].image;return j.status&&Wk(e)?(t.removeByUri(z.src),Un(e)||v(z,j.url)):j.error&&(j.error.options.remove&&(c(z.getAttribute("src"),fe.transparentSrc),L.push(z)),XO(e,j.error.message)),{element:z,status:j.status,uploadUri:j.url,blobInfo:te}});return re.length>0&&o.fireIfChanged(),L.length>0&&(Un(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){Q(L,function(j){e.dom.remove(j),t.removeByUri(j.src)})})),S&&S(re),re}))}))},p=function(S){if(Mp(e))return d(S)},m=function(S){if(Xa(i,function(x){return x(S)})===!1)return!1;if(S.getAttribute("src").indexOf("data:")===0){var C=Vk(e);return C(S)}return!0},h=function(S){i.push(S)},y=function(){return r||(r=OD(a,t)),r.findAll(e.getBody(),m).then(u(function(S){return S=he(S,function(C){return typeof C=="string"?(hu(e,C),!1):!0}),Un(e)||Q(S,function(C){c(C.image.src,C.blobInfo.blobUri()),C.image.src=C.blobInfo.blobUri(),C.image.removeAttribute("data-mce-src")}),S}))},g=function(){t.destroy(),a.destroy(),r=n=null},E=function(S){return S.replace(/src="(blob:[^"]+)"/g,function(C,x){var B=a.getResultUri(x);if(B)return'src="'+B+'"';var L=t.getByUri(x);if(L||(L=Zt(e.editorManager.get(),function(j,D){return j||D.editorUpload&&D.editorUpload.blobCache.getByUri(x)},null)),L){var re=L.blob();return'src="data:'+re.type+";base64,"+L.base64()+'"'}return C})};return e.on("SetContent",function(){Mp(e)?p():y()}),e.on("RawSaveContent",function(S){S.content=E(S.content)}),e.on("GetContent",function(S){S.source_view||S.format==="raw"||S.format==="tree"||(S.content=E(S.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(S){Q(S,function(C){var x=C.attr("src");if(!t.getByUri(x)){var B=a.getResultUri(x);B&&C.attr("src",B)}})})}),{blobCache:t,addFilter:h,uploadImages:d,uploadImagesAuto:p,scanForImages:y,destroy:g}},lP=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(n,r,a){return ie(n)&&n.hasAttribute("href")},onformat:function(n,r,a){_.each(a,function(i,o){e.setAttrib(n,o,i)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(n){var r;return(r=n==null?void 0:n.customValue)!==null&&r!==void 0?r:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return _.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(n){t[n]={block:n,remove:"all"}}),t},cP=function(e){var t={},n=function(o){return Ne(o)?t[o]:t},r=function(o){return ge(t,o)},a=function(o,u){o&&(Ve(o)?(qt(u)||(u=[u]),Q(u,function(s){Nt(s.deep)&&(s.deep=!_t(s)),Nt(s.split)&&(s.split=!_t(s)||Je(s)),Nt(s.remove)&&_t(s)&&!Je(s)&&(s.remove="none"),_t(s)&&Je(s)&&(s.mixed=!0,s.block_expand=!0),Ve(s.classes)&&(s.classes=s.classes.split(/\s+/))}),t[o]=u):Ie(o,function(s,f){a(f,s)}))},i=function(o){return o&&t[o]&&delete t[o],t};return a(lP(e.dom)),a(ux(e)),{get:n,has:r,register:a,unregister:i}},bu=_.each,pt=Te.DOM,sb=function(e,t){var n,r,a,i=t&&t.schema||Jn({}),o=function(l,c){c.classes.length&&pt.addClass(l,c.classes.join(" ")),pt.setAttribs(l,c.attrs)},u=function(l){r=typeof l=="string"?{name:l,classes:[],attrs:{}}:l;var c=pt.create(r.name);return o(c,r),c},s=function(l,c){var v=typeof l!="string"?l.nodeName.toLowerCase():l,d=i.getElementRule(v),p=d&&d.parentsRequired;return p&&p.length?c&&_.inArray(p,c)!==-1?c:p[0]:!1},f=function(l,c,v){var d,p,m=c.length>0&&c[0],h=m&&m.name,y=s(l,h);if(y)h===y?(p=c[0],c=c.slice(1)):p=y;else if(m)p=c[0],c=c.slice(1);else if(!v)return l;return p&&(d=u(p),d.appendChild(l)),v&&(d||(d=pt.create("div"),d.appendChild(l)),_.each(v,function(g){var E=u(g);d.insertBefore(E,l)})),f(d,c,p&&p.siblings)};return e&&e.length?(r=e[0],n=u(r),a=pt.create("div"),a.appendChild(f(n,e.slice(1),r.siblings)),a):""},vP=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=_.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(r,a,i,o,u){switch(a){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":_.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(n.attrs[i]=i);break}if(o==="["){var s=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=t||"div",n},dP=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),_.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=_.map(t.split(/(?:~\+|~|\+)/),vP),r=n.pop();return n.length&&(r.siblings=n),r}).reverse())},pP=function(e,t){var n,r,a="",i,o=sx(e);if(o==="")return"";var u=function(c){return c.replace(/%(\w+)/g,"")};if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var s=Ke(t,"preview");if(ro(s,!1))return"";o=s.getOr(o)}n=t.block||t.inline||"span";var f=dP(t.selector);f.length?(f[0].name||(f[0].name=n),n=t.selector,r=sb(f,e)):r=sb([n],e);var l=pt.select(n,r)[0]||r.firstChild;return bu(t.styles,function(c,v){var d=u(c);d&&pt.setStyle(l,v,d)}),bu(t.attributes,function(c,v){var d=u(c);d&&pt.setAttrib(l,v,d)}),bu(t.classes,function(c){var v=u(c);pt.hasClass(l,v)||pt.addClass(l,v)}),e.fire("PreviewFormats"),pt.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=pt.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,bu(o.split(" "),function(c){var v=pt.getStyle(l,c,!0);if(!(c==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)&&(v=pt.getStyle(e.getBody(),c,!0),pt.toHex(v).toLowerCase()==="#ffffff"))&&!(c==="color"&&pt.toHex(v).toLowerCase()==="#000000")){if(c==="font-size"&&/em|%$/.test(v)){if(i===0)return;var d=parseFloat(v)/(/%$/.test(v)?100:1);v=d*i+"px"}c==="border"&&v&&(a+="padding:0 2px;"),a+=c+":"+v+";"}}),e.fire("AfterPreviewFormats"),pt.remove(r),a},mP=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},fb=function(e){var t=cP(e),n=dt(null);return mP(e),cB(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(r,a,i){rD(e,r,a,i)},remove:function(r,a,i,o){aD(e,r,a,i,o)},toggle:function(r,a,i){iD(e,r,a,i)},match:function(r,a,i,o){return Z_(e,r,a,i,o)},closest:function(r){return nD(e,r)},matchAll:function(r,a){return J_(e,r,a)},matchNode:function(r,a,i,o){return eD(e,r,a,i,o)},canApply:function(r){return tD(e,r)},formatChanged:function(r,a,i,o){return oD(e,n,r,a,i,o)},getCssText:X(pP,e)}},lb=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},hP=function(e,t,n){var r=dt(!1),a=function(s){cu(t,!1,n),t.add({},s)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(s){var f=s.command;lb(f)||(Dg(t,n),t.beforeChange())}),e.on("ExecCommand",function(s){var f=s.command;lb(f)||a(s)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",function(s){var f=s.keyCode;s.isDefaultPrevented()||((f>=33&&f<=36||f>=37&&f<=40||f===45||s.ctrlKey)&&(a(),e.nodeChanged()),(f===46||f===8)&&e.nodeChanged(),r.get()&&t.typing&&lu(Yl(e),t.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(s){var f=s.keyCode;if(!s.isDefaultPrevented()){if(f>=33&&f<=36||f>=37&&f<=40||f===45){t.typing&&a(s);return}var l=s.ctrlKey&&!s.altKey||s.metaKey;(f<16||f>20)&&f!==224&&f!==91&&!t.typing&&!l&&(t.beforeChange(),cu(t,!0,n),t.add({},s),r.set(!0))}}),e.on("mousedown",function(s){t.typing&&a(s)});var i=function(s){return s.inputType==="insertReplacementText"},o=function(s){return s.inputType==="insertText"&&s.data===null},u=function(s){return s.inputType==="insertFromPaste"||s.inputType==="insertFromDrop"};e.on("input",function(s){s.inputType&&(i(s)||o(s)||u(s))&&a(s)}),e.on("AddUndo Undo Redo ClearUndos",function(s){s.isDefaultPrevented()||e.nodeChanged()})},gP=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},cb=function(e){var t=wa(),n=dt(0),r=dt(0),a={data:[],typing:!1,beforeChange:function(){z_(e,n,t)},add:function(i,o){return H_(e,a,r,n,t,i,o)},undo:function(){return V_(e,a,n,r)},redo:function(){return q_(e,r,a.data)},clear:function(){W_(e,a,r)},reset:function(){j_(e,a)},hasUndo:function(){return K_(e,a,r)},hasRedo:function(){return G_(e,a,r)},transact:function(i){return X_(e,a,n,i)},ignore:function(i){Y_(e,n,i)},extra:function(i,o){Q_(e,a,r,i,o)}};return Un(e)||hP(e,a,n),gP(e),a},bP=[9,27,ae.HOME,ae.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ae.DOWN,ae.UP,ae.LEFT,ae.RIGHT].concat(fe.browser.isFirefox()?[224]:[]),vb="data-mce-placeholder",db=function(e){return e.type==="keydown"||e.type==="keyup"},pb=function(e){var t=e.keyCode;return t===ae.BACKSPACE||t===ae.DELETE},yP=function(e){if(db(e)){var t=e.keyCode;return!pb(e)&&(ae.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||et(bP,t))}else return!1},CP=function(e){return db(e)&&!(pb(e)||e.type==="keyup"&&e.keyCode===229)},wP=function(e,t,n){if(Ye(k.fromDom(t),!1)){var r=n==="",a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:r?!e.isBlock(a):n===a.nodeName.toLowerCase():!0}else return!1},SP=function(e){var t=e.dom,n=lt(e),r=ax(e),a=function(i,o){if(!yP(i)){var u=e.getBody(),s=CP(i)?!1:wP(t,u,n),f=t.getAttrib(u,vb)!=="";(f!==s||o)&&(t.setAttrib(u,vb,s?r:null),t.setAttrib(u,"aria-placeholder",s?r:null),j1(e,s),e.on(s?"keydown":"keyup",a),e.off(s?"keyup":"keydown",a))}};r&&e.on("init",function(i){a(i,!0),e.on("change SetContent ExecCommand",a),e.on("paste",function(o){return ut.setEditorTimeout(e,function(){return a(o)})})})},EP=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,kP=function(e){return EP.test(e)},Hr=function(e,t){return aa(k.fromDom(t),nx(e))},xP=function(e){return Te.DOM.getStyle(e,"direction",!0)==="rtl"||kP(e.textContent)},TP=function(e,t,n){return he(Te.DOM.getParents(n.container(),"*",t),e)},mr=function(e,t,n){var r=TP(e,t,n);return b.from(r[r.length-1])},NP=function(e,t,n){var r=fr(t,e),a=fr(n,e);return r&&r===a},AP=function(e){return Ps(e)||Is(e)},Ht=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?da(n)?Z(n.nextSibling)?R(n.nextSibling,0):R.after(n):Ps(t)?R(n,r+1):t:da(n)?Z(n.previousSibling)?R(n.previousSibling,n.previousSibling.data.length):R.before(n):Is(t)?R(n,r-1):t},mb=X(Ht,!0),hb=X(Ht,!1),RP=function(e){return function(t){return Ae(e,k.fromDom(t.dom.parentNode))}},BP=function(e){return bd(e)||ui(e)},yu=function(e,t){return Wn(e,t)?io(t,BP,RP(e)):b.none()},_P=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},gb=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),_P(e))},DP=function(e,t,n){return kt(St(n),xn(n),function(r,a){var i=Ht(!0,r),o=Ht(!1,a),u=Ht(!1,t);return e?sn(n,u).exists(function(s){return s.isEqual(o)&&t.isEqual(i)}):kn(n,u).exists(function(s){return s.isEqual(i)&&t.isEqual(o)})}).getOr(!0)},OP=function(e,t){return{block:e,position:t}},PP=function(e,t){return{from:e,to:t}},lc=function(e,t){var n=k.fromDom(e),r=k.fromDom(t.container());return yu(n,r).map(function(a){return OP(a,t)})},IP=function(e){return Ae(e.from.block,e.to.block)===!1},$P=function(e){return en(e.from.block).bind(function(t){return en(e.to.block).filter(function(n){return Ae(t,n)})}).isSome()},LP=function(e){return De(e.from.block.dom)===!1&&De(e.to.block.dom)===!1},FP=function(e,t,n){return Me(n.position.getNode())&&Ye(n.block)===!1?Ra(!1,n.block.dom).bind(function(r){return r.isEqual(n.position)?Ut(t,e,r).bind(function(a){return lc(e,a)}):b.some(n)}).getOr(n):n},MP=function(e,t,n){var r=lc(e,R.fromRangeStart(n)),a=r.bind(function(i){return Ut(t,e,i.position).bind(function(o){return lc(e,o).map(function(u){return FP(e,t,u)})})});return kt(r,a,PP).filter(function(i){return IP(i)&&$P(i)&&LP(i)})},UP=function(e,t,n){return n.collapsed?MP(e,t,n):b.none()},zP=function(e){var t=Kt(e);return ji(t,bn).fold(Y(t),function(n){return t.slice(0,n)})},bb=function(e){var t=zP(e);return Q(t,nt),t},yb=function(e,t){var n=Mn(t,e);return tt(n.reverse(),function(r){return Ye(r)}).each(nt)},HP=function(e){return he(zv(e),function(t){return!Ye(t)}).length===0},VP=function(e,t,n,r){if(Ye(n))return Mr(n),St(n.dom);HP(r)&&Ye(t)&&tn(r,k.fromTag("br"));var a=kn(n.dom,R.before(r.dom));return Q(bb(t),function(i){tn(r,i)}),yb(e,t),a},qP=function(e,t,n){if(Ye(n))return nt(n),Ye(t)&&Mr(t),St(t.dom);var r=xn(n.dom);return Q(bb(t),function(a){it(n,a)}),yb(e,t),r},WP=function(e,t){var n=Mn(t,e);return b.from(n[n.length-1])},jP=function(e,t){return Wn(t,e)?WP(t,e):b.none()},Cb=function(e,t){Ra(e,t.dom).map(function(n){return n.getNode()}).map(k.fromDom).filter(la).each(nt)},wb=function(e,t,n){return Cb(!0,t),Cb(!1,n),jP(t,n).fold(X(qP,e,t,n),X(VP,e,t,n))},Sb=function(e,t,n,r){return t?wb(e,r,n):wb(e,n,r)},Cu=function(e,t){var n=k.fromDom(e.getBody()),r=UP(n.dom,t,e.selection.getRng()).bind(function(a){return Sb(n,t,a.from.block,a.to.block)});return r.each(function(a){e.selection.setRng(a.toRange())}),r.isSome()},KP=function(e,t){var n=t.getRng();return kt(yu(e,k.fromDom(n.startContainer)),yu(e,k.fromDom(n.endContainer)),function(r,a){return Ae(r,a)===!1?(n.deleteContents(),Sb(e,!0,r,a).each(function(i){t.setRng(i.toRange())}),!0):!1}).getOr(!1)},Eb=function(e,t){var n=k.fromDom(t),r=X(Ae,e);return oi(n,so,r).isSome()},GP=function(e,t){return Eb(e,t.startContainer)||Eb(e,t.endContainer)},XP=function(e,t){var n=kn(e.dom,R.fromRangeStart(t)).isNone(),r=sn(e.dom,R.fromRangeEnd(t)).isNone();return!GP(e,t)&&n&&r},YP=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},QP=function(e){var t=k.fromDom(e.getBody()),n=e.selection.getRng();return XP(t,n)?YP(e):KP(t,e.selection)},wu=function(e,t){return e.selection.isCollapsed()?!1:QP(e)},ZP=hn,JP=De,zn=function(e,t,n,r,a){return b.from(t._selectionOverrides.showCaret(e,n,r,a))},eI=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Ha=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?b.none():b.some(eI(t))},kb=function(e,t,n){var r=Tf(1,e.getBody(),t),a=R.fromRangeStart(r),i=a.getNode();if(Ci(i))return zn(1,e,i,!a.isAtEnd(),!1);var o=a.getNode(!0);if(Ci(o))return zn(1,e,o,!1,!1);var u=e.dom.getParent(a.getNode(),function(s){return JP(s)||ZP(s)});return Ci(u)?zn(1,e,u,!1,n):b.none()},cc=function(e,t,n){return t.collapsed?kb(e,t,n).getOr(t):t},tI=function(e){return vr(e)||La(e)},nI=function(e){return dr(e)||Fa(e)},rI=function(e,t){Z(t)&&t.data.length===0&&e.remove(t)},xb=function(e,t,n,r,a,i){return zn(r,e,i.getNode(!a),a,!0).each(function(o){if(t.collapsed){var u=t.cloneRange();a?u.setEnd(o.startContainer,o.startOffset):u.setStart(o.endContainer,o.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(o)}),rI(e.dom,n),!0},aI=function(e,t){var n=e.selection.getRng();if(!Z(n.commonAncestorContainer))return!1;var r=t?Ze.Forwards:Ze.Backwards,a=un(e.getBody()),i=X(Nf,t?a.next:a.prev),o=t?tI:nI,u=Ei(r,e.getBody(),n),s=Ht(t,i(u));if(!s||!Lo(u,s))return!1;if(o(s))return xb(e,n,u.getNode(),r,t,s);var f=i(s);return f&&o(f)&&Lo(s,f)?xb(e,n,u.getNode(),r,t,f):!1},Su=function(e,t){return aI(e,t)},iI=function(e){return so(k.fromDom(e))||ui(k.fromDom(e))},Dt=Gn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),oI=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return ie(n)&&n.getAttribute("data-mce-caret")===r},uI=function(e,t,n,r){var a=function(i){return _s(k.fromDom(i))&&!Sn(n,r,e)};return im(!t,n).fold(function(){return im(t,r).fold(Be,a)},a)},Tb=function(e,t,n,r){var a=r.getNode(t===!1);return yu(k.fromDom(e),k.fromDom(n.getNode())).map(function(i){return Ye(i)?Dt.remove(i.dom):Dt.moveToElement(a)}).orThunk(function(){return b.some(Dt.moveToElement(a))})},Nb=function(e,t,n){return Ut(t,e,n).bind(function(r){return iI(r.getNode())||uI(e,t,n,r)?b.none():t&&De(r.getNode())||t===!1&&De(r.getNode(!0))?Tb(e,t,n,r):t&&dr(n)||t===!1&&vr(n)?b.some(Dt.moveToPosition(r)):b.none()})},sI=function(e,t){return e&&De(t.nextSibling)?b.some(Dt.moveToElement(t.nextSibling)):e===!1&&De(t.previousSibling)?b.some(Dt.moveToElement(t.previousSibling)):b.none()},fI=function(e,t,n){return n.fold(function(r){return b.some(Dt.remove(r))},function(r){return b.some(Dt.moveToElement(r))},function(r){return Sn(t,r,e)?b.none():b.some(Dt.moveToPosition(r))})},lI=function(e,t,n){return oI(t,n)?sI(t,n.getNode(t===!1)).fold(function(){return Nb(e,t,n)},b.some):Nb(e,t,n).bind(function(r){return fI(e,n,r)})},cI=function(e,t,n){var r=Tf(t?1:-1,e,n),a=R.fromRangeStart(r),i=k.fromDom(e);return t===!1&&dr(a)?b.some(Dt.remove(a.getNode(!0))):t&&vr(a)?b.some(Dt.remove(a.getNode())):t===!1&&vr(a)&&hl(i,a)?iA(i,a).map(function(o){return Dt.remove(o.getNode())}):t&&dr(a)&&ml(i,a)?oA(i,a).map(function(o){return Dt.remove(o.getNode())}):lI(e,t,a)},vI=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Ur(e,t,k.fromDom(n)),!0}},dI=function(e,t){return function(n){var r=t?R.before(n):R.after(n);return e.selection.setRng(r.toRange()),!0}},pI=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},Ab=function(e,t){return b.from(Ia(e.getBody(),t))},mI=function(e,t){var n=e.selection.getNode();return Ab(e,n).filter(De).fold(function(){return cI(e.getBody(),t,e.selection.getRng()).exists(function(r){return r.fold(vI(e,t),dI(e,t),pI(e))})},je)},hI=function(e){Q(xt(e,".mce-offscreen-selection"),nt)},gI=function(e,t){var n=e.selection.getNode();if(De(n)&&!no(n)){var r=Ab(e,n.parentNode).filter(De);return r.fold(function(){return hI(k.fromDom(e.getBody())),Ur(e,t,k.fromDom(e.selection.getNode())),gb(e),!0},je)}return!1},Rb=function(e){var t=e.dom,n=e.selection,r=Ia(e.getBody(),n.getNode());if(hn(r)&&t.isBlock(r)&&t.isEmpty(r)){var a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),n.setRng(R.before(a).toRange())}return!0},Eu=function(e,t){return e.selection.isCollapsed()?mI(e,t):gI(e,t)},bI=function(e,t){var n=R.fromRangeStart(e.selection.getRng());return Ut(t,e.getBody(),n).filter(function(r){return t?XN(r):YN(r)}).bind(function(r){return b.from(xf(t?0:-1,r))}).exists(function(r){return e.selection.select(r),!0})},ku=function(e,t){return e.selection.isCollapsed()?bI(e,t):!1},Va=Z,Bb=function(e){return Va(e)&&e.data[0]===rt},_b=function(e){return Va(e)&&e.data[e.data.length-1]===rt},Db=function(e){return e.ownerDocument.createTextNode(rt)},yI=function(e){if(Va(e.previousSibling))return _b(e.previousSibling)||e.previousSibling.appendData(rt),e.previousSibling;if(Va(e))return Bb(e)||e.insertData(0,rt),e;var t=Db(e);return e.parentNode.insertBefore(t,e),t},CI=function(e){if(Va(e.nextSibling))return Bb(e.nextSibling)||e.nextSibling.insertData(0,rt),e.nextSibling;if(Va(e))return _b(e)||e.appendData(rt),e;var t=Db(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},xu=function(e,t){return e?yI(t):CI(t)},wI=X(xu,!0),SI=X(xu,!1),Ob=function(e,t){return Z(e.container())?xu(t,e.container()):xu(t,e.getNode())},Pb=function(e,t){var n=t.get();return n&&e.container()===n&&da(n)},vc=function(e,t){return t.fold(function(n){Pr(e.get());var r=wI(n);return e.set(r),b.some(R(r,r.length-1))},function(n){return St(n).map(function(r){if(Pb(r,e))return R(e.get(),1);Pr(e.get());var a=Ob(r,!0);return e.set(a),R(a,1)})},function(n){return xn(n).map(function(r){if(Pb(r,e))return R(e.get(),e.get().length-1);Pr(e.get());var a=Ob(r,!1);return e.set(a),R(a,a.length-1)})},function(n){Pr(e.get());var r=SI(n);return e.set(r),b.some(R(r,1))})},Ib=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return b.none()},mt=Gn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),$b=function(e,t){var n=fr(t,e);return n||e},EI=function(e,t,n){var r=mb(n),a=$b(t,r.container());return mr(e,a,r).fold(function(){return sn(a,r).bind(X(mr,e,a)).map(function(i){return mt.before(i)})},b.none)},kI=function(e,t){return Lr(e,t)===null},Lb=function(e,t,n){return mr(e,t,n).filter(X(kI,t))},xI=function(e,t,n){var r=hb(n);return Lb(e,t,r).bind(function(a){var i=kn(a,r);return i.isNone()?b.some(mt.start(a)):b.none()})},TI=function(e,t,n){var r=mb(n);return Lb(e,t,r).bind(function(a){var i=sn(a,r);return i.isNone()?b.some(mt.end(a)):b.none()})},NI=function(e,t,n){var r=hb(n),a=$b(t,r.container());return mr(e,a,r).fold(function(){return kn(a,r).bind(X(mr,e,a)).map(function(i){return mt.after(i)})},b.none)},Fb=function(e){return xP(dc(e))===!1},Rn=function(e,t,n){var r=Ib([EI,xI,TI,NI],[e,t,n]);return r.filter(Fb)},dc=function(e){return e.fold(At,At,At,At)},Mb=function(e){return e.fold(Y("before"),Y("start"),Y("end"),Y("after"))},Tu=function(e){return e.fold(mt.before,mt.before,mt.after,mt.after)},pc=function(e){return e.fold(mt.start,mt.start,mt.end,mt.end)},AI=function(e,t){return Mb(e)===Mb(t)&&dc(e)===dc(t)},RI=function(e,t,n,r,a,i){return kt(mr(t,n,r),mr(t,n,a),function(o,u){return o!==u&&NP(n,o,u)?mt.after(e?o:u):i}).getOr(i)},BI=function(e,t){return e.fold(je,function(n){return!AI(n,t)})},_I=function(e,t,n,r,a){var i=Ht(e,a),o=Ut(e,n,i).map(X(Ht,e)),u=o.fold(function(){return r.map(Tu)},function(s){return Rn(t,n,s).map(X(RI,e,t,n,i,s)).filter(X(BI,r))});return u.filter(Fb)},DI=function(e,t){return e?t.fold(wr(b.some,mt.start),b.none,wr(b.some,mt.after),b.none):t.fold(b.none,wr(b.some,mt.before),b.none,wr(b.some,mt.end))},mc=function(e,t,n,r){var a=Ht(e,r),i=Rn(t,n,a);return Rn(t,n,a).bind(X(DI,e)).orThunk(function(){return _I(e,t,n,i,r)})};X(mc,!1),X(mc,!0);var OI=function(e){return Pe(e.selection.getSel().modify)},Ub=function(e,t,n){var r=e?1:-1;return t.setRng(R(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},PI=function(e,t){var n=t.selection.getRng(),r=e?R.fromRangeEnd(n):R.fromRangeStart(n);return OI(t)?e&&Ps(r)?Ub(!0,t.selection,r):!e&&Is(r)?Ub(!1,t.selection,r):!1:!1},Bn;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Bn||(Bn={}));var Nu=function(e,t){return e===Ze.Backwards?Ki(t):t},II=function(e,t,n){return e===Ze.Forwards?t.next(n):t.prev(n)},$I=function(e,t,n,r){return Me(r.getNode(t===Ze.Forwards))?Bn.Br:Sn(n,r)===!1?Bn.Block:Bn.Wrap},zb=function(e,t,n,r){for(var a=un(n),i=r,o=[];i;){var u=II(t,a,i);if(!u)break;if(Me(u.getNode(!1)))return t===Ze.Forwards?{positions:Nu(t,o).concat([u]),breakType:Bn.Br,breakAt:b.some(u)}:{positions:Nu(t,o),breakType:Bn.Br,breakAt:b.some(u)};if(!u.isVisible()){i=u;continue}if(e(i,u)){var s=$I(n,t,i,u);return{positions:Nu(t,o),breakType:s,breakAt:b.some(u)}}o.push(u),i=u}return{positions:Nu(t,o),breakType:Bn.Eol,breakAt:b.none()}},Hb=function(e,t,n,r){return t(n,r).breakAt.map(function(a){var i=t(n,a).positions;return e===Ze.Backwards?i.concat(a):[a].concat(i)}).getOr([])},hc=function(e,t){return Zt(e,function(n,r){return n.fold(function(){return b.some(r)},function(a){return kt(It(a.getClientRects()),It(r.getClientRects()),function(i,o){var u=Math.abs(t-i.left),s=Math.abs(t-o.left);return s<=u?r:a}).or(n)})},b.none())},Vb=function(e,t){return It(t.getClientRects()).bind(function(n){return hc(e,n.left)})},Ii=X(zb,R.isAbove,-1),$i=X(zb,R.isBelow,1),LI=X(Hb,-1,Ii),FI=X(Hb,1,$i),MI=function(e,t){return Ii(e,t).breakAt.isNone()},UI=function(e,t){return $i(e,t).breakAt.isNone()},zI=function(e){return St(e).map(function(t){return[t].concat($i(e,t).positions)}).getOr([])},HI=function(e){return xn(e).map(function(t){return Ii(e,t).positions.concat(t)}).getOr([])},VI=function(e){var t=function(r){return Oe(r,function(a){var i=Dr(a);return i.node=e,i})};if(ie(e))return t(e.getClientRects());if(Z(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},gc=function(e){return ea(e,VI)},Vr;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Vr||(Vr={}));var qI=function(e,t,n,r){for(;r=Na(r,e,po,t);)if(n(r))return},qb=function(e,t,n,r,a,i){var o=0,u=[],s=function(c){var v=gc([c]);e===-1&&(v=v.reverse());for(var d=0;d<v.length;d++){var p=v[d];if(!n(p,f)){if(u.length>0&&t(p,qn(u))&&o++,p.line=o,a(p))return!0;u.push(p)}}},f=qn(i.getClientRects());if(!f)return u;var l=i.getNode();return s(l),qI(e,r,s,l),u},WI=function(e,t){return t.line>e},jI=function(e,t){return t.line===e},KI=X(qb,Vr.Up,ka,xa),GI=X(qb,Vr.Down,xa,ka),XI=function(e,t,n,r){var a=un(t),i,o,u,s,f=[],l=0,c=function(m){return qn(m.getClientRects())};e===1?(i=a.next,o=xa,u=ka,s=R.after(r)):(i=a.prev,o=ka,u=xa,s=R.before(r));var v=c(s);do if(!!s.isVisible()){var d=c(s);if(!u(d,v)){f.length>0&&o(d,qn(f))&&l++;var p=Dr(d);if(p.position=s,p.line=l,n(p))return f;f.push(p)}}while(s=i(s));return f},Wb=function(e){return function(t){return WI(e,t)}},bc=function(e){return function(t){return jI(e,t)}},YI=De,jb=Na,yc=function(e,t){return Math.abs(e.left-t)},Cc=function(e,t){return Math.abs(e.right-t)},Kb=function(e,t){return e>=t.left&&e<=t.right},QI=function(e,t){return e>=t.top&&e<=t.bottom},ZI=function(e){return na(e,"node")},Au=function(e,t,n){return n===void 0&&(n=je),Gi(e,function(r,a){if(Kb(t,a))return n(a)?a:r;if(Kb(t,r))return n(r)?r:a;var i=Math.min(yc(r,t),Cc(r,t)),o=Math.min(yc(a,t),Cc(a,t));return o===i&&ZI(a)&&YI(a.node)||o<i?a:r})},Gb=function(e,t,n,r,a){var i=jb(r,e,po,t,!a);do if(!i||n(i))return;while(i=jb(i,e,po,t))},JI=function(e,t,n){n===void 0&&(n=!0);var r=[],a=function(i,o){var u=he(gc([o]),function(s){return!i(s,t)});return r=r.concat(u),u.length===0};return r.push(t),Gb(Vr.Up,e,X(a,ka),t.node,n),Gb(Vr.Down,e,X(a,xa),t.node,n),r},e$=function(e){return he(pn(e.getElementsByTagName("*")),Ir)},t$=function(e,t){return{node:e.node,before:yc(e,t)<Cc(e,t)}},n$=function(e,t,n){var r=gc(e$(e)),a=he(r,X(QI,n)),i=function(s){return!ua(s.node)&&!Xt(s.node)},o=Au(a,t,i);if(o){var u=i(o);if(o=Au(JI(e,o,u),t,i),o&&Ir(o.node))return t$(o,t)}return null},Hn=function(e,t){e.selection.setRng(t),Ri(e,e.selection.getRng())},wc=function(e,t,n){return b.some(cc(e,t,n))},Xb=function(e,t,n,r,a,i){var o=t===Ze.Forwards,u=un(e.getBody()),s=X(Nf,o?u.next:u.prev),f=o?r:a;if(!n.collapsed){var l=_o(n);if(i(l))return zn(t,e,l,t===Ze.Backwards,!1)}var c=Ei(t,e.getBody(),n);if(f(c))return Ha(e,c.getNode(!o));var v=Ht(o,s(c)),d=Cd(n);if(!v)return d?b.some(n):b.none();if(f(v))return zn(t,e,v.getNode(!o),o,!1);var p=s(v);return p&&f(p)&&Lo(v,p)?zn(t,e,p.getNode(!o),o,!1):d?wc(e,v.toRange(),!1):b.none()},Yb=function(e,t,n,r,a,i){var o=Ei(t,e.getBody(),n),u=qn(o.getClientRects()),s=t===Vr.Down;if(!u)return b.none();var f=s?GI:KI,l=f(e.getBody(),Wb(1),o),c=he(l,bc(1)),v=u.left,d=Au(c,v);if(d&&i(d.node)){var p=Math.abs(v-d.left),m=Math.abs(v-d.right);return zn(t,e,d.node,p<m,!1)}var h;if(r(o)?h=o.getNode():a(o)?h=o.getNode(!0):h=_o(n),h){var y=XI(t,e.getBody(),Wb(1),h),g=Au(he(y,bc(1)),v);if(g||(g=qn(he(y,bc(0))),g))return wc(e,g.position.toRange(),!1)}return c.length===0?Sc(e,s).filter(s?a:r).map(function(E){return cc(e,E.toRange(),!1)}):b.none()},Sc=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var a=R.fromRangeEnd(n),i=$i(r,a);return Sr(i.positions)}else{var a=R.fromRangeStart(n),i=Ii(r,a);return It(i.positions)}},Qb=function(e,t,n){return Sc(e,t).filter(n).exists(function(r){return e.selection.setRng(r.toRange()),!0})},Ru=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Zb=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Jb=function(e,t,n){return vc(t,n).map(function(r){return Ru(e,r),n})},r$=function(e,t,n){var r=e.getBody(),a=R.fromRangeStart(e.selection.getRng()),i=X(Hr,e),o=mc(n,i,r,a);return o.bind(function(u){return Jb(e,t,u)})},a$=function(e,t,n){var r=Oe(xt(k.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(o){return o.dom}),a=he(r,e),i=he(n,e);Q(tv(a,i),X(Zb,!1)),Q(tv(i,a),X(Zb,!0))},i$=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=R.fromRangeStart(e.selection.getRng());R.isTextPosition(n)&&AP(n)===!1&&(Ru(e,Px(t.get(),n)),t.set(null))}},o$=function(e,t,n,r){if(t.selection.isCollapsed()){var a=he(r,e);Q(a,function(i){var o=R.fromRangeStart(t.selection.getRng());Rn(e,t.getBody(),o).bind(function(u){return Jb(t,n,u)})})}},ey=function(e,t,n){return yi(e)?r$(e,t,n).isSome():!1},ty=function(e,t,n){return yi(t)?PI(e,t):!1},u$=function(e){var t=dt(null),n=X(Hr,e);return e.on("NodeChange",function(r){yi(e)&&!(fe.browser.isIE()&&r.initial)&&(a$(n,e.dom,r.parents),i$(e,t),o$(n,e,t,r.parents))}),t},s$=X(ty,!0),f$=X(ty,!1),Bu=function(e,t,n){if(yi(e)){var r=Sc(e,t).getOrThunk(function(){var a=e.selection.getRng();return t?R.fromRangeEnd(a):R.fromRangeStart(a)});return Rn(X(Hr,e),e.getBody(),r).exists(function(a){var i=Tu(a);return vc(n,i).exists(function(o){return Ru(e,o),!0})})}else return!1},l$=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},c$=function(e){return kt(St(e),xn(e),function(t,n){var r=Ht(!0,t),a=Ht(!1,n);return sn(e,r).forall(function(i){return i.isEqual(a)})}).getOr(!0)},ny=function(e,t){return function(n){return vc(t,n).exists(function(r){return Ru(e,r),!0})}},ry=function(e,t,n,r){var a=e.getBody(),i=X(Hr,e);e.undoManager.ignore(function(){e.selection.setRng(l$(n,r)),e.execCommand("Delete"),Rn(i,a,R.fromRangeStart(e.selection.getRng())).map(pc).map(ny(e,t))}),e.nodeChanged()},v$=function(e,t){var n=fr(t,e);return n||e},d$=function(e,t,n,r){var a=v$(e.getBody(),r.container()),i=X(Hr,e),o=Rn(i,a,r);return o.bind(function(u){return n?u.fold(Y(b.some(pc(u))),b.none,Y(b.some(Tu(u))),b.none):u.fold(b.none,Y(b.some(Tu(u))),b.none,Y(b.some(pc(u))))}).map(ny(e,t)).getOrThunk(function(){var u=Mo(n,a,r),s=u.bind(function(f){return Rn(i,a,f)});return kt(o,s,function(){return mr(i,a,r).exists(function(f){return c$(f)?(Ur(e,n,k.fromDom(f)),!0):!1})}).orThunk(function(){return s.bind(function(f){return u.map(function(l){return n?ry(e,t,r,l):ry(e,t,l,r),!0})})}).getOr(!1)})},_u=function(e,t,n){if(e.selection.isCollapsed()&&yi(e)){var r=R.fromRangeStart(e.selection.getRng());return d$(e,t,n,r)}return!1},p$=function(e,t){var n=Mn(t,e);return ji(n,bn).fold(Y(n),function(r){return n.slice(0,r)})},m$=function(e){return qv(e)===1},h$=function(e,t,n,r){var a=X(dB,t),i=Oe(he(r,a),function(u){return u.dom});if(i.length===0)Ur(t,e,n);else{var o=vB(n.dom,i);t.selection.setRng(o.toRange())}},g$=function(e,t){var n=k.fromDom(e.getBody()),r=k.fromDom(e.selection.getStart()),a=he(p$(n,r),m$);return Sr(a).exists(function(i){var o=R.fromRangeStart(e.selection.getRng());return DP(t,o,i.dom)&&!pB(i)?(h$(t,e,i,a),!0):!1})},Du=function(e,t){return e.selection.isCollapsed()?g$(e,t):!1},Ec=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),Ur(e,t,k.fromDom(n)),!0},b$=function(e,t){var n=t?La:Fa,r=t?Ze.Forwards:Ze.Backwards,a=Ei(r,e.getBody(),e.selection.getRng());return n(a)?Ec(e,t,a.getNode(!t)):b.from(Ht(t,a)).filter(function(i){return n(i)&&Lo(a,i)}).exists(function(i){return Ec(e,t,i.getNode(!t))})},y$=function(e,t){var n=e.selection.getNode();return Xt(n)?Ec(e,t,n):!1},Ou=function(e,t){return e.selection.isCollapsed()?b$(e,t):y$(e,t)},C$=function(e){return io(e,function(t){return hn(t.dom)||De(t.dom)}).exists(function(t){return hn(t.dom)})},kc=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},ay=function(e,t){var n=e||Qw(t)?"margin":"padding",r=In(t,"direction")==="rtl"?"-right":"-left";return n+r},w$=function(e,t,n,r,a,i){var o=ay(n,k.fromDom(i));if(t==="outdent"){var u=Math.max(0,kc(i.style[o])-r);e.setStyle(i,o,u?u+a:"")}else{var u=kc(i.style[o])+r+a;e.setStyle(i,o,u)}},S$=function(e,t){return Xa(t,function(n){var r=ay(Vp(e),n),a=xs(n,r).map(kc).getOr(0),i=e.dom.getContentEditable(n.dom);return i!=="false"&&a>0})},iy=function(e){var t=uy(e);return!e.mode.isReadOnly()&&(t.length>1||S$(e,t))},oy=function(e){return Ds(e)||ui(e)},E$=function(e){return en(e).exists(oy)},uy=function(e){return he(nk(e.selection.getSelectedBlocks()),function(t){return!oy(t)&&!E$(t)&&C$(t)})},sy=function(e,t){var n=e.dom,r=e.selection,a=e.formatter,i=Jk(e),o=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=Vp(e),f=lt(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&f===""&&!n.getParent(r.getNode(),n.isBlock)&&a.apply("div"),Q(uy(e),function(l){w$(n,t,s,u,o,l.dom)})},fy=function(e,t){if(e.selection.isCollapsed()&&iy(e)){var n=e.dom,r=e.selection.getRng(),a=R.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(i!==null&&pl(k.fromDom(i),a))return sy(e,"outdent"),!0}return!1},ly=function(e,t){e.getDoc().execCommand(t,!1,null)},k$=function(e,t){if(!fy(e)){if(Eu(e,!1))return;if(Su(e,!1))return;if(_u(e,t,!1))return;if(Cu(e,!1))return;if(iu(e))return;if(ku(e,!1))return;if(Ou(e,!1))return;if(wu(e))return;if(Du(e,!1))return;ly(e,"Delete"),gb(e)}},x$=function(e,t){if(!Eu(e,!0)){if(Su(e,!0))return;if(_u(e,t,!0))return;if(Cu(e,!0))return;if(iu(e))return;if(ku(e,!0))return;if(Ou(e,!0))return;if(wu(e))return;if(Du(e,!0))return;ly(e,"ForwardDelete")}},T$=function(e,t){e.addCommand("delete",function(){k$(e,t)}),e.addCommand("forwardDelete",function(){x$(e,t)})},cy=5,N$=400,vy=function(e){return e.touches===void 0||e.touches.length!==1?b.none():b.some(e.touches[0])},A$=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>cy||r>cy},R$=function(e){var t=wa(),n=dt(!1),r=np(function(a){e.fire("longpress",oe(oe({},a),{type:"longpress"})),n.set(!0)},N$);e.on("touchstart",function(a){vy(a).each(function(i){r.cancel();var o={x:i.clientX,y:i.clientY,target:a.target};r.throttle(a),n.set(!1),t.set(o)})},!0),e.on("touchmove",function(a){r.cancel(),vy(a).each(function(i){t.on(function(o){A$(i,o)&&(t.clear(),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(a){r.cancel(),a.type!=="touchcancel"&&t.get().filter(function(i){return i.target.isEqualNode(a.target)}).each(function(){n.get()?a.preventDefault():e.fire("tap",oe(oe({},a),{type:"tap"}))})},!0)},xc=function(e,t){return ge(e,t.nodeName)},B$=function(e,t){return Z(t)?!0:ie(t)?!xc(e,t)&&!zt(t):!1},_$=function(e,t,n){return yt(Ch(k.fromDom(n),k.fromDom(t)),function(r){return xc(e,r.dom)})},D$=function(e,t){if(Z(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||xc(e,t.nextSibling)))return!0}return!1},O$=function(e){var t=e.dom,n=e.selection,r=e.schema,a=r.getBlockElements(),i=n.getStart(),o=e.getBody(),u,s,f,l=lt(e);if(!(!i||!ie(i)||!l)){var c=o.nodeName.toLowerCase();if(!(!r.isValidChild(c,l.toLowerCase())||_$(a,o,i))){var v=n.getRng(),d=v.startContainer,p=v.startOffset,m=v.endContainer,h=v.endOffset,y=Fr(e);for(i=o.firstChild;i;)if(B$(a,i)){if(D$(a,i)){s=i,i=i.nextSibling,t.remove(s);continue}u||(u=t.create(l,gi(e)),i.parentNode.insertBefore(u,i),f=!0),s=i,i=i.nextSibling,u.appendChild(s)}else u=null,i=i.nextSibling;f&&y&&(v.setStart(d,p),v.setEnd(m,h),n.setRng(v),e.nodeChanged())}}},P$=function(e){lt(e)&&e.on("NodeChange",X(O$,e))},I$=function(e){return uo(k.fromDom(e.getBody()),"*[data-mce-caret]").map(function(t){return t.dom}).getOrNull()},$$=function(e){e.selection.setRng(e.selection.getRng())},dy=function(e,t){t.hasAttribute("data-mce-caret")&&($s(t),$$(e),e.selection.scrollIntoView(t))},L$=function(e,t){var n=I$(e);if(!!n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),dy(e,n);return}yd(n)&&(dy(e,n),e.undoManager.add())}},F$=function(e){e.on("keyup compositionstart",X(L$,e))},py=De,M$=function(e,t,n){return Xb(t,e,n,vr,dr,py)},U$=function(e,t,n){var r=function(i){return vr(i)||bh(i)},a=function(i){return dr(i)||yh(i)};return Yb(t,e,n,r,a,py)},z$=function(e){var t=e.dom.create(lt(e));return(!fe.ie||fe.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},my=function(e,t,n){var r=un(e.getBody()),a=X(Nf,t===1?r.next:r.prev);if(n.collapsed&&bx(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;var o=a(R.fromRangeStart(n));if(!o){var u=z$(e);t===1?e.$(i).after(u):e.$(i).before(u),e.selection.select(u,!0),e.selection.collapse()}}},H$=function(e,t){var n=t?Ze.Forwards:Ze.Backwards,r=e.selection.getRng();return M$(n,e,r).orThunk(function(){return my(e,n,r),b.none()})},V$=function(e,t){var n=t?1:-1,r=e.selection.getRng();return U$(n,e,r).orThunk(function(){return my(e,n,r),b.none()})},hy=function(e,t){return H$(e,t).exists(function(n){return Hn(e,n),!0})},gy=function(e,t){return V$(e,t).exists(function(n){return Hn(e,n),!0})},by=function(e,t){var n=t?dr:vr;return Qb(e,t,n)},q$=function(e){return et(["figcaption"],Ge(e))},yy=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},Cy=function(e,t,n){n?it(e,t):Kv(e,t)},W$=function(e,t){var n=k.fromTag("br");return Cy(e,n,t),yy(n)},j$=function(e,t,n,r){var a=k.fromTag(n),i=k.fromTag("br");return jn(a,r),it(a,i),Cy(e,a,t),yy(i)},K$=function(e,t,n,r){return t===""?W$(e,r):j$(e,r,t,n)},G$=function(e,t){var n=X(Ae,t);return io(k.fromDom(e.container()),bn,n).filter(q$)},X$=function(e,t,n){return t?UI(e.dom,n):MI(e.dom,n)},Y$=function(e,t){var n=k.fromDom(e.getBody()),r=R.fromRangeStart(e.selection.getRng()),a=lt(e),i=gi(e);return G$(r,n).exists(function(){if(X$(n,t,r)){var o=K$(n,a,i,t);return e.selection.setRng(o),!0}else return!1})},wy=function(e,t){return e.selection.isCollapsed()?Y$(e,t):!1},Q$=function(e){return Oe(e,function(t){return oe({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:pe},t)})},Z$=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},J$=function(e,t){return ea(Q$(e),function(n){return Z$(n,t)?[n]:[]})},me=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},qa=function(e,t){return tt(J$(e,t),function(n){return n.action()})},Sy=function(e,t){var n=t?Ze.Forwards:Ze.Backwards,r=e.selection.getRng();return Xb(e,n,r,La,Fa,Xt).exists(function(a){return Hn(e,a),!0})},Ey=function(e,t){var n=t?1:-1,r=e.selection.getRng();return Yb(e,n,r,La,Fa,Xt).exists(function(a){return Hn(e,a),!0})},ky=function(e,t){var n=t?Fa:La;return Qb(e,t,n)},eL=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}},tL=function(e,t){return ea(t,function(n){var r=eL(Dr(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]})},nL=function(e,t,n){return Zt(e,function(r,a){return r.fold(function(){return b.some(a)},function(i){var o=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n)),u=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return b.some(u<o?a:i)})},b.none())},xy=function(e,t,n,r,a){var i=xt(k.fromDom(n),"td,th,caption").map(function(u){return u.dom}),o=he(tL(e,i),function(u){return t(u,a)});return nL(o,r,a).map(function(u){return u.cell})},rL=function(e){return e.bottom},aL=function(e){return e.top},iL=function(e,t){return e.y<t},oL=function(e,t){return e.y>t},uL=X(xy,rL,iL),sL=X(xy,aL,oL),fL=function(e,t){return It(t.getClientRects()).bind(function(n){return uL(e,n.left,n.top)}).bind(function(n){return Vb(HI(n),t)})},lL=function(e,t){return Sr(t.getClientRects()).bind(function(n){return sL(e,n.left,n.top)}).bind(function(n){return Vb(zI(n),t)})},cL=function(e,t,n){return n.breakAt.exists(function(r){return e(t,r).breakAt.isSome()})},vL=function(e){return e.breakType===Bn.Wrap&&e.positions.length===0},dL=function(e){return e.breakType===Bn.Br&&e.positions.length===1},Ty=function(e,t,n){var r=e(t,n);return vL(r)||!Me(n.getNode())&&dL(r)?!cL(e,t,r):r.breakAt.isNone()},pL=X(Ty,Ii),mL=X(Ty,$i),hL=function(e,t,n){var r=R.fromRangeStart(t);return Ra(!e,n).exists(function(a){return a.isEqual(r)})},gL=function(e,t,n,r){var a=e.selection.getRng(),i=t?1:-1;return Jp()&&hL(t,a,n)?(zn(i,e,n,!t,!1).each(function(o){Hn(e,o)}),!0):!1},bL=function(e,t,n){return fL(t,n).orThunk(function(){return It(n.getClientRects()).bind(function(r){return hc(LI(e,R.before(t)),r.left)})}).getOr(R.before(t))},yL=function(e,t,n){return lL(t,n).orThunk(function(){return It(n.getClientRects()).bind(function(r){return hc(FI(e,R.after(t)),r.left)})}).getOr(R.after(t))},Ny=function(e,t){var n=t.getNode(e);return ie(n)&&n.nodeName==="TABLE"?b.some(n):b.none()},CL=function(e,t,n,r){var a=lt(t);a?t.undoManager.transact(function(){var i=k.fromTag(a);jn(i,gi(t)),it(i,k.fromTag("br")),e?ti(k.fromDom(n),i):tn(k.fromDom(n),i);var o=t.dom.createRng();o.setStart(i.dom,0),o.setEnd(i.dom,0),Hn(t,o)}):Hn(t,r.toRange())},Ay=function(e,t,n){var r=Ny(!!t,n),a=t===!1;r.fold(function(){return Hn(e,n.toRange())},function(i){return Ra(a,e.getBody()).filter(function(o){return o.isEqual(n)}).fold(function(){return Hn(e,n.toRange())},function(o){return CL(t,e,i,n)})})},wL=function(e,t,n,r){var a=e.selection.getRng(),i=R.fromRangeStart(a),o=e.getBody();if(!t&&pL(r,i)){var u=bL(o,n,i);return Ay(e,t,u),!0}else if(t&&mL(r,i)){var u=yL(o,n,i);return Ay(e,t,u),!0}else return!1},Ry=function(e,t,n){return b.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(r){return b.from(e.dom.getParent(r,"table")).map(function(a){return n(e,t,a,r)})}).getOr(!1)},By=function(e,t){return Ry(e,t,gL)},_y=function(e,t){return Ry(e,t,wL)},SL=function(e,t,n){var r=Wt().os;qa([{keyCode:ae.RIGHT,action:me(hy,e,!0)},{keyCode:ae.LEFT,action:me(hy,e,!1)},{keyCode:ae.UP,action:me(gy,e,!1)},{keyCode:ae.DOWN,action:me(gy,e,!0)},{keyCode:ae.RIGHT,action:me(By,e,!0)},{keyCode:ae.LEFT,action:me(By,e,!1)},{keyCode:ae.UP,action:me(_y,e,!1)},{keyCode:ae.DOWN,action:me(_y,e,!0)},{keyCode:ae.RIGHT,action:me(Sy,e,!0)},{keyCode:ae.LEFT,action:me(Sy,e,!1)},{keyCode:ae.UP,action:me(Ey,e,!1)},{keyCode:ae.DOWN,action:me(Ey,e,!0)},{keyCode:ae.RIGHT,action:me(ey,e,t,!0)},{keyCode:ae.LEFT,action:me(ey,e,t,!1)},{keyCode:ae.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:me(s$,e,t)},{keyCode:ae.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:me(f$,e,t)},{keyCode:ae.UP,action:me(wy,e,!1)},{keyCode:ae.DOWN,action:me(wy,e,!0)}],n).each(function(a){n.preventDefault()})},EL=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&SL(e,t,n)})},kL=function(e,t,n){qa([{keyCode:ae.BACKSPACE,action:me(fy,e,!1)},{keyCode:ae.BACKSPACE,action:me(Eu,e,!1)},{keyCode:ae.DELETE,action:me(Eu,e,!0)},{keyCode:ae.BACKSPACE,action:me(Su,e,!1)},{keyCode:ae.DELETE,action:me(Su,e,!0)},{keyCode:ae.BACKSPACE,action:me(_u,e,t,!1)},{keyCode:ae.DELETE,action:me(_u,e,t,!0)},{keyCode:ae.BACKSPACE,action:me(iu,e,!1)},{keyCode:ae.DELETE,action:me(iu,e,!0)},{keyCode:ae.BACKSPACE,action:me(ku,e,!1)},{keyCode:ae.DELETE,action:me(ku,e,!0)},{keyCode:ae.BACKSPACE,action:me(Ou,e,!1)},{keyCode:ae.DELETE,action:me(Ou,e,!0)},{keyCode:ae.BACKSPACE,action:me(wu,e,!1)},{keyCode:ae.DELETE,action:me(wu,e,!0)},{keyCode:ae.BACKSPACE,action:me(Cu,e,!1)},{keyCode:ae.DELETE,action:me(Cu,e,!0)},{keyCode:ae.BACKSPACE,action:me(Du,e,!1)},{keyCode:ae.DELETE,action:me(Du,e,!0)}],n).each(function(r){n.preventDefault()})},xL=function(e,t){qa([{keyCode:ae.BACKSPACE,action:me(Rb,e)},{keyCode:ae.DELETE,action:me(Rb,e)}],t)},TL=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&kL(e,t,n)}),e.on("keyup",function(n){n.isDefaultPrevented()===!1&&xL(e,n)})},NL=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Li=function(e,t){var n,r=t,a=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!!t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var o=NL(t.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(a.doc.createTextNode(Rt),t.firstChild)}var u=a.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new Xe(t,t);n=s.current();){if(Z(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=s.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else Me(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Ri(e,u)}},AL=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},Tc=function(e){return b.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},RL=function(e){return Tc(e).fold(Y(""),function(t){return t.nodeName.toUpperCase()})},BL=function(e){return Tc(e).filter(function(t){return ui(k.fromDom(t))}).isSome()},_L=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},DL=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},Dy=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Oy=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},OL=function(e){return Oy(e)&&Oy(e.parentNode)},Pu=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Iu=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!ie(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},PL=function(e,t,n,r,a){var i=e.dom,o=e.selection.getRng();if(n!==e.getBody()){OL(n)&&(a="LI");var u=a?t(a):i.create("BR");if(Iu(n,r,!0)&&Iu(n,r,!1))if(Dy(n,"LI")){var s=Pu(n);i.insertAfter(u,s),DL(n)?i.remove(s):i.remove(n)}else i.replace(u,n);else if(Iu(n,r,!0))Dy(n,"LI")?(i.insertAfter(u,Pu(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(Iu(n,r,!1))i.insertAfter(u,Pu(n)),i.remove(r);else{n=Pu(n);var f=o.cloneRange();f.setStartAfter(r),f.setEndAfter(n);var l=f.extractContents();a==="LI"&&_L(l,"LI")?(u=l.firstChild,i.insertAfter(l,n)):(i.insertAfter(l,n),i.insertAfter(u,n)),i.remove(r)}Li(e,u)}},IL=function(e){Q(ap(k.fromDom(e),jt),function(t){var n=t.dom;n.nodeValue=Yn(n.nodeValue)})},$L=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)},LL=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Nc=function(e){e.innerHTML='<br data-mce-bogus="1">'},Ac=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Py=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"},FL=function(e,t,n){var r=n,a=[],i;if(!!r){for(;r=r.firstChild;){if(e.isBlock(r))return;ie(r)&&!t[r.nodeName.toLowerCase()]&&a.push(r)}for(i=a.length;i--;)r=a[i],(!r.hasChildNodes()||r.firstChild===r.lastChild&&r.firstChild.nodeValue===""||$L(e,r))&&e.remove(r)}},Rc=function(e,t,n){return Z(t)===!1?n:e?n===1&&t.data.charAt(n-1)===rt?0:n:n===t.data.length-1&&t.data.charAt(n)===rt?t.data.length:n},ML=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,Rc(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Rc(!1,e.endContainer,e.endOffset)),t},UL=function(e){do Z(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},Iy=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},zL=function(e,t,n){var r=e.dom;b.from(n.style).map(r.parseStyle).each(function(s){var f=id(k.fromDom(t)),l=oe(oe({},f),s);r.setStyles(t,l)});var a=b.from(n.class).map(function(s){return s.split(/\s+/)}),i=b.from(t.className).map(function(s){return he(s.split(/\s+/),function(f){return f!==""})});kt(a,i,function(s,f){var l=he(f,function(v){return!et(s,v)}),c=On(On([],s,!0),l,!0);r.setAttrib(t,"class",c.join(" "))});var o=["style","class"],u=Ya(n,function(s,f){return!et(o,f)});r.setAttribs(t,u)},Fi=function(e,t){var n=lt(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=gi(e);zL(e,t,r)}},HL=function(e,t,n,r,a){var i,o,u,s,f,l,c=t||"P",v=e.dom,d=Iy(v,r);if(o=v.getParent(r,v.isBlock),!o||!Py(v,o)){if(o=o||d,o===e.getBody()||LL(o)?l=o.nodeName.toLowerCase():l=o.parentNode.nodeName.toLowerCase(),!o.hasChildNodes())return i=v.create(c),Fi(e,i),o.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==o;)s=s.parentNode;for(;s&&!v.isBlock(s);)u=s,s=s.previousSibling;if(u&&e.schema.isValidChild(l,c.toLowerCase())){for(i=v.create(c),Fi(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!v.isBlock(s);)f=s.nextSibling,i.appendChild(s),s=f;n.setStart(r,a),n.setEnd(r,a)}}return r},VL=function(e,t){t.normalize();var n=t.lastChild;(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},qL=function(e,t){var n,r,a,i,o,u,s,f,l,c,v=e.dom,d=e.schema,p=d.getNonEmptyElements(),m=e.selection.getRng(),h=function(B){var L=r,re,j,D,te=d.getTextInlineElements();if(B||f==="TABLE"||f==="HR"?re=v.create(B||l):re=i.cloneNode(!1),D=re,Mk(e)===!1)v.setAttrib(re,"style",null),v.setAttrib(re,"class",null);else do if(te[L.nodeName]){if(Tn(L)||zt(L))continue;j=L.cloneNode(!1),v.setAttrib(j,"id",""),re.hasChildNodes()?(j.appendChild(re.firstChild),re.appendChild(j)):(D=j,re.appendChild(j))}while((L=L.parentNode)&&L!==C);return Fi(e,re),Nc(D),re},y=function(B){var L,re,j=Rc(B,r,a);if(Z(r)&&(B?j>0:j<r.nodeValue.length))return!1;if(r.parentNode===i&&c&&!B||B&&ie(r)&&r===i.firstChild)return!0;if(Ac(r,"TABLE")||Ac(r,"HR"))return c&&!B||!c&&B;var D=new Xe(r,i);for(Z(r)&&(B&&j===0?D.prev():!B&&j===r.nodeValue.length&&D.next());L=D.current();){if(ie(L)){if(!L.getAttribute("data-mce-bogus")&&(re=L.nodeName.toLowerCase(),p[re]&&re!=="br"))return!1}else if(Z(L)&&!Nr(L.nodeValue))return!1;B?D.prev():D.next()}return!0},g=function(){/^(H[1-6]|PRE|FIGURE)$/.test(f)&&x!=="HGROUP"?o=h(l):o=h(),Uk(e)&&Py(v,s)&&v.isEmpty(i)?o=v.split(s,i):v.insertAfter(o,i),Li(e,o)};Wo(v,m).each(function(B){m.setStart(B.startContainer,B.startOffset),m.setEnd(B.endContainer,B.endOffset)}),r=m.startContainer,a=m.startOffset,l=lt(e);var E=!!(t&&t.shiftKey),S=!!(t&&t.ctrlKey);ie(r)&&r.hasChildNodes()&&(c=a>r.childNodes.length-1,r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r,c&&Z(r)?a=r.nodeValue.length:a=0);var C=Iy(v,r);if(!!C){(l&&!E||!l&&E)&&(r=HL(e,l,m,r,a)),i=v.getParent(r,v.isBlock),s=i?v.getParent(i.parentNode,v.isBlock):null,f=i?i.nodeName.toUpperCase():"";var x=s?s.nodeName.toUpperCase():"";if(x==="LI"&&!S&&(i=s,s=s.parentNode,f=x),/^(LI|DT|DD)$/.test(f)&&v.isEmpty(i)){PL(e,h,s,i,l);return}l&&i===e.getBody()||(l=l||"P",va(i)?(o=$s(i),v.isEmpty(i)&&Nc(i),Fi(e,o),Li(e,o)):y()?g():y(!0)?(o=i.parentNode.insertBefore(h(),i),Li(e,Ac(i,"HR")?o:i)):(n=ML(m).cloneRange(),n.setEndAfter(i),u=n.extractContents(),IL(u),UL(u),o=u.firstChild,v.insertAfter(u,i),FL(v,p,o),VL(v,i),v.isEmpty(i)&&Nc(i),o.normalize(),v.isEmpty(o)?(v.remove(o),g()):(Fi(e,o),Li(e,o))),v.setAttrib(o,"id",""),e.fire("NewBlock",{newBlock:o}))}},WL=function(e,t,n){for(var r=new Xe(t,n),a,i=e.getNonEmptyElements();a=r.next();)if(i[a.nodeName.toLowerCase()]||a.length>0)return!0},$y=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Ri(e,r)},jL=function(e,t){var n=e.selection,r=e.dom,a=n.getRng(),i,o;Wo(r,a).each(function(p){a.setStart(p.startContainer,p.startOffset),a.setEnd(p.endContainer,p.endOffset)});var u=a.startOffset,s=a.startContainer;if(s.nodeType===1&&s.hasChildNodes()){var f=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,f&&s.nodeType===3?u=s.nodeValue.length:u=0}var l=r.getParent(s,r.isBlock),c=l?r.getParent(l.parentNode,r.isBlock):null,v=c?c.nodeName.toUpperCase():"",d=!!(t&&t.ctrlKey);v==="LI"&&!d&&(l=c),s&&s.nodeType===3&&u>=s.nodeValue.length&&(WL(e.schema,s,l)||(i=r.create("br"),a.insertNode(i),a.setStartAfter(i),a.setEndAfter(i),o=!0)),i=r.create("br"),yf(r,a,i),$y(e,i,o),e.undoManager.add()},KL=function(e,t){var n=k.fromTag("br");tn(k.fromDom(t),n),e.undoManager.add()},GL=function(e,t){YL(e.getBody(),t)||ti(k.fromDom(t),k.fromTag("br"));var n=k.fromTag("br");ti(k.fromDom(t),n),$y(e,n.dom,!1),e.undoManager.add()},XL=function(e){return Me(e.getNode())},YL=function(e,t){return XL(R.after(t))?!0:sn(e,R.after(t)).map(function(n){return Me(n.getNode())}).getOr(!1)},Ly=function(e){return e&&e.nodeName==="A"&&"href"in e},QL=function(e){return e.fold(Be,Ly,Ly,Be)},ZL=function(e){var t=X(Hr,e),n=R.fromRangeStart(e.selection.getRng());return Rn(t,e.getBody(),n).filter(QL)},JL=function(e,t){t.fold(pe,X(KL,e),X(GL,e),pe)},Fy=function(e,t){var n=ZL(e);n.isSome()?n.each(X(JL,e)):jL(e,t)},My=function(e,t){return Tc(e).filter(function(n){return t.length>0&&aa(k.fromDom(n),t)}).isSome()},eF=function(e){return My(e,Lk(e))},tF=function(e){return My(e,Fk(e))},Ot=Gn.generate([{br:[]},{block:[]},{none:[]}]),nF=function(e,t){return tF(e)},Bc=function(e){return function(t,n){var r=lt(t)==="";return r===e}},Uy=function(e){return function(t,n){return BL(t)===e}},zy=function(e,t){return function(n,r){var a=RL(n)===e.toUpperCase();return a===t}},$u=function(e){return zy("pre",e)},rF=function(){return zy("summary",!0)},Lu=function(e){return function(t,n){return $k(t)===e}},aF=function(e,t){return eF(e)},Mi=function(e,t){return t},Hy=function(e){var t=lt(e),n=AL(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Vt=function(e,t){return function(n,r){var a=Zt(e,function(i,o){return i&&o(n,r)},!0);return a?b.some(t):b.none()}},iF=function(e,t){return Ib([Vt([nF],Ot.none()),Vt([rF()],Ot.br()),Vt([$u(!0),Lu(!1),Mi],Ot.br()),Vt([$u(!0),Lu(!1)],Ot.block()),Vt([$u(!0),Lu(!0),Mi],Ot.block()),Vt([$u(!0),Lu(!0)],Ot.br()),Vt([Uy(!0),Mi],Ot.br()),Vt([Uy(!0)],Ot.block()),Vt([Bc(!0),Mi,Hy],Ot.block()),Vt([Bc(!0)],Ot.br()),Vt([aF],Ot.br()),Vt([Bc(!1),Mi],Ot.br()),Vt([Hy],Ot.block())],[e,!!(t&&t.shiftKey)]).getOr(Ot.none())},Vy=function(e,t){iF(e,t).fold(function(){Fy(e,t)},function(){qL(e,t)},pe)},oF=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),k_(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),Vy(e,t)}))},uF=function(e){e.on("keydown",function(t){t.keyCode===ae.ENTER&&oF(e,t)})},sF=function(e,t,n){qa([{keyCode:ae.END,action:me(by,e,!0)},{keyCode:ae.HOME,action:me(by,e,!1)},{keyCode:ae.END,action:me(ky,e,!0)},{keyCode:ae.HOME,action:me(ky,e,!1)},{keyCode:ae.END,action:me(Bu,e,!0,t)},{keyCode:ae.HOME,action:me(Bu,e,!1,t)}],n).each(function(r){n.preventDefault()})},fF=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&sF(e,t,n)})},lF=Wt().browser,cF=function(e){var t=vf(function(){e.composing||_h(e)},0);lF.isIE()&&(e.on("keypress",function(n){t.throttle()}),e.on("remove",function(n){t.cancel()}))},vF=function(e){cF(e),e.on("input",function(t){t.isComposing===!1&&_h(e)})},dF=Wt(),pF=function(e,t,n){qa([{keyCode:ae.PAGE_UP,action:me(Bu,e,!1,t)},{keyCode:ae.PAGE_DOWN,action:me(Bu,e,!0,t)}],n)},qy=function(e){return e.stopImmediatePropagation()},Wy=function(e){return e.keyCode===ae.PAGE_UP||e.keyCode===ae.PAGE_DOWN},jy=function(e,t,n){n&&!e.get()?t.on("NodeChange",qy,!0):!n&&e.get()&&t.off("NodeChange",qy),e.set(n)},mF=function(e,t){if(!dF.os.isOSX()){var n=dt(!1);e.on("keydown",function(r){Wy(r)&&jy(n,e,!0)}),e.on("keyup",function(r){r.isDefaultPrevented()===!1&&pF(e,t,r),Wy(r)&&n.get()&&(jy(n,e,!1),e.nodeChanged())})}},Ky=function(e,t){var n=t.container(),r=t.offset();return Z(n)?(n.insertData(r,e),b.some(R(n,r+e.length))):$o(t).map(function(a){var i=k.fromText(e);return t.isAtEnd()?ti(a,i):tn(a,i),R(i.dom,e.length)})},hF=X(Ky,Rt),gF=X(Ky," "),bF=function(e){return function(t){return t.fold(function(n){return kn(e.dom,R.before(n))},function(n){return St(n)},function(n){return xn(n)},function(n){return sn(e.dom,R.after(n))})}},yF=function(e,t){return function(n){return cA(e,n)?hF(t):gF(t)}},CF=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},wF=function(e){var t=R.fromRangeStart(e.selection.getRng()),n=k.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=X(Hr,e),a=R.fromRangeStart(e.selection.getRng());return Rn(r,e.getBody(),a).bind(bF(n)).bind(yF(n,t)).exists(CF(e))}else return!1},SF=function(e,t){qa([{keyCode:ae.SPACEBAR,action:me(wF,e)}],t).each(function(n){t.preventDefault()})},EF=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&SF(e,t)})},kF=function(e){var t=u$(e);return F$(e),EL(e,t),TL(e,t),uF(e),EF(e),vF(e),fF(e,t),mF(e,t),t},xF=function(e){return Un(e)?dt(null):kF(e)},TF=function(){function e(t){this.lastPath=[],this.editor=t;var n,r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(a){var i=t.selection.getRng(),o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};(a.type==="nodechange"||!Gf(o,n))&&t.fire("SelectionChange"),n=o}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var a=t.selection.getStart(!0);!a||!fe.range&&t.selection.isCollapsed()||qo(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(a){!a.isDefaultPrevented()&&qo(t)&&(t.selection.getNode().nodeName==="IMG"?ut.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return e.prototype.nodeChanged=function(t){var n=this.editor.selection,r,a,i;this.editor.initialized&&n&&!Cx(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),r=n.getStart(!0)||i,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,i))&&(r=i),a=[],this.editor.dom.getParent(r,function(o){if(o===i)return!0;a.push(o)}),t=t||{},t.element=r,t.parents=a,this.editor.fire("NodeChange",t))},e.prototype.isSameElementPath=function(t){var n,r=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(r.length===this.lastPath.length){for(n=r.length;n>=0&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1},e}(),NF=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},AF=function(e){e.parser.addNodeFilter("details",function(t){Q(t,function(n){n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",function(t){Q(t,function(n){var r=n.attr("data-mce-open");n.attr("open",Ve(r)?r:null),n.attr("data-mce-open",null)})})},RF=function(e){NF(e),AF(e)},Gy=function(e){return ie(e)&&bd(k.fromDom(e))},BF=function(e){var t=e.selection.getRng(),n=R.fromRangeStart(t),r=R.fromRangeEnd(t);if(R.isElementPosition(n)){var a=n.container();Gy(a)&&St(a).each(function(i){return t.setStart(i.container(),i.offset())})}if(R.isElementPosition(r)){var a=n.container();Gy(a)&&xn(a).each(function(o){return t.setEnd(o.container(),o.offset())})}e.selection.setRng(Nl(t))},_F=function(e){e.on("click",function(t){t.detail>=3&&BF(e)})},Xy=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,a=n.defaultView;return{top:t.top+a.pageYOffset-r.clientTop,left:t.left+a.pageXOffset-r.clientLeft}},DF=function(e){return e.inline?Xy(e.getBody()):{left:0,top:0}},OF=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},PF=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:a},IF=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Xy(e.getContentAreaContainer()),r=PF(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},$F=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},LF=function(e,t){return $F(DF(e),OF(e),IF(e,t))},Fu=De,FF=hn,MF=function(e,t){return Fu(t)&&t!==e},UF=function(e,t,n){return t===n||e.dom.isChildOf(t,n)?!1:!Fu(t)},zF=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},HF=function(e,t,n,r){var a=e.dom,i=t.cloneNode(!0);a.setStyles(i,{width:n,height:r}),a.setAttrib(i,"data-mce-selected",null);var o=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),a.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},VF=function(e,t){e.parentNode!==t&&t.appendChild(e)},qF=function(e,t,n,r,a,i){var o=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(o=t.pageX+n-a),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-o+"px",e.style.height=r-u+"px"},Yy=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},WF=function(e){return e.button===0},jF=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},KF=function(e,t){return function(n){if(WF(n)){var r=tt(t.dom.getParents(n.target),sk(Fu,FF)).getOr(null);if(MF(t.getBody(),r)){var a=t.dom.getPos(r),i=t.getBody(),o=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:o.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:o.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:HF(t,r,r.offsetWidth,r.offsetHeight)})}}}},GF=function(e,t){var n=ut.throttle(function(r,a){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(r,a)},0);return t.on("remove",n.stop),function(r){return e.on(function(a){var i=Math.max(Math.abs(r.screenX-a.screenX),Math.abs(r.screenY-a.screenY));if(!a.dragging&&i>10){var o=t.fire("dragstart",{target:a.element});if(o.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){var u=jF(a,LF(t,r));VF(a.ghost,t.getBody()),qF(a.ghost,u,a.width,a.height,a.maxX,a.maxY),n(r.clientX,r.clientY)}})}},XF=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return n.nodeType===3?n.parentNode:n},YF=function(e,t){return function(n){e.on(function(r){if(r.dragging){if(UF(t,XF(t.selection),r.element)){var a=zF(r.element),i=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||t.undoManager.transact(function(){Yy(r.element),t.insertContent(t.dom.getOuterHTML(a)),t._selectionOverrides.hideFakeCaret()})}t.fire("dragend")}}),Qy(e)}},QF=function(e,t){return function(){e.on(function(n){n.dragging&&t.fire("dragend")}),Qy(e)}},Qy=function(e){e.on(function(t){Yy(t.ghost)}),e.clear()},ZF=function(e){var t=wa(),n=Te.DOM,r=document,a=KF(t,e),i=GF(t,e),o=YF(t,e),u=QF(t,e);e.on("mousedown",a),e.on("mousemove",i),e.on("mouseup",o),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),e.on("remove",function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)}),e.on("keydown",function(s){s.keyCode===ae.ESC&&u()})},JF=function(e){e.on("drop",function(t){var n=typeof t.clientX!="undefined"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(Fu(n)||e.dom.getContentEditableParent(n)==="false")&&t.preventDefault()})},eM=function(e){var t=function(a){if(!a.isDefaultPrevented()){var i=a.dataTransfer;i&&(et(i.types,"Files")||i.files.length>0)&&(a.preventDefault(),a.type==="drop"&&hu(e,"Dropped file type is not supported"))}},n=function(a){Yo(e,a.target)&&t(a)},r=function(){var a=Te.DOM,i=e.dom,o=document,u=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];Q(s,function(f){a.bind(o,f,n),i.bind(u,f,t)}),e.on("remove",function(){Q(s,function(f){a.unbind(o,f,n),i.unbind(u,f,t)})})};e.on("init",function(){ut.setEditorTimeout(e,r,0)})},tM=function(e){ZF(e),JF(e),kx(e)&&eM(e)},nM=function(e){var t=vf(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var n=e.selection.getRng();if(n.collapsed){var r=cc(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},rM=function(e){e.on("init",function(){e.on("focusin",function(t){var n=t.target;if(Xt(n)){var r=Ia(e.getBody(),n),a=De(r)?r:n;e.selection.getNode()!==a&&Ha(e,a).each(function(i){return e.selection.setRng(i)})}})})},Zy=hn,qr=De,Mu=function(e,t){return Ia(e.getBody(),t)},aM=function(e){var t=e.selection,n=e.dom,r=n.isBlock,a=e.getBody(),i=Ux(e,a,r,function(){return Fr(e)}),o="sel-"+n.uniqueId(),u="data-mce-selected",s,f=function(D){return n.hasClass(D,"mce-offscreen-selection")},l=function(D){return D!==a&&(qr(D)||Xt(D))&&n.isChildOf(D,a)},c=function(D){return vr(D)||dr(D)||La(D)||Fa(D)},v=function(){var D=n.get(o);return D&&D.getElementsByTagName("*")[0]},d=function(D){D&&t.setRng(D)},p=t.getRng,m=function(D,te,z,W){W===void 0&&(W=!0);var M=e.fire("ShowCaret",{target:te,direction:D,before:z});return M.isDefaultPrevented()?null:(W&&t.scrollIntoView(te,D===-1),i.show(z,te))},h=function(D){D.hasAttribute("data-mce-caret")&&($s(D),d(p()),t.scrollIntoView(D))},y=function(){e.on("mouseup",function(M){var q=p();q.collapsed&&Jg(e,M.clientX,M.clientY)&&kb(e,q,!1).each(d)}),e.on("click",function(M){var q=Mu(e,M.target);q&&(qr(q)&&(M.preventDefault(),e.focus()),Zy(q)&&n.isChildOf(q,t.getNode())&&L())}),e.on("blur NewBlock",L),e.on("ResizeWindow FullscreenStateChanged",i.reposition);var D=function(M){var q=M.firstChild;if(dn(q))return!1;var G=R.before(q);if(Me(G.getNode())&&M.childNodes.length===1)return!c(G);var O=un(M),K=O.next(G);return K&&!c(K)},te=function(M,q){var G=n.getParent(M,r),O=n.getParent(q,r);return G===O},z=function(M,q){var G=n.getParent(M,r),O=n.getParent(q,r);return dn(G)?!1:M!==O&&n.isChildOf(G,O)&&qr(Mu(e,G))===!1?!0:!n.isChildOf(O,G)&&!te(G,O)&&D(G)};e.on("tap",function(M){var q=M.target,G=Mu(e,q);qr(G)?(M.preventDefault(),Ha(e,G).each(B)):l(q)&&Ha(e,q).each(B)},!0),e.on("mousedown",function(M){var q=M.target;if(!(q!==a&&q.nodeName!=="HTML"&&!n.isChildOf(q,a))&&Jg(e,M.clientX,M.clientY)!==!1){var G=Mu(e,q);if(G)qr(G)?(M.preventDefault(),Ha(e,G).each(B)):(L(),!(Zy(G)&&M.shiftKey)&&!Wf(M.clientX,M.clientY,t.getRng())&&(j(),t.placeCaretAt(M.clientX,M.clientY)));else if(l(q))Ha(e,q).each(B);else if(Ir(q)===!1){L(),j();var O=n$(a,M.clientX,M.clientY);if(O&&!z(q,O.node)){M.preventDefault();var K=m(1,O.node,O.before,!1);d(K),e.getBody().focus()}}}}),e.on("keypress",function(M){ae.modifierPressed(M)||qr(t.getNode())&&M.preventDefault()}),e.on("GetSelectionRange",function(M){var q=M.range;if(s){if(!s.parentNode){s=null;return}q=q.cloneRange(),q.selectNode(s),M.range=q}}),e.on("SetSelectionRange",function(M){M.range=S(M.range);var q=B(M.range,M.forward);q&&(M.range=q)});var W=function(M){return M.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(M){var q=M.range,G=q.startContainer.parentNode;!E(q)&&!W(G)&&j(),f(G)||L()}),e.on("copy",function(M){var q=M.clipboardData;if(!M.isDefaultPrevented()&&M.clipboardData&&!fe.ie){var G=v();G&&(M.preventDefault(),q.clearData(),q.setData("text/html",G.outerHTML),q.setData("text/plain",G.outerText||G.innerText))}}),tM(e),nM(e),rM(e)},g=function(D){return Lt(D)||co(D)||vo(D)},E=function(D){return g(D.startContainer)||g(D.endContainer)},S=function(D){var te=e.schema.getShortEndedElements(),z=n.createRng(),W=D.startContainer,M=D.startOffset,q=D.endContainer,G=D.endOffset;return ge(te,W.nodeName.toLowerCase())?M===0?z.setStartBefore(W):z.setStartAfter(W):z.setStart(W,M),ge(te,q.nodeName.toLowerCase())?G===0?z.setEndBefore(q):z.setEndAfter(q):z.setEnd(q,G),z},C=function(D,te,z){var W=e.$,M=uo(k.fromDom(e.getBody()),"#"+o).fold(function(){return W([])},function(O){return W([O.dom])});M.length===0&&(M=W('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),M.appendTo(e.getBody()));var q=n.createRng();te===z&&fe.ie?(M.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(te),q.setStartAfter(M[0].firstChild.firstChild),q.setEndAfter(te)):(M.empty().append(Rt).append(te).append(Rt),q.setStart(M[0].firstChild,1),q.setEnd(M[0].lastChild,0)),M.css({top:n.getPos(D,e.getBody()).y}),M[0].focus();var G=t.getSel();return G.removeAllRanges(),G.addRange(q),q},x=function(D){var te=D.cloneNode(!0),z=e.fire("ObjectSelected",{target:D,targetClone:te});if(z.isDefaultPrevented())return null;var W=C(D,z.targetClone,te),M=k.fromDom(D);return Q(xt(k.fromDom(e.getBody()),"*[data-mce-selected]"),function(q){Ae(M,q)||Kn(q,u)}),n.getAttrib(D,u)||D.setAttribute(u,"1"),s=D,j(),W},B=function(D,te){if(!D)return null;if(D.collapsed){if(!E(D)){var z=te?1:-1,W=Ei(z,a,D),M=W.getNode(!te);if(Ir(M))return m(z,M,te?!W.isAtEnd():!1,!1);var q=W.getNode(te);if(Ir(q))return m(z,q,te?!1:!W.isAtEnd(),!1)}return null}var G=D.startContainer,O=D.startOffset,K=D.endOffset;if(G.nodeType===3&&O===0&&qr(G.parentNode)&&(G=G.parentNode,O=n.nodeIndex(G),G=G.parentNode),G.nodeType!==1)return null;if(K===O+1&&G===D.endContainer){var ve=G.childNodes[O];if(l(ve))return x(ve)}return null},L=function(){s&&s.removeAttribute(u),uo(k.fromDom(e.getBody()),"#"+o).each(nt),s=null},re=function(){i.destroy(),s=null},j=function(){i.hide()};return fe.ceFalse&&!Un(e)&&y(),{showCaret:m,showBlockCaretContainer:h,hideFakeCaret:j,destroy:re}},iM=function(e){var t=_.each,n=ae.BACKSPACE,r=ae.DELETE,a=e.dom,i=e.selection,o=e.parser,u=fe.gecko,s=fe.ie,f=fe.webkit,l="data:text/mce-internal,",c=s?"Text":"URL",v=function(P,H){try{e.getDoc().execCommand(P,!1,H)}catch{}},d=function(P){return P.isDefaultPrevented()},p=function(P){var H,J;P.dataTransfer&&(e.selection.isCollapsed()&&P.target.tagName==="IMG"&&i.select(P.target),H=e.selection.getContent(),H.length>0&&(J=l+escape(e.id)+","+escape(H),P.dataTransfer.setData(c,J)))},m=function(P){var H;return P.dataTransfer&&(H=P.dataTransfer.getData(c),H&&H.indexOf(l)>=0)?(H=H.substr(l.length).split(","),{id:unescape(H[0]),html:unescape(H[1])}):null},h=function(P,H){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:P,internal:H}):e.execCommand("mceInsertContent",!1,P)},y=function(){var P=function(J){var T=a.create("body"),F=J.cloneContents();return T.appendChild(F),i.serializer.serialize(T,{format:"html"})},H=function(J){var T=P(J),F=a.createRng();F.selectNode(e.getBody());var I=P(F);return T===I};e.on("keydown",function(J){var T=J.keyCode,F,I;if(!d(J)&&(T===r||T===n)){if(F=e.selection.isCollapsed(),I=e.getBody(),F&&!a.isEmpty(I)||!F&&!H(e.selection.getRng()))return;J.preventDefault(),e.setContent(""),I.firstChild&&a.isBlock(I.firstChild)?e.selection.setCursorLocation(I.firstChild,0):e.selection.setCursorLocation(I,0),e.nodeChanged()}})},g=function(){e.shortcuts.add("meta+a",null,"SelectAll")},E=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",function(P){var H;if(P.target===e.getDoc().documentElement)if(H=i.getRng(),e.getBody().focus(),P.type==="mousedown"){if(Lt(H.startContainer))return;i.placeCaretAt(P.clientX,P.clientY)}else i.setRng(H)})},S=function(){e.on("keydown",function(P){if(!d(P)&&P.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&i.getRng().startOffset===0){var H=i.getNode(),J=H.previousSibling;if(H.nodeName==="HR"){a.remove(H),P.preventDefault();return}J&&J.nodeName&&J.nodeName.toLowerCase()==="hr"&&(a.remove(J),P.preventDefault())}}})},C=function(){Range.prototype.getClientRects||e.on("mousedown",function(P){if(!d(P)&&P.target.nodeName==="HTML"){var H=e.getBody();H.blur(),ut.setEditorTimeout(e,function(){H.focus()})}})},x=function(){e.on("click",function(P){var H=P.target;/^(IMG|HR)$/.test(H.nodeName)&&a.getContentEditableParent(H)!=="false"&&(P.preventDefault(),e.selection.select(H),e.nodeChanged()),H.nodeName==="A"&&a.hasClass(H,"mce-item-anchor")&&(P.preventDefault(),i.select(H))})},B=function(){var P=function(){var J=a.getAttribs(i.getStart().cloneNode(!1));return function(){var T=i.getStart();T!==e.getBody()&&(a.setAttrib(T,"style",null),t(J,function(F){T.setAttributeNode(F.cloneNode(!0))}))}},H=function(){return!i.isCollapsed()&&a.getParent(i.getStart(),a.isBlock)!==a.getParent(i.getEnd(),a.isBlock)};e.on("keypress",function(J){var T;if(!d(J)&&(J.keyCode===8||J.keyCode===46)&&H())return T=P(),e.getDoc().execCommand("delete",!1,null),T(),J.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(J){var T;!d(J)&&H()&&(T=P(),ut.setEditorTimeout(e,function(){T()}))})},L=function(){e.on("keydown",function(P){if(!d(P)&&P.keyCode===n&&i.isCollapsed()&&i.getRng().startOffset===0){var H=i.getNode().previousSibling;if(H&&H.nodeName&&H.nodeName.toLowerCase()==="table")return P.preventDefault(),!1}})},re=function(){e.on("keydown",function(P){var H,J;if(!(d(P)||P.keyCode!==ae.BACKSPACE)){H=i.getRng();var T=H.startContainer,F=H.startOffset,I=a.getRoot();if(J=T,!(!H.collapsed||F!==0)){for(;J&&J.parentNode&&J.parentNode.firstChild===J&&J.parentNode!==I;)J=J.parentNode;J.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,J),H=a.createRng(),H.setStart(T,0),H.setEnd(T,0),i.setRng(H))}}})},j=function(){var P=function(){v("StyleWithCSS",!1),v("enableInlineTableEditing",!1),Wp(e)||v("enableObjectResizing",!1)};wx(e)||e.on("BeforeExecCommand mousedown",P)},D=function(){var P=function(){t(a.select("a"),function(H){var J=H.parentNode,T=a.getRoot();if(J.lastChild===H){for(;J&&!a.isBlock(J);){if(J.parentNode.lastChild!==J||J===T)return;J=J.parentNode}a.add(J,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(H){(H.type==="setcontent"||H.command==="mceInsertLink")&&P()})},te=function(){lt(e)&&e.on("init",function(){v("DefaultParagraphSeparator",lt(e))})},z=function(){e.on("keyup focusin mouseup",function(P){ae.modifierPressed(P)||i.normalize()},!0)},W=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},M=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},q=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(P){var H;if(P.target.nodeName==="HTML"){if(fe.ie>11){e.getBody().focus();return}H=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(H),e.selection.normalize(),e.nodeChanged()}}))},G=function(){fe.mac&&e.on("keydown",function(P){if(ae.metaKeyPressed(P)&&!P.shiftKey&&(P.keyCode===37||P.keyCode===39)){P.preventDefault();var H=e.selection.getSel();H.modify("move",P.keyCode===37?"backward":"forward","lineboundary")}})},O=function(){v("AutoUrlDetect",!1)},K=function(){e.on("click",function(P){var H=P.target;do if(H.tagName==="A"){P.preventDefault();return}while(H=H.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ve=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(P){P.preventDefault()})})},ye=function(){o.addNodeFilter("br",function(P){for(var H=P.length;H--;)P[H].attr("class")==="Apple-interchange-newline"&&P[H].remove()})},be=function(){e.on("dragstart",function(P){p(P)}),e.on("drop",function(P){if(!d(P)){var H=m(P);if(H&&H.id!==e.id){P.preventDefault();var J=Kf(P.x,P.y,e.getDoc());i.setRng(J),h(H.html,!0)}}})},We=pe,_e=function(){if(!u||e.removed)return!1;var P=e.selection.getSel();return!P||!P.rangeCount||P.rangeCount===0},ct=function(){f&&(E(),x(),ve(),g(),fe.iOS&&(M(),q(),K())),u&&(C(),j(),W(),G())},Tt=function(){re(),y(),fe.windowsPhone||z(),f&&(E(),x(),te(),ve(),L(),ye(),fe.iOS?(M(),q(),K()):g()),fe.ie>=11&&(q(),L()),fe.ie&&(g(),O(),be()),u&&(S(),C(),B(),j(),D(),W(),G(),L())};return Un(e)?ct():Tt(),{refreshContentEditable:We,isHidden:_e}},_c=Te.DOM,oM=function(e,t){var n=k.fromDom(e.getBody()),r=bs(xr(n)),a=k.fromTag("style");gn(a,"type","text/css"),it(a,k.fromText(t)),it(r,a),e.on("remove",function(){nt(a)})},uM=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},Dc=function(e){return Ya(e,function(t){return Nt(t)===!1})},Jy=function(e){var t=e.settings;return Dc({block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements,padd_empty_block_inline_children:t.format_empty_lines})},eC=function(e){var t=e.settings,n=e.editorUpload.blobCache;return Dc({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:uM(e),validate:!0,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})},sM=function(e){var t=e.settings;return oe(oe(oe({},eC(e)),Jy(e)),Dc({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before}))},fM=function(e){var t=ac(eC(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(n,r){for(var a=n.length,i,o,u=e.dom,s="data-mce-"+r;a--;)if(i=n[a],o=i.attr(r),o&&!i.attr(s)){if(o.indexOf("data:")===0||o.indexOf("blob:")===0)continue;r==="style"?(o=u.serializeStyle(u.parseStyle(o),i.name),o.length||(o=null),i.attr(s,o),i.attr(r,o)):r==="tabindex"?(i.attr(s,o),i.attr(r,null)):i.attr(s,e.convertURL(o,r,i.name))}}),t.addNodeFilter("script",function(n){for(var r=n.length;r--;){var a=n[r],i=a.attr("type")||"no/type";i.indexOf("mce-")!==0&&a.attr("type","mce-"+i)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(n){for(var r=n.length;r--;){var a=n[r];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(a.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(n){for(var r=n.length,a=e.schema.getNonEmptyElements();r--;){var i=n[r];i.isEmpty(a)&&i.getAll("br").length===0&&(i.append(new Yt("br",1)).shortEnded=!0)}}),t},lM=function(e){e.settings.auto_focus&&ut.setEditorTimeout(e,function(){var t;e.settings.auto_focus===!0?t=e:t=e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},cM=function(e){var t=e.dom.getRoot();!e.inline&&(!qo(e)||e.selection.getStart(!0)===t)&&St(t).each(function(n){var r=n.getNode(),a=ua(r)?St(r).getOr(n):n;fe.browser.isIE()?GT(e,a.toRange()):e.selection.setRng(a.toRange())})},vM=function(e){e.bindPendingEventDelegates(),e.initialized=!0,W1(e),e.focus(!0),cM(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),lM(e)},tC=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},dM=function(e,t,n){var r=[new ot(function(a,i){return tC(e).loadAll(t,a,i)})];return e.inline?r:r.concat([new ot(function(a,i){return e.ui.styleSheetLoader.loadAll(n,a,i)})])},nC=function(e){var t=tC(e),n=qp(e),r=e.contentCSS,a=function(){t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=function(){e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){var o="";_.each(e.contentStyles,function(s){o+=s+`\r
`}),e.dom.addStyle(o)}var u=ot.all(dM(e,r,n)).then(i).catch(i);return e.settings.content_style&&oM(e,e.settings.content_style),u},pM=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();V1(e),!t.browser_spellcheck&&!t.gecko_spellcheck&&(n.body.spellcheck=!1,_c.setAttrib(r,"spellcheck","false")),e.quirks=iM(e),q1(e);var a=tx(e);a!==void 0&&(r.dir=a),t.protect&&e.on("BeforeSetContent",function(i){_.each(t.protect,function(o){i.content=i.content.replace(o,function(u){return"<!--mce:protected "+escape(u)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(i){e.composing=i.type==="compositionstart"})},mM=function(e){Un(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Oc=function(e){e.removed!==!0&&(mM(e),vM(e))},Pc=function(e,t){var n=e.settings,r=e.getElement(),a=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline&&(a.open(),a.write(e.iframeHTML),a.close()),e.inline&&(_c.addClass(r,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&_c.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=fP(e),e.schema=Jn(Jy(e)),e.dom=Te(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Qk(e),referrerPolicy:zp(e),onSetAttrib:function(s){e.fire("SetAttrib",s)}}),e.parser=fM(e),e.serializer=jg(sM(e),e),e.selection=Mg(e.dom,e.getWin(),e.serializer,e),e.annotator=Pm(e),e.formatter=fb(e),e.undoManager=cb(e),e._nodeChangeDispatcher=new TF(e),e._selectionOverrides=aM(e),R$(e),RF(e),Un(e)||_F(e);var o=xF(e);T$(e,o),P$(e),SP(e);var u=U_(e);pM(e),u.fold(function(){nC(e).then(function(){return Oc(e)})},function(s){e.setProgressState(!0),nC(e).then(function(){s().then(function(f){e.setProgressState(!1),Oc(e)},function(f){e.notificationManager.open({type:"error",text:String(f)}),Oc(e)})})})},Ui=Te.DOM,hM=function(e,t){if(document.domain!==window.location.hostname&&fe.browser.isIE()){var n=ib("mce");e[n]=function(){Pc(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Ui.setAttrib(t,"src",r),!0}return!1},gM=function(e,t,n,r){var a=k.fromTag("iframe");return jn(a,r),jn(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ro(a,"tox-edit-area__iframe"),a},bM=function(e){var t=Dk(e)+"<html><head>";Ok(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Pk(e),r=Ik(e),a=e.translate(Ax(e));return Fp(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Fp(e)+'" />'),t+="</head>"+('<body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'" aria-label="'+a+'">')+"<br></body></html>",t},yM=function(e,t){var n=e.translate("Rich Text Area"),r=gM(e.id,n,t.height,_k(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var a=hM(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=bM(e),Ui.add(t.iframeContainer,r),a},CM=function(e,t){var n=yM(e,t);t.editorContainer&&(Ui.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Ui.isHidden(t.editorContainer)),e.getElement().style.display="none",Ui.setAttrib(e.id,"aria-hidden","true"),n||Pc(e)},rC=Te.DOM,aC=function(e,t,n){var r=fn.get(n),a=fn.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=_.trim(n),r&&_.inArray(t,n)===-1){if(_.each(fn.dependencies(n),function(o){aC(e,t,o)}),e.plugins[n])return;try{var i=new r(e,a,e.$);e.plugins[n]=i,i.init&&(i.init(e,a),t.push(n))}catch(o){ZO(e,n,o)}}},iC=function(e){return e.replace(/^\-/,"")},wM=function(e){var t=[];_.each(Sf(e).split(/[ ,]/),function(n){aC(e,t,iC(n))})},SM=function(e){var t=_.trim(Up(e)),n=e.ui.registry.getAll().icons,r=oe(oe({},mu.get("default").icons),mu.get(t).icons);Ie(r,function(a,i){ge(n,i)||e.ui.registry.addIcon(i,a)})},EM=function(e){var t=bi(e);if(Ve(t)){e.settings.theme=iC(t);var n=pr.get(t);e.theme=new n(e,pr.urls[t]),e.theme.init&&e.theme.init(e,pr.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},kM=function(e){return e.theme.renderUI()},xM=function(e){var t=e.getElement(),n=bi(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},oC=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},TM=function(e){var t=rC.create("div");return rC.insertAfter(t,e),oC(t)},NM=function(e){var t=e.getElement();return e.inline?oC(null):TM(t)},AM=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Ve(bi(e))?kM(e):Pe(bi(e))?xM(e):NM(e)},RM=function(e,t){var n={show:b.from(t.show).getOr(pe),hide:b.from(t.hide).getOr(pe),disable:b.from(t.disable).getOr(pe),isDisabled:b.from(t.isDisabled).getOr(Be),enable:function(){e.mode.isReadOnly()||b.from(t.enable).map(qC)}};e.ui=oe(oe({},e.ui),n)},uC=function(e){e.fire("ScriptsLoaded"),SM(e),EM(e),wM(e);var t=AM(e);RM(e,b.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,nP(e),e.inline?Pc(e):CM(e,n)},Wr=Te.DOM,sC=function(e){return e.charAt(0)==="-"},BM=function(e,t){var n=Hp(t),r=Zk(t);if(an.hasCode(n)===!1&&n!=="en"){var a=r!==""?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(a,pe,void 0,function(){QO(t,a,n)})}},_M=function(e,t,n,r){var a=bi(t);if(Ve(a)){if(!sC(a)&&!ge(pr.urls,a)){var i=cx(t);i?pr.load(a,t.documentBaseURI.toAbsolute(i)):pr.load(a,"themes/"+a+"/theme"+n+".js")}e.loadQueue(function(){pr.waitFor(a,r)})}else r()},DM=function(e){return b.from(jk(e)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:b.none()}})},fC=function(e,t,n){return b.from(t).filter(function(r){return r.length>0&&!mu.has(r)}).map(function(r){return{url:e.editorManager.baseURL+"/icons/"+r+"/icons"+n+".js",name:b.some(r)}})},OM=function(e,t,n){var r=fC(t,"default",n),a=DM(t).orThunk(function(){return fC(t,Up(t),"")});Q(hw([r,a]),function(i){e.add(i.url,pe,void 0,function(){YO(t,i.url,i.name.getOrUndefined())})})},PM=function(e,t){_.each(Ex(e),function(n,r){fn.load(r,n,pe,void 0,function(){fc(e,n,r)}),e.settings.plugins+=" "+r}),_.each(Sf(e).split(/[ ,]/),function(n){if(n=_.trim(n),n&&!fn.urls[n])if(sC(n)){n=n.substr(1,n.length);var r=fn.dependencies(n);_.each(r,function(i){var o={prefix:"plugins/",resource:i,suffix:"/plugin"+t+".js"},u=fn.createUrl(o,i);fn.load(u.resource,u,pe,void 0,function(){fc(e,u.prefix+u.resource+u.suffix,u.resource)})})}else{var a={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};fn.load(n,a,pe,void 0,function(){fc(e,a.prefix+a.resource+a.suffix,n)})}})},IM=function(e,t){var n=Ln.ScriptLoader;_M(n,e,t,function(){BM(n,e),OM(n,e,t),PM(e,t),n.loadQueue(function(){e.removed||uC(e)},e,function(){e.removed||uC(e)})})},$M=function(e,t){return gd.forElement(e,{contentCssCors:Sx(t),referrerPolicy:zp(t)})},LM=function(e){var t=e.id;an.setCode(Hp(e));var n=function(){Wr.unbind(window,"ready",n),e.render()};if(!ha.Event.domLoaded){Wr.bind(window,"ready",n);return}if(!!e.getElement()&&!!fe.contentEditable){var r=k.fromDom(e.getElement()),a=Cw(r);e.on("remove",function(){Qc(r.dom.attributes,function(o){return Kn(r,o.name)}),jn(r,a)}),e.ui.styleSheetLoader=$M(r,e),vx(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||Wr.getParent(t,"form");i&&(e.formElement=i,dx(e)&&!Ss(e.getElement())&&(Wr.insertAfter(Wr.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(o){e.fire(o.type,o)},Wr.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),px(e)&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=tb(e),e.notificationManager=eb(e),mx(e)&&e.on("GetContent",function(o){o.save&&(o.content=Wr.encode(o.content))}),hx(e)&&e.on("submit",function(){e.initialized&&e.save()}),gx(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),IM(e,e.suffix)}},FM=function(e,t){return cD(e,t)},MM={"font-size":"size","font-family":"face"},UM=function(e,t,n){var r=function(i){return xs(i,e).orThunk(function(){return Ge(i)==="font"?Ke(MM,e).bind(function(o){return rd(i,o)}):b.none()})},a=function(i){return Ae(k.fromDom(t),i)};return Ol(k.fromDom(n),function(i){return r(i)},a)},zM=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},HM=function(e,t){return b.from(Te.DOM.getStyle(t,e,!0))},lC=function(e){return function(t,n){return b.from(n).map(k.fromDom).filter(Jt).bind(function(r){return UM(e,t,r.dom).or(HM(e,r.dom))}).getOr("")}},VM=lC("font-size"),qM=wr(zM,lC("font-family")),WM=function(e){return St(e.getBody()).map(function(t){var n=t.container();return Z(n)?n.parentNode:n})},jM=function(e){return b.from(e.selection.getRng()).bind(function(t){var n=e.getBody(),r=t.startContainer===n&&t.startOffset===0;return r?b.none():b.from(e.selection.getStart(!0))})},KM=function(e,t){return jM(e).orThunk(X(WM,e)).map(k.fromDom).filter(Jt).bind(t)},Ic=function(e,t){return KM(e,Xc(b.some,t))},cC=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=zk(e),a=Hk(e);return a?a[n-1]||t:r[n-1]||t}else return t}else return t},GM=function(e){var t=e.split(/\s*,\s*/);return Oe(t,function(n){return n.indexOf(" ")!==-1&&!(Er(n,'"')||Er(n,"'"))?"'"+n+"'":n}).join(",")},XM=function(e,t){var n=cC(e,t);e.formatter.toggle("fontname",{value:GM(n)}),e.nodeChanged()},YM=function(e){return Ic(e,function(t){return qM(e.getBody(),t.dom)}).getOr("")},QM=function(e,t){e.formatter.toggle("fontsize",{value:cC(e,t)}),e.nodeChanged()},ZM=function(e){return Ic(e,function(t){return VM(e.getBody(),t.dom)}).getOr("")},JM=function(e){return Ic(e,function(t){var n=k.fromDom(e.getBody()),r=Ol(t,function(i){return xs(i,"line-height")},X(Ae,n)),a=function(){var i=parseFloat(In(t,"line-height")),o=parseFloat(In(t,"font-size"));return String(i/o)};return r.getOrThunk(a)}).getOr("")},eU=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},tU=function(e){if(typeof e!="string"){var t=_.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},nU=function(e,t){var n=tU(t);fD(e,n.content,n.details)},Uu=_.each,rU=_.map,aU=_.inArray,vC=function(){function e(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return e.prototype.execCommand=function(t,n,r,a){var i,o=!1,u=this;if(!u.editor.removed){if(t.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)&&(!a||!a.skip_focus)?u.editor.focus():XT(u.editor)),a=u.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r}),a.isDefaultPrevented())return!1;var s=t.toLowerCase();if(i=u.commands.exec[s])return i(s,n,r),u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(Uu(this.editor.plugins,function(f){if(f.execCommand&&f.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),o=!0,!1}),o)return o;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{o=u.editor.getDoc().execCommand(t,n,r)}catch{}return o?(u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0):!1}},e.prototype.queryCommandState=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.state[t])return n(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},e.prototype.queryCommandValue=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.value[t])return n(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},e.prototype.addCommands=function(t,n){n===void 0&&(n="exec");var r=this;Uu(t,function(a,i){Uu(i.toLowerCase().split(","),function(o){r.commands[n][o]=a})})},e.prototype.addCommand=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.exec[t]=function(i,o,u,s){return n.call(r||a.editor,o,u,s)}},e.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},e.prototype.addQueryStateHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.state[t]=function(){return n.call(r||a.editor)}},e.prototype.addQueryValueHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.value[t]=function(){return n.call(r||a.editor)}},e.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},e.prototype.execNativeCommand=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=null),this.editor.getDoc().execCommand(t,n,r)},e.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},e.prototype.toggleFormat=function(t,n){this.editor.formatter.toggle(t,n),this.editor.nodeChanged()},e.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(t){var n=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":pe,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(a,i,o){bN(t,o)},"Cut,Copy,Paste":function(a){var i=t.getDoc(),o;try{n.execNativeCommand(a)}catch{o=!0}if(a==="paste"&&!i.queryCommandEnabled(a)&&(o=!0),o||!i.queryCommandSupported(a)){var u=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");fe.mac&&(u=u.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:u,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var i=a.substring(7);i==="full"&&(i="justify"),Uu("left,center,right,justify".split(","),function(o){i!==o&&t.formatter.remove("align"+o)}),i!=="none"&&n.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(a){var i;n.execNativeCommand(a);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(i=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(n.storeSelection(),t.dom.split(i,o),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){n.toggleFormat(a)},"ForeColor,HiliteColor":function(a,i,o){n.toggleFormat(a,{value:o})},FontName:function(a,i,o){XM(t,o)},FontSize:function(a,i,o){QM(t,o)},LineHeight:function(a,i,o){eU(t,o)},Lang:function(a,i,o){n.toggleFormat(a,{value:o.code,customValue:o.customCode})},RemoveFormat:function(a){t.formatter.remove(a)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(a,i,o){return n.toggleFormat(o||"p")},mceCleanup:function(){var a=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(a)},mceRemoveNode:function(a,i,o){var u=o||t.selection.getNode();u!==t.getBody()&&(n.storeSelection(),t.dom.remove(u,!0),n.restoreSelection())},mceSelectNodeDepth:function(a,i,o){var u=0;t.dom.getParent(t.selection.getNode(),function(s){if(s.nodeType===1&&u++===o)return t.selection.select(s),!1},t.getBody())},mceSelectNode:function(a,i,o){t.selection.select(o)},mceInsertContent:function(a,i,o){nU(t,o)},mceInsertRawHTML:function(a,i,o){t.selection.setContent("tiny_mce_marker");var u=t.getContent();t.setContent(u.replace(/tiny_mce_marker/g,function(){return o}))},mceInsertNewLine:function(a,i,o){Vy(t,o)},mceToggleFormat:function(a,i,o){n.toggleFormat(o)},mceSetContent:function(a,i,o){t.setContent(o)},"Indent,Outdent":function(a){sy(t,a)},mceRepaint:pe,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(a,i,o){t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(a,i,o){typeof o=="string"&&(o={href:o});var u=t.dom.getParent(t.selection.getNode(),"a");o.href=o.href.replace(/ /g,"%20"),(!u||!o.href)&&t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,u)},selectAll:function(){var a=t.dom.getParent(t.selection.getStart(),hn);if(a){var i=t.dom.createRng();i.selectNodeContents(a),t.selection.setRng(i)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(a,i,o){return Fy(t,o),!0}});var r=function(a){return function(){var i=t.selection,o=i.isCollapsed()?[t.dom.getParent(i.getNode(),t.dom.isBlock)]:i.getSelectedBlocks(),u=rU(o,function(s){return!!t.formatter.matchNode(s,a)});return aU(u,!0)!==-1}};n.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return n.isFormatMatch(a)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return iy(t)},"InsertUnorderedList,InsertOrderedList":function(a){var i=t.dom.getParent(t.selection.getNode(),"ul,ol");return i&&(a==="insertunorderedlist"&&i.tagName==="UL"||a==="insertorderedlist"&&i.tagName==="OL")}},"state"),n.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),n.addQueryValueHandler("FontName",function(){return YM(t)},this),n.addQueryValueHandler("FontSize",function(){return ZM(t)},this),n.addQueryValueHandler("LineHeight",function(){return JM(t)},this)},e}(),jr="data-mce-contenteditable",iU=function(e,t,n){rp(e,t)&&n===!1?KE(e,t):n&&Ro(e,t)},$c=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch{}},zu=function(e,t){e.dom.contentEditable=t?"true":"false"},oU=function(e){Q(xt(e,'*[contenteditable="true"]'),function(t){gn(t,jr,"true"),zu(t,!1)})},uU=function(e){Q(xt(e,"*["+jr+'="true"]'),function(t){Kn(t,jr),zu(t,!0)})},sU=function(e){b.from(e.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},fU=function(e){e.selection.setRng(e.selection.getRng())},lU=function(e,t){var n=k.fromDom(e.getBody());iU(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),sU(e),e.readonly=!0,zu(n,!1),oU(n)):(e.readonly=!1,zu(n,!0),uU(n),$c(e,"StyleWithCSS",!1),$c(e,"enableInlineTableEditing",!1),$c(e,"enableObjectResizing",!1),hN(e)&&e.focus(),fU(e),e.nodeChanged())},Kr=function(e){return e.readonly},dC=function(e){e.parser.addAttributeFilter("contenteditable",function(t){Kr(e)&&Q(t,function(n){n.attr(jr,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(jr,function(t){Kr(e)&&Q(t,function(n){n.attr("contenteditable",n.attr(jr))})}),e.serializer.addTempAttr(jr)},cU=function(e){e.serializer?dC(e):e.on("PreInit",function(){dC(e)})},vU=function(e){return e.type==="click"},dU=function(e,t){var n=function(r){return Ae(r,k.fromDom(e.getBody()))};return As(t,"a",n).bind(function(r){return rd(r,"href")})},pU=function(e,t){if(vU(t)&&!ae.metaKeyPressed(t)){var n=k.fromDom(t.target);dU(e,n).each(function(r){if(t.preventDefault(),/^#/.test(r)){var a=e.dom.select(r+',[name="'+p0(r,"#")+'"]');a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},mU=function(e){e.on("ShowCaret",function(t){Kr(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){Kr(e)&&t.preventDefault()})},hU=_.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Lc=function(){function e(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Be}return e.isNative=function(t){return!!hU[t.toLowerCase()]},e.prototype.fire=function(t,n){var r=t.toLowerCase(),a=Dd(r,n||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);var i=this.bindings[r];if(i)for(var o=0,u=i.length;o<u;o++){var s=i[o];if(!s.removed){if(s.once&&this.off(r,s.func),a.isImmediatePropagationStopped())return a;if(s.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a},e.prototype.on=function(t,n,r,a){if(n===!1&&(n=Be),n){var i={func:n,removed:!1};a&&_.extend(i,a);for(var o=t.toLowerCase().split(" "),u=o.length;u--;){var s=o[u],f=this.bindings[s];f||(f=[],this.toggleEvent(s,!0)),r?f=On([i],f,!0):f=On(On([],f,!0),[i],!1),this.bindings[s]=f}}return this},e.prototype.off=function(t,n){var r=this;if(t)for(var a=t.toLowerCase().split(" "),i=a.length;i--;){var o=a[i],u=this.bindings[o];if(!o)return Ie(this.bindings,function(f,l){r.toggleEvent(l,!1),delete r.bindings[l]}),this;if(u){if(!n)u.length=0;else{var s=Zc(u,function(f){return f.func===n});u=s.fail,this.bindings[o]=u,Q(s.pass,function(f){f.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}else Ie(this.bindings,function(f,l){r.toggleEvent(l,!1)}),this.bindings={};return this},e.prototype.once=function(t,n,r){return this.on(t,n,r,{once:!0})},e.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},e}(),zi=function(e){return e._eventDispatcher||(e._eventDispatcher=new Lc({scope:e,toggleEvent:function(t,n){Lc.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},Hu={fire:function(e,t,n){var r=this;if(r.removed&&e!=="remove"&&e!=="detach")return t;var a=zi(r).fire(e,t);if(n!==!1&&r.parent)for(var i=r.parent();i&&!a.isPropagationStopped();)i.fire(e,a,!1),i=i.parent();return a},on:function(e,t,n){return zi(this).on(e,t,n)},off:function(e,t){return zi(this).off(e,t)},once:function(e,t){return zi(this).once(e,t)},hasEventListeners:function(e){return zi(this).has(e)}},Vu=Te.DOM,Gr,qu=function(e,t){if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=jp(e);return n?(e.eventRoot||(e.eventRoot=Vu.select(n)[0]),e.eventRoot):e.getBody()},gU=function(e){return!e.hidden&&!Kr(e)},pC=function(e,t,n){gU(e)?e.fire(t,n):Kr(e)&&pU(e,n)},mC=function(e,t){var n;if(e.delegates||(e.delegates={}),!(e.delegates[t]||e.removed)){var r=qu(e,t);if(jp(e)){if(Gr||(Gr={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Gr&&(Ie(Gr,function(a,i){e.dom.unbind(qu(e,i))}),Gr=null)})),Gr[t])return;n=function(a){for(var i=a.target,o=e.editorManager.get(),u=o.length;u--;){var s=o[u].getBody();(s===i||Vu.isChildOf(i,s))&&pC(o[u],t,a)}},Gr[t]=n,Vu.bind(r,t,n)}else n=function(a){pC(e,t,a)},Vu.bind(r,t,n),e.delegates[t]=n}},hC=oe(oe({},Hu),{bindPendingEventDelegates:function(){var e=this;_.each(e._pendingNativeEvents,function(t){mC(e,t)})},toggleNativeEvent:function(e,t){var n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?mC(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(qu(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(Ie(e.delegates,function(r,a){e.dom.unbind(qu(e,a),a,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),bU=["design","readonly"],gC=function(e,t,n,r){var a=n[t.get()],i=n[r];try{i.activate()}catch(o){console.error("problem while activating editor mode "+r+":",o);return}a.deactivate(),a.editorReadOnly!==i.editorReadOnly&&lU(e,i.editorReadOnly),t.set(r),U1(e,r)},yU=function(e,t,n,r){if(r!==n.get()){if(!ge(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?gC(e,n,t,r):e.on("init",function(){return gC(e,n,t,r)})}},CU=function(e,t,n){var r;if(et(bU,t))throw new Error("Cannot override default mode "+t);return oe(oe({},e),(r={},r[t]=oe(oe({},n),{deactivate:function(){try{n.deactivate()}catch(a){console.error("problem while deactivating editor mode "+t+":",a)}}}),r))},wU=function(e){var t=dt("design"),n=dt({design:{activate:pe,deactivate:pe,editorReadOnly:!1},readonly:{activate:pe,deactivate:pe,editorReadOnly:!0}});return cU(e),mU(e),{isReadOnly:function(){return Kr(e)},set:function(r){return yU(e,n.get(),t,r)},get:function(){return t.get()},register:function(r,a){n.set(CU(n.get(),r,a))}}},Fc=_.each,Mc=_.explode,SU={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},bC=_.makeMap("alt,ctrl,shift,meta,access"),EU=function(e){var t,n={};Fc(Mc(e.toLowerCase(),"+"),function(a){a in bC?n[a]=!0:/^[0-9]{2,}$/.test(a)?n.keyCode=parseInt(a,10):(n.charCode=a.charCodeAt(0),n.keyCode=SU[a]||a.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in bC)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,fe.mac?n.ctrl=!0:n.shift=!0),n.meta&&(fe.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},yC=function(){function e(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",function(r){(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(Fc(n.shortcuts,function(a){if(n.matchShortcut(r,a))return n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a),!0}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}return e.prototype.add=function(t,n,r,a){var i=this,o=i.normalizeCommandFunc(r);return Fc(Mc(_.trim(t)),function(u){var s=i.createShortcut(u,n,o,a);i.shortcuts[s.id]=s}),!0},e.prototype.remove=function(t){var n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1},e.prototype.normalizeCommandFunc=function(t){var n=this,r=t;return typeof r=="string"?function(){n.editor.execCommand(r,!1,null)}:_.isArray(r)?function(){n.editor.execCommand(r[0],r[1],r[2])}:r},e.prototype.createShortcut=function(t,n,r,a){var i=_.map(Mc(t,">"),EU);return i[i.length-1]=_.extend(i[i.length-1],{func:r,scope:a||this.editor}),_.extend(i[0],{desc:this.editor.translate(n),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},e.prototype.isFunctionKey=function(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123},e.prototype.matchShortcut=function(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},e}(),kU=function(){var e={},t={},n={},r={},a={},i={},o={},u=function(f,l){return function(c,v){return f[c.toLowerCase()]=oe(oe({},v),{type:l})}},s=function(f,l){return r[f.toLowerCase()]=l};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(o,"sidebar"),addIcon:s,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:a,contextToolbars:i,sidebars:o}}}},xU=function(){var e=kU();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Xr=Te.DOM,CC=_.extend,TU=_.each,wC=_.resolve,NU=fe.ie,Wu=function(){function e(t,n,r){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,CC(this,hC),this.settings=OO(this,t,this.documentBaseUrl,r.defaultSettings,n),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(Ln.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Te.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Bt.languageLoad=this.settings.language_load,Bt.baseURL=r.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new lr(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new yC(this),this.editorCommands=new vC(this),this.settings.cache_suffix&&(fe.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:xU(),styleSheetLoader:void 0,show:pe,hide:pe,enable:pe,disable:pe,isDisabled:Be};var i=this,o=wU(i);this.mode=o,this.setMode=o.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ue.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}return e.prototype.render=function(){LM(this)},e.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},e.prototype.hasFocus=function(){return Fr(this)},e.prototype.execCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this,i=a.settings[t],o;if(!!i)return a.callbackLookup&&(o=a.callbackLookup[t])&&(i=o.func,o=o.scope),typeof i=="string"&&(o=i.replace(/\.\w+$/,""),o=o?wC(o):0,i=wC(i),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[t]={func:i,scope:o}),i.apply(o||a,n)},e.prototype.translate=function(t){return an.translate(t)},e.prototype.getParam=function(t,n,r){return $O(this,t,n,r)},e.prototype.hasPlugin=function(t,n){var r=et(Sf(this).split(/[ ,]/),t);return r?n?fn.get(t)!==void 0:!0:!1},e.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},e.prototype.addCommand=function(t,n,r){this.editorCommands.addCommand(t,n,r)},e.prototype.addQueryStateHandler=function(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)},e.prototype.addQueryValueHandler=function(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)},e.prototype.addShortcut=function(t,n,r,a){this.shortcuts.add(t,n,r,a)},e.prototype.execCommand=function(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)},e.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},e.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},e.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},e.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Xr.show(t.getContainer()),Xr.hide(t.id)),t.load(),t.fire("show"))},e.prototype.hide=function(){var t=this,n=t.getDoc();t.hidden||(NU&&n&&!t.inline&&n.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Xr.hide(t.getContainer()),Xr.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(t,n){this.fire("ProgressState",{state:t,time:n})},e.prototype.load=function(t){var n=this,r=n.getElement(),a;if(n.removed)return"";if(r){t=t||{},t.load=!0;var i=Ss(r)?r.value:r.innerHTML;return a=n.setContent(i,t),t.element=r,t.no_events||n.fire("LoadContent",t),t.element=r=null,a}},e.prototype.save=function(t){var n=this,r=n.getElement(),a,i;if(!(!r||!n.initialized||n.removed))return t=t||{},t.save=!0,t.element=r,a=t.content=n.getContent(t),t.no_events||n.fire("SaveContent",t),t.format==="raw"&&n.fire("RawSaveContent",t),a=t.content,Ss(r)?r.value=a:((t.is_removing||!n.inline)&&(r.innerHTML=a),(i=Xr.getParent(n.id,"form"))&&TU(i.elements,function(o){if(o.name===n.id)return o.value=a,!1})),t.element=r=null,t.set_dirty!==!1&&n.setDirty(!1),a},e.prototype.setContent=function(t,n){return ic(this,t,n)},e.prototype.getContent=function(t){return nO(this,t)},e.prototype.insertContent=function(t,n){n&&(t=CC({content:t},n)),this.execCommand("mceInsertContent",!1,t)},e.prototype.resetContent=function(t){t===void 0?ic(this,this.startContent,{format:"raw"}):ic(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(t){var n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.fire("dirty")},e.prototype.getContainer=function(){var t=this;return t.container||(t.container=Xr.get(t.editorContainer||t.id+"_parent")),t.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Xr.get(this.id)),this.targetElm},e.prototype.getWin=function(){var t=this,n;return t.contentWindow||(n=t.iframeElement,n&&(t.contentWindow=n.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var t=this,n;return t.contentDocument||(n=t.getWin(),n&&(t.contentDocument=n.document)),t.contentDocument},e.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},e.prototype.convertURL=function(t,n,r){var a=this,i=a.settings;return i.urlconverter_callback?a.execCallback("urlconverter_callback",t,r,!0,n):!i.convert_urls||r&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:i.relative_urls?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,i.remove_script_host),t)},e.prototype.addVisual=function(t){FM(this,t)},e.prototype.remove=function(){oO(this)},e.prototype.destroy=function(t){uO(this,t)},e.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Qt=Te.DOM,AU=_.explode,_n=_.each,RU=_.extend,BU=0,SC=!1,ju,hr=[],Et=[],_U=function(e){return e!=="length"},EC=function(e){var t=e.type;_n(gr.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}})},kC=function(e){e!==SC&&(e?ue(window).on("resize scroll",EC):ue(window).off("resize scroll",EC),SC=e)},xC=function(e){var t=Et;delete hr[e.id];for(var n=0;n<hr.length;n++)if(hr[n]===e){hr.splice(n,1);break}return Et=he(Et,function(r){return e!==r}),gr.activeEditor===e&&(gr.activeEditor=Et.length>0?Et[0]:null),gr.focusedEditor===e&&(gr.focusedEditor=null),t.length!==Et.length},DU=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(xC(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},OU=document.compatMode!=="CSS1Compat",gr=oe(oe({},Hu),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ue,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:hr,i18n:an,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,t,n,r="";n=lr.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,r=a.suffix;else{for(var i=document.getElementsByTagName("script"),o=0;o<i.length;o++){var u=i[o].src||"";if(u!==""){var s=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){s.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var u=document.currentScript.src;u.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new lr(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new lr(e.baseURL),e.suffix=r,sN(e)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;r!==void 0&&Ie(r,function(a,i){Bt.PluginManager.urls[i]=a})},init:function(e){var t=this,n,r=_.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(c,v){return c.inline&&v.tagName.toLowerCase()in r},i=function(c){var v=c.id;return v||(v=Ke(c,"name").filter(function(d){return!Qt.get(d)}).getOrThunk(Qt.uniqueId),c.setAttribute("id",v)),v},o=function(c){var v=e[c];if(!!v)return v.apply(t,[])},u=function(c,v){return v.constructor===RegExp?v.test(c.className):Qt.hasClass(c,v)},s=function(c){var v=[];if(fe.browser.isIE()&&fe.browser.version.major<11)return gu("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(OU)return gu("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(c.types)return _n(c.types,function(p){v=v.concat(Qt.select(p.selector))}),v;if(c.selector)return Qt.select(c.selector);if(c.target)return[c.target];switch(c.mode){case"exact":var d=c.elements||"";d.length>0&&_n(AU(d),function(p){var m=Qt.get(p);m?v.push(m):_n(document.forms,function(h){_n(h.elements,function(y){y.name===p&&(p="mce_editor_"+BU++,Qt.setAttrib(y,"id",p),v.push(y))})})});break;case"textareas":case"specific_textareas":_n(Qt.select("textarea"),function(p){c.editor_deselector&&u(p,c.editor_deselector)||(!c.editor_selector||u(p,c.editor_selector))&&v.push(p)});break}return v},f=function(c){n=c},l=function(){var c=0,v=[],d,p=function(m,h,y){var g=new Wu(m,h,t);v.push(g),g.on("init",function(){++c===d.length&&f(v)}),g.targetElm=g.targetElm||y,g.render()};if(Qt.unbind(window,"ready",l),o("onpageload"),d=ue.unique(s(e)),e.types){_n(e.types,function(m){_.each(d,function(h){return Qt.is(h,m.selector)?(p(i(h),RU({},e,m),h),!1):!0})});return}_.each(d,function(m){DU(t.get(m.id))}),d=_.grep(d,function(m){return!t.get(m.id)}),d.length===0?f([]):_n(d,function(m){a(e,m)?gu("Could not initialize inline editor on invalid inline target element",m):p(i(m),e,m)})};return t.settings=e,Qt.bind(window,"ready",l),new ot(function(c){n?c(n):f=function(v){c(v)}})},get:function(e){return arguments.length===0?Et.slice(0):Ve(e)?tt(Et,function(t){return t.id===e}).getOr(null):Jr(e)&&Et[e]?Et[e]:null},add:function(e){var t=this,n=hr[e.id];return n===e||(t.get(e.id)===null&&(_U(e.id)&&(hr[e.id]=e),hr.push(e),Et.push(e)),kC(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),ju||(ju=function(r){var a=t.fire("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",ju))),e},createEditor:function(e,t){return this.add(new Wu(e,t,this))},remove:function(e){var t=this,n,r;if(!e){for(n=Et.length-1;n>=0;n--)t.remove(Et[n]);return}if(Ve(e)){_n(Qt.select(e),function(a){r=t.get(a.id),r&&t.remove(r)});return}return r=e,Ga(t.get(r.id))?null:(xC(r)&&t.fire("RemoveEditor",{editor:r}),Et.length===0&&window.removeEventListener("beforeunload",ju),r.remove(),kC(Et.length>0),r)},execCommand:function(e,t,n){var r=this,a=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new Wu(n,r.settings,r).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:function(){_n(Et,function(e){e.save()})},addI18n:function(e,t){an.add(e,t)},translate:function(e){return an.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new lr(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new lr(this.baseURL)}});gr.setup();var TC=Math.min,Wa=Math.max,Ku=Math.round,NC=function(e,t,n){var r=t.x,a=t.y,i=e.w,o=e.h,u=t.w,s=t.h,f=(n||"").split("");return f[0]==="b"&&(a+=s),f[1]==="r"&&(r+=u),f[0]==="c"&&(a+=Ku(s/2)),f[1]==="c"&&(r+=Ku(u/2)),f[3]==="b"&&(a-=o),f[4]==="r"&&(r-=i),f[3]==="c"&&(a-=Ku(o/2)),f[4]==="c"&&(r-=Ku(i/2)),ja(r,a,i,o)},PU=function(e,t,n,r){var a,i;for(i=0;i<r.length;i++)if(a=NC(e,t,r[i]),a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[i];return null},IU=function(e,t,n){return ja(e.x-t,e.y-n,e.w+t*2,e.h+n*2)},$U=function(e,t){var n=Wa(e.x,t.x),r=Wa(e.y,t.y),a=TC(e.x+e.w,t.x+t.w),i=TC(e.y+e.h,t.y+t.h);return a-n<0||i-r<0?null:ja(n,r,a-n,i-r)},LU=function(e,t,n){var r=e.x,a=e.y,i=e.x+e.w,o=e.y+e.h,u=t.x+t.w,s=t.y+t.h,f=Wa(0,t.x-r),l=Wa(0,t.y-a),c=Wa(0,i-u),v=Wa(0,o-s);return r+=f,a+=l,n&&(i+=f,o+=l,r-=c,a-=v),i-=c,o-=v,ja(r,a,i-r,o-a)},ja=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},FU=function(e){return ja(e.left,e.top,e.width,e.height)},MU={inflate:IU,relativePosition:NC,findBestRelativePosition:PU,intersect:$U,clamp:LU,create:ja,fromClientRect:FU},UU=function(e,t,n){n===void 0&&(n=1e3);var r=!1,a=null,i=function(f){return function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];r||(r=!0,a!==null&&(clearTimeout(a),a=null),f.apply(null,l))}},o=i(e),u=i(t),s=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];!r&&a===null&&(a=setTimeout(function(){return u.apply(null,f)},n))};return{start:s,resolve:o,reject:u}},zU=function(){var e={},t={},n=function(a,i){var o='Script at URL "'+i+'" failed to load',u='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(e[a]!==void 0)return e[a];var s=new ot(function(f,l){var c=UU(f,l);t[a]=c.resolve,Ln.ScriptLoader.loadScript(i,function(){return c.start(u)},function(){return c.reject(o)})});return e[a]=s,s},r=function(a,i){t[a]!==void 0&&(t[a](i),delete t[a]),e[a]=ot.resolve(i)};return{load:n,add:r}},HU=zU(),Gu=_.each,VU=_.extend,AC,Uc,RC=function(){};RC.extend=AC=function(e){var t=this,n=t.prototype,r=function(){var u,s,f,l=this;if(!Uc&&(l.init&&l.init.apply(l,arguments),s=l.Mixins,s))for(u=s.length;u--;)f=s[u],f.init&&f.init.apply(l,arguments)},a=function(){return this},i=function(u,s){return function(){var f=this,l=f._super;f._super=n[u];var c=s.apply(f,arguments);return f._super=l,c}};Uc=!0;var o=new t;return Uc=!1,e.Mixins&&(Gu(e.Mixins,function(u){for(var s in u)s!=="init"&&(e[s]=u[s])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&Gu(e.Methods.split(","),function(u){e[u]=a}),e.Properties&&Gu(e.Properties.split(","),function(u){var s="_"+u;e[u]=function(f){var l=this;return f!==void 0?(l[s]=f,l):l[s]}}),e.Statics&&Gu(e.Statics,function(u,s){r[s]=u}),e.Defaults&&n.Defaults&&(e.Defaults=VU({},n.Defaults,e.Defaults)),Ie(e,function(u,s){typeof u=="function"&&n[s]?o[s]=i(s,u):o[s]=u}),r.prototype=o,r.constructor=r,r.extend=AC,r};var Xu=Math.min,Yu=Math.max,Yr=Math.round,qU=function(e){var t={},n=0,r=0,a=0,i=function(c,v,d){var p,m,h;p=0,m=0,h=0,c=c/255,v=v/255,d=d/255;var y=Xu(c,Xu(v,d)),g=Yu(c,Yu(v,d));if(y===g)return h=y,{h:0,s:0,v:h*100};var E=c===y?v-d:d===y?c-v:d-c;return p=c===y?3:d===y?1:5,p=60*(p-E/(g-y)),m=(g-y)/g,h=g,{h:Yr(p),s:Yr(m*100),v:Yr(h*100)}},o=function(c,v,d){if(c=(parseInt(c,10)||0)%360,v=parseInt(v,10)/100,d=parseInt(d,10)/100,v=Yu(0,Xu(v,1)),d=Yu(0,Xu(d,1)),v===0){n=r=a=Yr(255*d);return}var p=c/60,m=d*v,h=m*(1-Math.abs(p%2-1)),y=d-m;switch(Math.floor(p)){case 0:n=m,r=h,a=0;break;case 1:n=h,r=m,a=0;break;case 2:n=0,r=m,a=h;break;case 3:n=0,r=h,a=m;break;case 4:n=h,r=0,a=m;break;case 5:n=m,r=0,a=h;break;default:n=r=a=0}n=Yr(255*(n+y)),r=Yr(255*(r+y)),a=Yr(255*(a+y))},u=function(){var c=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+c(n)+c(r)+c(a)},s=function(){return{r:n,g:r,b:a}},f=function(){return i(n,r,a)},l=function(c){var v;return typeof c=="object"?"r"in c?(n=c.r,r=c.g,a=c.b):"v"in c&&o(c.h,c.s,c.v):(v=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(c))?(n=parseInt(v[1],10),r=parseInt(v[2],10),a=parseInt(v[3],10)):(v=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(c))?(n=parseInt(v[1],16),r=parseInt(v[2],16),a=parseInt(v[3],16)):(v=/#([0-F])([0-F])([0-F])/gi.exec(c))&&(n=parseInt(v[1]+v[1],16),r=parseInt(v[2]+v[2],16),a=parseInt(v[3]+v[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,a=a<0?0:a>255?255:a,t};return e&&l(e),t.toRgb=s,t.toHsv=f,t.toHex=u,t.parse=l,t},WU=function(e){var t=JSON.stringify(e);return Ve(t)?t.replace(/[\u0080-\uFFFF]/g,function(n){var r=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(r.length)+r}):t},zc={serialize:WU,parse:function(e){try{return JSON.parse(e)}catch{}}},jU={callbacks:{},count:0,send:function(e){var t=this,n=Te.DOM,r=e.count!==void 0?e.count:t.count,a="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(a),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:a,src:e.url,type:"text/javascript"}),t.count++}},Qu=oe(oe({},Hu),{send:function(e){var t,n=0,r=function(){!e.async||t.readyState===4||n++>1e4?(e.success&&n<1e4&&t.status===200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):ut.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",Qu.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&_.each(e.requestheaders,function(a){t.setRequestHeader(a.key,a.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=Qu.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();ut.setTimeout(r,10)}}),BC=_.extend,KU=function(){function e(t){this.settings=BC({},t),this.count=0}return e.sendRPC=function(t){return new e().send(t)},e.prototype.send=function(t){var n=t.error,r=t.success,a=BC(this.settings,t);a.success=function(i,o){i=zc.parse(i),typeof i=="undefined"&&(i={error:"JSON Parse error."}),i.error?n.call(a.error_scope||a.scope,i.error,o):r.call(a.success_scope||a.scope,i.result)},a.error=function(i,o){n&&n.call(a.error_scope||a.scope,i,o)},a.data=zc.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),a.content_type="application/json",Qu.send(a)},e}(),GU=function(){return function(){var e={},t=[],n={getItem:function(r){var a=e[r];return a||null},setItem:function(r,a){t.push(r),e[r]=String(a)},key:function(r){return t[r]},removeItem:function(r){t=t.filter(function(a){return a===r}),delete e[r]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()},Hi;try{var Hc="__storage_test__";Hi=window.localStorage,Hi.setItem(Hc,Hc),Hi.removeItem(Hc)}catch{Hi=GU()}var XU=Hi,YU={geom:{Rect:MU},util:{Promise:ot,Delay:ut,Tools:_,VK:ae,URI:lr,Class:RC,EventDispatcher:Lc,Observable:Hu,I18n:an,XHR:Qu,JSON:zc,JSONRequest:KU,JSONP:jU,LocalStorage:XU,Color:qU,ImageUploader:uP},dom:{EventUtils:ha,Sizzle:Se,DomQuery:ue,TreeWalker:Xe,TextSeeker:vp,DOMUtils:Te,ScriptLoader:Ln,RangeUtils:Ai,Serializer:jg,StyleSheetLoader:hd,ControlSelection:Lm,BookmarkManager:Ni,Selection:Mg,Event:ha.Event},html:{Styles:Vs,Entities:Qn,Node:Yt,Schema:Jn,SaxParser:Zo,DomParser:ac,Writer:vh,Serializer:$a},Env:fe,AddOnManager:Bt,Annotator:Pm,Formatter:fb,UndoManager:cb,EditorCommands:vC,WindowManager:tb,NotificationManager:eb,EditorObservable:hC,Shortcuts:yC,Editor:Wu,FocusManager:th,EditorManager:gr,DOM:Te.DOM,ScriptLoader:Ln.ScriptLoader,PluginManager:fn,ThemeManager:pr,IconManager:mu,Resource:HU,trim:_.trim,isArray:_.isArray,is:_.is,toArray:_.toArray,makeMap:_.makeMap,each:_.each,map:_.map,grep:_.grep,inArray:_.inArray,extend:_.extend,create:_.create,walk:_.walk,createNS:_.createNS,resolve:_.resolve,explode:_.explode,_addCacheSuffix:_._addCacheSuffix,isOpera:fe.opera,isWebKit:fe.webkit,isIE:fe.ie,isGecko:fe.gecko,isMac:fe.mac},_C=_.extend(gr,YU),QU=function(e){try{N.exports=e}catch{}},ZU=function(e){window.tinymce=e,window.tinyMCE=e};ZU(_C),QU(_C)})()})(MC);var Wc=MC.exports,s2=function(){var N=this,de=N.$createElement,le=N._self._c||de;return le("div",{staticClass:"teditor-wrapper"},[le("div",{staticClass:"teditor-box",class:[!N.inline&&N.spinShow?"teditor-loadstyle":"teditor-loadedstyle"]},[N.inline?[le("div",{ref:"myTextarea",attrs:{id:N.id},domProps:{innerHTML:N._s(N.spinShow?"":N.content)}}),N.spinShow?le("Icon",{staticClass:"icon-loading icon-inline",attrs:{type:"ios-loading",size:18}}):N._e()]:[le("textarea",{ref:"myTextarea",attrs:{id:N.id}},[N._v(N._s(N.content))]),N.spinShow?le("Spin",{attrs:{fix:""}},[le("Icon",{staticClass:"icon-loading",attrs:{type:"ios-loading",size:18}}),le("div",[N._v(N._s(N.$L("\u52A0\u8F7D\u7EC4\u4EF6\u4E2D...")))])],1):N._e()],le("ImgUpload",{ref:"myUpload",staticClass:"upload-control",attrs:{type:"callback",uploadIng:N.uploadIng,num:"50"},on:{"update:uploadIng":function(ce){N.uploadIng=ce},"update:upload-ing":function(ce){N.uploadIng=ce},"on-callback":N.editorImage}}),le("Upload",{ref:"fileUpload",staticClass:"upload-control",attrs:{name:"files",action:N.actionUrl,headers:N.headers,multiple:"",format:N.uploadFormat,"show-upload-list":!1,"max-size":N.maxSize,"on-progress":N.handleProgress,"on-success":N.handleSuccess,"on-error":N.handleError,"on-format-error":N.handleFormatError,"on-exceeded-size":N.handleMaxSize,"before-upload":N.handleBeforeUpload}})],2),N.uploadIng>0?le("Spin",{attrs:{fix:""}},[le("Icon",{staticClass:"icon-loading",attrs:{type:"ios-loading"}}),le("div",[N._v(N._s(N.$L("\u6B63\u5728\u4E0A\u4F20\u6587\u4EF6...")))])],1):N._e(),le("Modal",{staticClass:"teditor-transfer",attrs:{"footer-hide":"",fullscreen:"",transfer:""},on:{"on-visible-change":N.transferChange},model:{value:N.transfer,callback:function(ce){N.transfer=ce},expression:"transfer"}},[le("div",{attrs:{slot:"close"},slot:"close"},[le("Button",{attrs:{type:"primary",size:"small"}},[N._v(N._s(N.$L("\u5B8C\u6210")))])],1),le("div",{staticClass:"teditor-transfer-body"},[le("textarea",{attrs:{id:"T_"+N.id}},[N._v(N._s(N.content))])]),N.uploadIng>0?le("Spin",{attrs:{fix:""}},[le("Icon",{staticClass:"icon-loading",attrs:{type:"ios-loading"}}),le("div",[N._v(N._s(N.$L("\u6B63\u5728\u4E0A\u4F20\u6587\u4EF6...")))])],1):N._e()],1),le("Modal",{attrs:{title:N.$L("\u6DFB\u52A0\u5173\u8054\u4EFB\u52A1"),width:"640",transfer:""},model:{value:N.insertTaskModelShow,callback:function(ce){N.insertTaskModelShow=ce},expression:"insertTaskModelShow"}},[le("div",{staticStyle:{display:"flex",gap:"6px"}},[le("Select",{attrs:{filterable:"",clearable:"","remote-method":N.remoteMethod,placeholder:N.$L("\u8BF7\u9009\u62E9\u9879\u76EE\u540D\u79F0"),loading:N.loadIng>0},on:{"on-query-change":N.remoteMethodClear,"on-change":function(ce){return N.selectTask("search")}},model:{value:N.project,callback:function(ce){N.project=ce},expression:"project"}},[N._l(N.projectList,function(ce,Fe){return le("Option",{key:Fe,attrs:{value:ce.id}},[N._v(N._s(ce.name))])}),N.next_page_url!=null?le("div",{staticStyle:{"text-align":"center",padding:"8px 0",cursor:"pointer",color:"#8bcf70"},attrs:{slot:"drop-append"},on:{click:N.moreProject},slot:"drop-append"},[N._v(N._s(N.$L("\u70B9\u51FB\u67E5\u770B\u66F4\u591A")))]):N._e()],2),le("Input",{attrs:{placeholder:N.$L("\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"),suffix:"ios-search"},on:{"on-change":function(ce){return N.selectTask("search")}},model:{value:N.keyword,callback:function(ce){N.keyword=ce},expression:"keyword"}})],1),le("Table",{staticStyle:{"margin-top":"12px"},attrs:{height:"300",columns:N.todayTaskColumns,data:N.todayTaskList,loading:N.loadIng>0,"no-data-text":N.todayTaskListNoText,"highlight-row":"",stripe:""},on:{"on-select":N.selectChange,"on-select-all-cancel":N.selectChange,"on-select-all":N.selectChange}}),le("div",{staticStyle:{"margin-top":"12px",display:"flex","justify-content":"center"}},[le("Page",{attrs:{total:N.total,current:N.page,"page-size":N.pageSize,disabled:N.loadIng>0,simple:!0},on:{"on-change":N.setPage,"on-page-size-change":N.setPageSize}})],1),le("div",{staticClass:"adaption",attrs:{slot:"footer"},slot:"footer"},[le("Button",{attrs:{type:"default"},on:{click:function(ce){N.insertTaskModelShow=!1}}},[N._v(N._s(N.$L("\u53D6\u6D88")))]),le("Button",{attrs:{type:"primary"},on:{click:function(ce){return N.insertTask()}}},[N._v(N._s(N.$L("\u63D2\u5165")))])],1)],1)],1)},f2=[];const l2={name:"TEditor",components:{ImgUpload:u2},props:{id:{type:String,default:()=>"tinymce_"+Math.round(Math.random()*1e4)},value:{default:""},height:{default:360},minHeight:{type:Number,default:0},htmlClass:{default:"",type:String},plugins:{type:Array,default:()=>["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace visualblocks visualchars code","insertdatetime media nonbreaking save table directionality","emoticons paste codesample"]},toolbar:{type:String,default:" undo redo | styleselect | uploadImages | uploadFiles | bold italic underline forecolor backcolor | alignleft aligncenter alignright | bullist numlist outdent indent | link image emoticons media codesample | preview screenload"},options:{type:Object,default:()=>({})},optionFull:{type:Object,default:()=>({})},inline:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1},placeholder:{type:String,default:""},placeholderFull:{type:String,default:""}},data(){return{content:"",editor:null,editorT:null,cTinyMce:null,checkerTimeout:null,isTyping:!1,spinShow:!0,transfer:!1,uploadIng:0,uploadFormat:["jpg","jpeg","webp","png","gif","doc","docx","xls","xlsx","ppt","pptx","txt","esp","pdf","rar","zip","gz","ai","avi","bmp","cdr","eps","mov","mp3","mp4","pr","psd","svg","tif"],actionUrl:$A.apiUrl("system/fileupload"),maxSize:10240,insertTaskModelShow:!1,todayTaskColumns:[{type:"selection",width:60,align:"center"},{title:this.$L(" \u9879\u76EE\u540D"),render:(N,{row:de})=>{var le;return N("span",(le=de.project)==null?void 0:le.name)}},{title:this.$L(" \u4EFB\u52A1\u540D"),key:"name"}],todayTask:[],todayTaskList:[],todayTaskListNoText:"",loadIng:0,total:0,page:1,pageSize:10,keyword:"",projectPage:1,project:"",projectList:[],next_page_url:null}},mounted(){this.content=this.value,this.init()},beforeDestroy(){this.editor!==null&&(this.editor.destroy(),this.editor=null),this.spinShow=!0,$A(this.$refs.myTextarea).show()},activated(){this.content=this.value,this.init()},deactivated(){this.editor!==null&&(this.editor.destroy(),this.editor=null),this.spinShow=!0,$A(this.$refs.myTextarea).show()},computed:{...i2(["themeIsDark"]),headers(){return{fd:$A.getSessionStorageString("userWsFd"),token:this.userToken}}},watch:{value(N){N==null&&(N=""),this.isTyping||this.setContent(N)},readOnly(N){this.editor!==null&&(N?this.editor.setMode("readonly"):this.editor.setMode("design"))}},methods:{init(){this.$nextTick(()=>{Wc.init(this.concatAssciativeArrays(this.option(!1),this.options))})},initTransfer(){this.$nextTick(()=>{Wc.init(this.concatAssciativeArrays(this.option(!0),this.optionFull))})},plugin(N){return N?this.plugins.filter(de=>de!="autoresize"):this.plugins},option(N){let de=LC;switch(LC){case"zh":de="zh_CN";break;case"zh-CHT":de="zh-TW";break;case"fr":de="fr_FR";break;case"ko":de="ko_KR";break}const le={inline:N?!1:this.inline,selector:(N?"#T_":"#")+this.id,base_url:$A.originUrl("js/tinymce"),language:de,toolbar:this.toolbar,plugins:this.plugin(N),placeholder:N&&this.placeholderFull?this.placeholderFull:this.placeholder,save_onsavecallback:ce=>{this.$emit("editorSave",ce)},paste_data_images:!0,menu:{task:{title:this.$L("\u4ECA\u65E5\u5173\u8054\u4EFB\u52A1"),items:"selectTask"}},menubar:"file edit insert view format table tools task",codesample_languages:[{text:"HTML/VUE/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],height:N?"100%":$A.rightExists(this.height,"%")?this.height:$A.runNum(this.height)||360,resize:!N,convert_urls:!1,toolbar_mode:"sliding",content_css:this.themeIsDark?"dark":"default",setup:ce=>{ce.on("click",Fe=>{$(Fe.target).is(".task-open")&&this.openTask($(Fe.target).data("id"))}),ce.on("keyup",Fe=>{Fe.key==="Backspace"&&setTimeout(()=>{let bt=ce.selection.getNode();$(bt).is(".task-open")&&bt.remove()},10)}),ce.ui.registry.addMenuButton("uploadImages",{text:this.$L("\u56FE\u7247"),tooltip:this.$L("\u4E0A\u4F20/\u6D4F\u89C8 \u56FE\u7247"),fetch:Fe=>{let bt=[{type:"menuitem",text:this.$L("\u4E0A\u4F20\u672C\u5730\u56FE\u7247"),onAction:()=>{this.$refs.myUpload.handleClick()}},{type:"menuitem",text:this.$L("\u6D4F\u89C8\u5DF2\u4E0A\u4F20\u56FE\u7247"),onAction:()=>{this.$refs.myUpload.browsePicture()}}];Fe(bt)}}),ce.ui.registry.addButton("uploadFiles",{text:this.$L("\u6587\u4EF6"),tooltip:this.$L("\u4E0A\u4F20\u6587\u4EF6"),onAction:()=>{this.handleBeforeUpload()&&this.$refs.fileUpload.handleClick()}}),ce.ui.registry.addMenuItem("selectTask",{text:this.$L("\u63D2\u5165..."),onAction:()=>{this.selectTask(),this.remoteMethod()}}),N?(ce.ui.registry.addButton("screenload",{icon:"fullscreen",tooltip:this.$L("\u9000\u51FA\u5168\u5C4F"),onAction:()=>{this.closeFull()}}),ce.ui.registry.addMenuItem("screenload",{text:this.$L("\u9000\u51FA\u5168\u5C4F"),onAction:()=>{this.closeFull()}}),ce.on("Init",Fe=>{this.editorT=ce,this.editorT.setContent(this.content),this.readOnly?this.editorT.setMode("readonly"):this.editorT.setMode("design")})):(ce.ui.registry.addButton("screenload",{icon:"fullscreen",tooltip:this.$L("\u5168\u5C4F"),onAction:()=>{this.content=ce.getContent(),this.transfer=!0,this.initTransfer()}}),ce.ui.registry.addMenuItem("screenload",{text:this.$L("\u5168\u5C4F"),onAction:()=>{this.content=ce.getContent(),this.transfer=!0,this.initTransfer()}}),ce.on("Init",Fe=>{this.spinShow=!1,this.editor=ce,this.editor.setContent(this.content),this.readOnly?this.editor.setMode("readonly"):this.editor.setMode("design"),this.$emit("editorInit",this.editor)}),ce.on("KeyUp",Fe=>{this.editor!==null&&this.submitNewContent()}),ce.on("KeyDown",Fe=>{(Fe.metaKey||Fe.ctrlKey)&&Fe.keyCode===83&&(Fe.preventDefault(),this.$emit("editorSave",Fe))}),ce.on("Change",Fe=>{this.editor!==null&&(this.getContent()!==this.value&&this.submitNewContent(),this.$emit("editorChange",Fe))}),ce.on("focus",()=>{this.$emit("on-focus")}),ce.on("blur",()=>{this.$emit("on-blur")}))}};return this.autoSize&&le.plugins.push("autoresize"),this.minHeight>0&&(le.min_height=this.minHeight),le},closeFull(){this.content=this.getContent(),this.$emit("input",this.content),this.$emit("on-blur"),this.transfer=!1,this.editorT!=null&&(this.editorT.destroy(),this.editorT=null)},transferChange(N){!N&&this.editorT!=null&&(this.content=this.editorT.getContent(),this.$emit("input",this.content),this.editorT.destroy(),this.editorT=null)},getEditor(){return this.transfer?this.editorT:this.editor},concatAssciativeArrays(N,de){if(de.length===0)return N;if(N.length===0)return de;let le=[];for(let ce in N)N.hasOwnProperty(ce)&&(le[ce]=N[ce]);for(let ce in de)de.hasOwnProperty(ce)&&(le[ce]=de[ce]);return le},submitNewContent(){this.isTyping=!0,this.checkerTimeout!==null&&clearTimeout(this.checkerTimeout),this.checkerTimeout=setTimeout(()=>{this.isTyping=!1},300),this.$emit("input",this.getContent())},insertContent(N){this.getEditor()!==null?this.getEditor().insertContent(N):this.content+=N},getContent(){return this.getEditor()===null?"":this.getEditor().getContent()},setContent(N){this.getEditor()===null?this.content=N:N!=this.getEditor().getContent()&&this.getEditor().setContent(N)},focus(){return this.getEditor()===null?"":this.getEditor().focus()},insertImage(N){this.insertContent('<img src="'+N+'">')},editorImage(N){for(let de=0;de<N.length;de++){let le=N[de];typeof le=="object"&&typeof le.url=="string"&&this.insertImage(le.url)}},getValueImages(){const N=[],de=/<img.*?(?:>|\/>)/gi,le=new RegExp(`src=(["'])([^'"]*)\\1`),ce=new RegExp('original-width="(\\d+)"'),Fe=new RegExp('original-height="(\\d+)"'),bt=(this.getContent()+"").match(de);if(bt)for(let Cr=0;Cr<bt.length;Cr++){const Vi=bt[Cr].match(le),Ka=bt[Cr].match(ce),qi=bt[Cr].match(Fe);Vi&&N.push({src:Vi[2],width:Ka?Ka[1]:-1,height:qi?qi[1]:-1})}return N},handleProgress(N,de){de._uploadIng===void 0&&(de._uploadIng=!0,this.uploadIng++)},handleSuccess(N,de){this.uploadIng--,N.ret===1?this.insertContent(`<a href="${N.data.url}" target="_blank">${N.data.name} (${$A.bytesToSize(N.data.size*1024)})</a>`):$A.noticeWarning({title:this.$L("\u4E0A\u4F20\u5931\u8D25"),desc:this.$L("\u6587\u4EF6 "+de.name+" \u4E0A\u4F20\u5931\u8D25\uFF0C"+N.msg)})},handleError(){this.uploadIng--},handleFormatError(N){$A.noticeWarning({title:this.$L("\u6587\u4EF6\u683C\u5F0F\u4E0D\u6B63\u786E"),desc:this.$L("\u6587\u4EF6 "+N.name+" \u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u4EC5\u652F\u6301\u4E0A\u4F20\uFF1A"+this.uploadFormat.join(","))})},handleMaxSize(N){$A.noticeWarning({title:this.$L("\u8D85\u51FA\u6587\u4EF6\u5927\u5C0F\u9650\u5236"),desc:this.$L("\u6587\u4EF6 "+N.name+" \u592A\u5927\uFF0C\u4E0D\u80FD\u8D85\u8FC7\uFF1A"+$A.bytesToSize(this.maxSize*1024))})},handleBeforeUpload(){return!0},selectTask(N){N=="search"&&(this.page=1),this.loadIng++,this.$store.dispatch("call",{url:"project/task/correlation",data:{keyword:this.keyword,project_id:this.project,page:this.page,pagesize:Math.max($A.runNum(this.pageSize),10)}}).then(({data:de})=>{this.loadIng--,this.todayTaskList=de.data,this.insertTaskModelShow=!0,this.total=de.total,this.todayTaskListNoText="\u6CA1\u6709\u76F8\u5173\u7684\u6570\u636E"}).catch(()=>{this.loadIng--,this.noText="\u6570\u636E\u52A0\u8F7D\u5931\u8D25"})},remoteMethod(N){N!==""?(this.loadIng++,this.projectPage=1,this.$store.dispatch("call",{url:"project/personal/list",data:{keyword:N,page:this.projectPage,pagesize:20}}).then(({data:de})=>{this.loadIng--,this.projectList=de.data,this.next_page_url=de.next_page_url}).catch(()=>{this.loadIng--})):this.project=""},remoteMethodClear(N){N==""&&(this.loadIng++,this.projectPage=1,this.$store.dispatch("call",{url:"project/personal/list",data:{keyword:N,page:this.projectPage,pagesize:20}}).then(({data:de})=>{this.loadIng--,this.projectList=de.data,this.next_page_url=de.next_page_url}).catch(()=>{this.loadIng--}))},moreProject(){this.loadIng++,this.projectPage++,this.$store.dispatch("call",{url:"project/personal/list",data:{page:this.projectPage,pagesize:20}}).then(({data:N})=>{this.loadIng--,N.data.forEach(de=>{this.projectList.push(de)}),this.next_page_url=N.next_page_url}).catch(()=>{this.loadIng--})},setPage(N){this.page=N,this.selectTask()},setPageSize(N){this.pageSize=N,console.log(N)},selectChange(N){this.todayTask=[],N.forEach(de=>{this.todayTask.push(de)})},insertTask(){let N=Wc.activeEditor,de="";this.todayTask.forEach(le=>{de=de+` <a class='task-open' contenteditable='false' style='cursor: pointer;color:#8bcf70;' data-id='${le.id}'>[${le.project.name}-${le.name}]</a>`}),N.execCommand("mceInsertContent",!0,de),this.todayTask=[],this.insertTaskModelShow=!1},openTask(N){this.$store.dispatch("openTask",N)}}},FC={};var c2=o2(l2,s2,f2,!1,v2,null,null,null);function v2(N){for(let de in FC)this[de]=FC[de]}var m2=function(){return c2.exports}();export{m2 as default};
